(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[883,912],{1082:(e,r,t)=>{"use strict";t.d(r,{h:()=>s});var n=t(9740);function s(){let{userDoc:e,loading:r,uid:t}=(0,n.T)();return{role:null==e?void 0:e.role,loading:r,uid:t,userDoc:e}}},2173:(e,r,t)=>{"use strict";t.d(r,{RoleGate:()=>a});var n=t(912),s=t(4012),i=t(5951),o=t(1082);function a(e){let{children:r,allowedRole:t}=e,{role:a,loading:l}=(0,o.h)(),u=(0,i.useRouter)();return((0,s.useEffect)(()=>{if(!l){if(!a)return void u.push("/v2/select-role");a!==t&&("customer"===a?u.push("/v2/customer/jobs"):u.push("/v2/courier/dashboard"))}},[a,l,t,u]),l)?(0,n.jsx)("div",{style:{padding:"50px",textAlign:"center"},children:(0,n.jsx)("p",{children:"Loading..."})}):a&&a===t?(0,n.jsx)(n.Fragment,{children:r}):null}},4414:(e,r,t)=>{"use strict";t.d(r,{Navbar:()=>u});var n=t(912),s=t(5951),i=t(8213),o=t(7492),a=t(5284),l=t(1082);function u(e){let{children:r}=e,{user:t}=(0,a.Z)(),{role:u}=(0,l.h)(),d=(0,s.useRouter)(),c=async()=>{try{await (0,i.CI)(o.j2),d.push("/v2/login")}catch(e){console.error("Sign out error:",e)}};return t?(0,n.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[(0,n.jsxs)("nav",{style:{background:"#6E56CF",color:"white",padding:"12px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[(0,n.jsx)("a",{href:"/v2",style:{color:"white",textDecoration:"none",fontWeight:"600",fontSize:"18px"},children:"GoSenderr"}),u&&(0,n.jsx)("span",{style:{padding:"4px 12px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",fontSize:"12px",textTransform:"capitalize"},children:"customer"===u?"\uD83D\uDCE6 Customer":"\uD83D\uDE97 Courier"})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:["customer"===u&&(0,n.jsx)("a",{href:"/v2/customer/jobs",style:{color:"white",textDecoration:"none",fontSize:"14px"},children:"My Jobs"}),"courier"===u&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{href:"/v2/courier/dashboard",style:{color:"white",textDecoration:"none",fontSize:"14px"},children:"Dashboard"}),(0,n.jsx)("a",{href:"/v2/courier/setup",style:{color:"white",textDecoration:"none",fontSize:"14px"},children:"Setup"})]}),(0,n.jsx)("span",{style:{color:"rgba(255,255,255,0.7)",fontSize:"14px"},children:t.email}),(0,n.jsx)("button",{onClick:c,style:{padding:"6px 12px",background:"rgba(255,255,255,0.2)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Sign Out"})]})]}),(0,n.jsx)("div",{style:{flex:1},children:r})]}):(0,n.jsx)(n.Fragment,{children:r})}},4731:(e,r,t)=>{"use strict";t.d(r,{AuthGate:()=>a});var n=t(912),s=t(4012),i=t(5951),o=t(5284);function a(e){let{children:r}=e,{user:t,loading:a}=(0,o.Z)(),l=(0,i.useRouter)();return((0,s.useEffect)(()=>{a||t||l.push("/v2/login")},[t,a,l]),a)?(0,n.jsx)("div",{style:{padding:"50px",textAlign:"center"},children:(0,n.jsx)("p",{children:"Loading..."})}):t?(0,n.jsx)(n.Fragment,{children:r}):null}},5284:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var n=t(4012),s=t(8213),i=t(7492);function o(){let[e,r]=(0,n.useState)(void 0);return(0,n.useEffect)(()=>{let e=(0,s.hg)(i.j2,e=>{r(e)});return()=>e()},[]),{user:e,loading:void 0===e,uid:null==e?void 0:e.uid}}},5951:(e,r,t)=>{"use strict";var n=t(4631);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}})},7492:(e,r,t)=>{"use strict";t.d(r,{j2:()=>i});var n=t(8213),s=t(9685);let i=(0,n.xI)(s.y)},7970:(e,r,t)=>{Promise.resolve().then(t.bind(t,4731)),Promise.resolve().then(t.bind(t,4414)),Promise.resolve().then(t.bind(t,2173))},9685:(e,r,t)=>{"use strict";t.d(r,{db:()=>o,y:()=>i});var n=t(5941),s=t(4555);let i=(0,n.Dk)().length?(0,n.Sx)():(0,n.Wp)({apiKey:"AIzaSyAqfUspCXI4-IESvMHeu-7CV-BWjpWLSZ8",authDomain:"gosenderr-6773f.firebaseapp.com",projectId:"gosenderr-6773f",storageBucket:"gosenderr-6773f.firebasestorage.app",messagingSenderId:"92006199493",appId:"1:92006199493:web:6342270d7a40a312aa00ac"}),o=(0,s.aU)(i)},9740:(e,r,t)=>{"use strict";t.d(r,{T:()=>a});var n=t(4012),s=t(4555),i=t(9685),o=t(5284);function a(){let{uid:e,loading:r}=(0,o.Z)(),[t,a]=(0,n.useState)(void 0),[l,u]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{if(r)return void u(!0);if(!e){a(null),u(!1);return}let t=(0,s.aQ)((0,s.H9)(i.db,"users",e),e=>{e.exists()?a(e.data()):a(null),u(!1)},e=>{console.error("Error fetching user doc:",e),a(null),u(!1)});return()=>t()},[e,r]),{userDoc:t,loading:l,uid:e}}}},e=>{e.O(0,[680,661,825,846,808,4,358],()=>e(e.s=7970)),_N_E=e.O()}]);