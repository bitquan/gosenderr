name: Senderr App - Flow Audit Reminder

on:
  schedule:
    # Run at 10:00 UTC on the 1st of every month
    - cron: '0 10 1 * *'
  workflow_dispatch: {}

jobs:
  create-audit-issue:
    name: Create monthly audit issue
    runs-on: ubuntu-latest
    steps:
      - name: Create audit issue
        uses: peter-evans/create-issue@v4
        with:
          title: "Audit: Senderr critical flows - {{year}}-{{month}}"
          body: |
            This is an automated reminder to run the Senderr flow audit for {{year}}-{{month}}.

            Steps:
            - Run checklist from `docs/senderr_app/AUDIT.md`
            - Create issues for any drift and assign to Senderr `CODEOWNERS`

            When done, close this issue and link follow-up PRs.
          labels: audit
          assignees: bitquan
