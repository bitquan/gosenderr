const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/mapbox-gl-Cmfnf5Ea.js","assets/vendor-BpddAYff.js","assets/maps-EHn3Z3R7.js"])))=>i.map(i=>d[i]);
var _A=Object.defineProperty;var FA=(e,n,s)=>n in e?_A(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s;var hf=(e,n,s)=>FA(e,typeof n!="symbol"?n+"":n,s);import{r as HA,a as GA,g as c1,b as k,u as Hh,L as Zt,O as u1,c as An,d as qA,e as YA,R as XA,f as zt,N as d1,h as IA,B as KA}from"./vendor-BpddAYff.js";import{_ as WA,C as ZA,r as ix,a as QA,b as JA,g as Gh,c as e3,d as qh,i as t3,p as n3,u as i3,F as s3,e as f1,f as h1,h as m1,j as a3,k as r3,l as p1,m as g1,o as y1,s as o3,n as Ro,q as xt,t as vc,v as bc,w as l3,x as Is,y as x1,z as si,A as ii,B as c3,D as u3,E as v1,G as b1,H as S1,I as w1,J as Hc,K as sx}from"./firebase-lNlhtYZB.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();var mf={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ax;function d3(){if(ax)return to;ax=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(a,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:e,type:a,key:u,ref:o!==void 0?o:null,props:c}}return to.Fragment=n,to.jsx=s,to.jsxs=s,to}var rx;function f3(){return rx||(rx=1,mf.exports=d3()),mf.exports}var f=f3(),pf={exports:{}},no={},gf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox;function h3(){return ox||(ox=1,(function(e){function n(E,A){var P=E.length;E.push(A);e:for(;0<P;){var U=P-1>>>1,I=E[U];if(0<o(I,A))E[U]=A,E[P]=I,P=U;else break e}}function s(E){return E.length===0?null:E[0]}function a(E){if(E.length===0)return null;var A=E[0],P=E.pop();if(P!==A){E[0]=P;e:for(var U=0,I=E.length,oe=I>>>1;U<oe;){var te=2*(U+1)-1,ie=E[te],Q=te+1,ee=E[Q];if(0>o(ie,P))Q<I&&0>o(ee,ie)?(E[U]=ee,E[Q]=P,U=Q):(E[U]=ie,E[te]=P,U=te);else if(Q<I&&0>o(ee,P))E[U]=ee,E[Q]=P,U=Q;else break e}}return A}function o(E,A){var P=E.sortIndex-A.sortIndex;return P!==0?P:E.id-A.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var m=[],y=[],p=1,g=null,x=3,b=!1,S=!1,T=!1,M=!1,C=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function O(E){for(var A=s(y);A!==null;){if(A.callback===null)a(y);else if(A.startTime<=E)a(y),A.sortIndex=A.expirationTime,n(m,A);else break;A=s(y)}}function _(E){if(T=!1,O(E),!S)if(s(m)!==null)S=!0,D||(D=!0,$());else{var A=s(y);A!==null&&Y(_,A.startTime-E)}}var D=!1,q=-1,j=5,N=-1;function V(){return M?!0:!(e.unstable_now()-N<j)}function B(){if(M=!1,D){var E=e.unstable_now();N=E;var A=!0;try{e:{S=!1,T&&(T=!1,L(q),q=-1),b=!0;var P=x;try{t:{for(O(E),g=s(m);g!==null&&!(g.expirationTime>E&&V());){var U=g.callback;if(typeof U=="function"){g.callback=null,x=g.priorityLevel;var I=U(g.expirationTime<=E);if(E=e.unstable_now(),typeof I=="function"){g.callback=I,O(E),A=!0;break t}g===s(m)&&a(m),O(E)}else a(m);g=s(m)}if(g!==null)A=!0;else{var oe=s(y);oe!==null&&Y(_,oe.startTime-E),A=!1}}break e}finally{g=null,x=P,b=!1}A=void 0}}finally{A?$():D=!1}}}var $;if(typeof z=="function")$=function(){z(B)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,F=H.port2;H.port1.onmessage=B,$=function(){F.postMessage(null)}}else $=function(){C(B,0)};function Y(E,A){q=C(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(E){switch(x){case 1:case 2:case 3:var A=3;break;default:A=x}var P=x;x=A;try{return E()}finally{x=P}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var P=x;x=E;try{return A()}finally{x=P}},e.unstable_scheduleCallback=function(E,A,P){var U=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?U+P:U):P=U,E){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=P+I,E={id:p++,callback:A,priorityLevel:E,startTime:P,expirationTime:I,sortIndex:-1},P>U?(E.sortIndex=P,n(y,E),s(m)===null&&E===s(y)&&(T?(L(q),q=-1):T=!0,Y(_,P-U))):(E.sortIndex=I,n(m,E),S||b||(S=!0,D||(D=!0,$()))),E},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(E){var A=x;return function(){var P=x;x=A;try{return E.apply(this,arguments)}finally{x=P}}}})(yf)),yf}var lx;function m3(){return lx||(lx=1,gf.exports=h3()),gf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx;function p3(){if(cx)return no;cx=1;var e=m3(),n=HA(),s=GA();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function u(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,l=i;;){var h=r.return;if(h===null)break;var v=h.alternate;if(v===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===r)return m(h),t;if(v===l)return m(h),i;v=v.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=v;else{for(var w=!1,R=h.child;R;){if(R===r){w=!0,r=h,l=v;break}if(R===l){w=!0,l=h,r=v;break}R=R.sibling}if(!w){for(R=v.child;R;){if(R===r){w=!0,r=v,l=h;break}if(R===l){w=!0,l=v,r=h;break}R=R.sibling}if(!w)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function $(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var H=Symbol.for("react.client.reference");function F(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===H?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case C:return"Profiler";case M:return"StrictMode";case _:return"Suspense";case D:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case z:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case O:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return i=t.displayName||null,i!==null?i:F(t.type)||"Memo";case j:i=t._payload,t=t._init;try{return F(t(i))}catch{}}return null}var Y=Array.isArray,E=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,A=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},U=[],I=-1;function oe(t){return{current:t}}function te(t){0>I||(t.current=U[I],U[I]=null,I--)}function ie(t,i){I++,U[I]=t.current,t.current=i}var Q=oe(null),ee=oe(null),ue=oe(null),de=oe(null);function je(t,i){switch(ie(ue,i),ie(ee,t),ie(Q,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Cy(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Cy(i),t=Ey(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(Q),ie(Q,t)}function xe(){te(Q),te(ee),te(ue)}function Ee(t){t.memoizedState!==null&&ie(de,t);var i=Q.current,r=Ey(i,t.type);i!==r&&(ie(ee,t),ie(Q,r))}function le(t){ee.current===t&&(te(Q),te(ee)),de.current===t&&(te(de),Zr._currentValue=P)}var fe,ve;function Ae(t){if(fe===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);fe=i&&i[1]||"",ve=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+t+ve}var Ve=!1;function Me(t,i){if(!t||Ve)return"";Ve=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(ne){var J=ne}Reflect.construct(t,[],re)}else{try{re.call()}catch(ne){J=ne}t.call(re.prototype)}}else{try{throw Error()}catch(ne){J=ne}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(ne){if(ne&&J&&typeof ne.stack=="string")return[ne.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=l.DetermineComponentFrameRoot(),w=v[0],R=v[1];if(w&&R){var G=w.split(`
`),Z=R.split(`
`);for(h=l=0;l<G.length&&!G[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(l===G.length||h===Z.length)for(l=G.length-1,h=Z.length-1;1<=l&&0<=h&&G[l]!==Z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(G[l]!==Z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||G[l]!==Z[h]){var se=`
`+G[l].replace(" at new "," at ");return t.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",t.displayName)),se}while(1<=l&&0<=h);break}}}finally{Ve=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ae(r):""}function He(t,i){switch(t.tag){case 26:case 27:case 5:return Ae(t.type);case 16:return Ae("Lazy");case 13:return t.child!==i&&i!==null?Ae("Suspense Fallback"):Ae("Suspense");case 19:return Ae("SuspenseList");case 0:case 15:return Me(t.type,!1);case 11:return Me(t.type.render,!1);case 1:return Me(t.type,!0);case 31:return Ae("Activity");default:return""}}function Be(t){try{var i="",r=null;do i+=He(t,r),r=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tt=Object.prototype.hasOwnProperty,st=e.unstable_scheduleCallback,Ye=e.unstable_cancelCallback,vt=e.unstable_shouldYield,We=e.unstable_requestPaint,Te=e.unstable_now,Ot=e.unstable_getCurrentPriorityLevel,an=e.unstable_ImmediatePriority,Kn=e.unstable_UserBlockingPriority,ct=e.unstable_NormalPriority,Cn=e.unstable_LowPriority,bt=e.unstable_IdlePriority,It=e.log,$t=e.unstable_setDisableYieldValue,Pt=null,nt=null;function Dt(t){if(typeof It=="function"&&$t(t),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Pt,t)}catch{}}var Tt=Math.clz32?Math.clz32:vs,Js=Math.log,Oi=Math.LN2;function vs(t){return t>>>=0,t===0?32:31-(Js(t)/Oi|0)|0}var ce=256,Re=262144,Ge=4194304;function Ue(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dt(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,v=t.suspendedLanes,w=t.pingedLanes;t=t.warmLanes;var R=l&134217727;return R!==0?(l=R&~v,l!==0?h=Ue(l):(w&=R,w!==0?h=Ue(w):r||(r=R&~t,r!==0&&(h=Ue(r))))):(R=l&~v,R!==0?h=Ue(R):w!==0?h=Ue(w):r||(r=l&~t,r!==0&&(h=Ue(r)))),h===0?0:i!==0&&i!==h&&(i&v)===0&&(v=h&-h,r=i&-i,v>=r||v===32&&(r&4194048)!==0)?i:h}function Ze(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function en(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $e(){var t=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),t}function Rt(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Wn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fo(t,i,r,l,h,v){var w=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var R=t.entanglements,G=t.expirationTimes,Z=t.hiddenUpdates;for(r=w&~r;0<r;){var se=31-Tt(r),re=1<<se;R[se]=0,G[se]=-1;var J=Z[se];if(J!==null)for(Z[se]=null,se=0;se<J.length;se++){var ne=J[se];ne!==null&&(ne.lane&=-536870913)}r&=~re}l!==0&&lp(t,l,0),v!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=v&~(w&~i))}function lp(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Tt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function cp(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-Tt(r),h=1<<l;h&i|t[l]&i&&(t[l]|=i),r&=~h}}function up(t,i){var r=i&-i;return r=(r&42)!==0?1:tu(r),(r&(t.suspendedLanes|i))!==0?0:r}function tu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function nu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function dp(){var t=A.p;return t!==0?t:(t=window.event,t===void 0?32:Wy(t.type))}function fp(t,i){var r=A.p;try{return A.p=t,i()}finally{A.p=r}}var Pi=Math.random().toString(36).slice(2),_t="__reactFiber$"+Pi,rn="__reactProps$"+Pi,ea="__reactContainer$"+Pi,iu="__reactEvents$"+Pi,Dj="__reactListeners$"+Pi,Rj="__reactHandles$"+Pi,hp="__reactResources$"+Pi,fr="__reactMarker$"+Pi;function su(t){delete t[_t],delete t[rn],delete t[iu],delete t[Dj],delete t[Rj]}function ta(t){var i=t[_t];if(i)return i;for(var r=t.parentNode;r;){if(i=r[ea]||r[_t]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=Vy(t);t!==null;){if(r=t[_t])return r;t=Vy(t)}return i}t=r,r=t.parentNode}return null}function na(t){if(t=t[_t]||t[ea]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function hr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ia(t){var i=t[hp];return i||(i=t[hp]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Bt(t){t[fr]=!0}var mp=new Set,pp={};function bs(t,i){sa(t,i),sa(t+"Capture",i)}function sa(t,i){for(pp[t]=i,t=0;t<i.length;t++)mp.add(i[t])}var kj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gp={},yp={};function zj(t){return tt.call(yp,t)?!0:tt.call(gp,t)?!1:kj.test(t)?yp[t]=!0:(gp[t]=!0,!1)}function Ho(t,i,r){if(zj(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Go(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function ci(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}function En(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xp(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vj(t,i,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,v=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){r=""+w,v.call(this,w)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(w){r=""+w},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function au(t){if(!t._valueTracker){var i=xp(t)?"checked":"value";t._valueTracker=Vj(t,i,""+t[i])}}function vp(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=xp(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function qo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lj=/[\n"\\]/g;function Mn(t){return t.replace(Lj,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ru(t,i,r,l,h,v,w,R){t.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.type=w:t.removeAttribute("type"),i!=null?w==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+En(i)):t.value!==""+En(i)&&(t.value=""+En(i)):w!=="submit"&&w!=="reset"||t.removeAttribute("value"),i!=null?ou(t,w,En(i)):r!=null?ou(t,w,En(r)):l!=null&&t.removeAttribute("value"),h==null&&v!=null&&(t.defaultChecked=!!v),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+En(R):t.removeAttribute("name")}function bp(t,i,r,l,h,v,w,R){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),i!=null||r!=null){if(!(v!=="submit"&&v!=="reset"||i!=null)){au(t);return}r=r!=null?""+En(r):"",i=i!=null?""+En(i):r,R||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=R?t.checked:!!l,t.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(t.name=w),au(t)}function ou(t,i,r){i==="number"&&qo(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function aa(t,i,r,l){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+En(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Sp(t,i,r){if(i!=null&&(i=""+En(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+En(r):""}function wp(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(Y(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=En(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),au(t)}function ra(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Oj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jp(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||Oj.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Tp(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&r[h]!==l&&jp(t,h,l)}else for(var v in i)i.hasOwnProperty(v)&&jp(t,v,i[v])}function lu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yo(t){return Bj.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var cu=null;function uu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oa=null,la=null;function Ap(t){var i=na(t);if(i&&(t=i.stateNode)){var r=t[rn]||null;e:switch(t=i.stateNode,i.type){case"input":if(ru(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Mn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var h=l[rn]||null;if(!h)throw Error(a(90));ru(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&vp(l)}break e;case"textarea":Sp(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&aa(t,!!r.multiple,i,!1)}}}var du=!1;function Cp(t,i,r){if(du)return t(i,r);du=!0;try{var l=t(i);return l}finally{if(du=!1,(oa!==null||la!==null)&&(zl(),oa&&(i=oa,t=la,la=oa=null,Ap(i),t)))for(i=0;i<t.length;i++)Ap(t[i])}}function mr(t,i){var r=t.stateNode;if(r===null)return null;var l=r[rn]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fu=!1;if(di)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){fu=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{fu=!1}var Bi=null,hu=null,Xo=null;function Ep(){if(Xo)return Xo;var t,i=hu,r=i.length,l,h="value"in Bi?Bi.value:Bi.textContent,v=h.length;for(t=0;t<r&&i[t]===h[t];t++);var w=r-t;for(l=1;l<=w&&i[r-l]===h[v-l];l++);return Xo=h.slice(t,1<l?1-l:void 0)}function Io(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ko(){return!0}function Mp(){return!1}function on(t){function i(r,l,h,v,w){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(r=t[R],this[R]=r?r(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ko:Mp,this.isPropagationStopped=Mp,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),i}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=on(Ss),gr=g({},Ss,{view:0,detail:0}),Uj=on(gr),mu,pu,yr,Zo=g({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yr&&(yr&&t.type==="mousemove"?(mu=t.screenX-yr.screenX,pu=t.screenY-yr.screenY):pu=mu=0,yr=t),mu)},movementY:function(t){return"movementY"in t?t.movementY:pu}}),Np=on(Zo),$j=g({},Zo,{dataTransfer:0}),_j=on($j),Fj=g({},gr,{relatedTarget:0}),gu=on(Fj),Hj=g({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Gj=on(Hj),qj=g({},Ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yj=on(qj),Xj=g({},Ss,{data:0}),Dp=on(Xj),Ij={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zj(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wj[t])?!!i[t]:!1}function yu(){return Zj}var Qj=g({},gr,{key:function(t){if(t.key){var i=Ij[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Io(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(t){return t.type==="keypress"?Io(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Io(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jj=on(Qj),eT=g({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rp=on(eT),tT=g({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),nT=on(tT),iT=g({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),sT=on(iT),aT=g({},Zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rT=on(aT),oT=g({},Ss,{newState:0,oldState:0}),lT=on(oT),cT=[9,13,27,32],xu=di&&"CompositionEvent"in window,xr=null;di&&"documentMode"in document&&(xr=document.documentMode);var uT=di&&"TextEvent"in window&&!xr,kp=di&&(!xu||xr&&8<xr&&11>=xr),zp=" ",Vp=!1;function Lp(t,i){switch(t){case"keyup":return cT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ca=!1;function dT(t,i){switch(t){case"compositionend":return Op(i);case"keypress":return i.which!==32?null:(Vp=!0,zp);case"textInput":return t=i.data,t===zp&&Vp?null:t;default:return null}}function fT(t,i){if(ca)return t==="compositionend"||!xu&&Lp(t,i)?(t=Ep(),Xo=hu=Bi=null,ca=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return kp&&i.locale!=="ko"?null:i.data;default:return null}}var hT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!hT[t.type]:i==="textarea"}function Bp(t,i,r,l){oa?la?la.push(l):la=[l]:oa=l,i=$l(i,"onChange"),0<i.length&&(r=new Wo("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var vr=null,br=null;function mT(t){by(t,0)}function Qo(t){var i=hr(t);if(vp(i))return t}function Up(t,i){if(t==="change")return i}var $p=!1;if(di){var vu;if(di){var bu="oninput"in document;if(!bu){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),bu=typeof _p.oninput=="function"}vu=bu}else vu=!1;$p=vu&&(!document.documentMode||9<document.documentMode)}function Fp(){vr&&(vr.detachEvent("onpropertychange",Hp),br=vr=null)}function Hp(t){if(t.propertyName==="value"&&Qo(br)){var i=[];Bp(i,br,t,uu(t)),Cp(mT,i)}}function pT(t,i,r){t==="focusin"?(Fp(),vr=i,br=r,vr.attachEvent("onpropertychange",Hp)):t==="focusout"&&Fp()}function gT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(br)}function yT(t,i){if(t==="click")return Qo(i)}function xT(t,i){if(t==="input"||t==="change")return Qo(i)}function vT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:vT;function Sr(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!tt.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function Gp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qp(t,i){var r=Gp(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gp(r)}}function Yp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Yp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=qo(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=qo(t.document)}return i}function Su(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var bT=di&&"documentMode"in document&&11>=document.documentMode,ua=null,wu=null,wr=null,ju=!1;function Ip(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ju||ua==null||ua!==qo(l)||(l=ua,"selectionStart"in l&&Su(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wr&&Sr(wr,l)||(wr=l,l=$l(wu,"onSelect"),0<l.length&&(i=new Wo("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=ua)))}function ws(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var da={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Tu={},Kp={};di&&(Kp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function js(t){if(Tu[t])return Tu[t];if(!da[t])return t;var i=da[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Kp)return Tu[t]=i[r];return t}var Wp=js("animationend"),Zp=js("animationiteration"),Qp=js("animationstart"),ST=js("transitionrun"),wT=js("transitionstart"),jT=js("transitioncancel"),Jp=js("transitionend"),eg=new Map,Au="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Au.push("scrollEnd");function Fn(t,i){eg.set(t,i),bs(i,[t])}var Jo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],fa=0,Cu=0;function el(){for(var t=fa,i=Cu=fa=0;i<t;){var r=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var v=Nn[i];if(Nn[i++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}v!==0&&tg(r,h,v)}}function tl(t,i,r,l){Nn[fa++]=t,Nn[fa++]=i,Nn[fa++]=r,Nn[fa++]=l,Cu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Eu(t,i,r,l){return tl(t,i,r,l),nl(t)}function Ts(t,i){return tl(t,null,null,i),nl(t)}function tg(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,v=t.return;v!==null;)v.childLanes|=r,l=v.alternate,l!==null&&(l.childLanes|=r),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(h=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,h&&i!==null&&(h=31-Tt(r),t=v.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=r|536870912),v):null}function nl(t){if(50<Gr)throw Gr=0,Od=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ha={};function TT(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,r,l){return new TT(t,i,r,l)}function Mu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,i){var r=t.alternate;return r===null?(r=yn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function ng(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function il(t,i,r,l,h,v){var w=0;if(l=t,typeof t=="function")Mu(t)&&(w=1);else if(typeof t=="string")w=NA(t,r,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=yn(31,r,i,h),t.elementType=N,t.lanes=v,t;case T:return As(r.children,h,v,i);case M:w=8,h|=24;break;case C:return t=yn(12,r,i,h|2),t.elementType=C,t.lanes=v,t;case _:return t=yn(13,r,i,h),t.elementType=_,t.lanes=v,t;case D:return t=yn(19,r,i,h),t.elementType=D,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:w=10;break e;case L:w=9;break e;case O:w=11;break e;case q:w=14;break e;case j:w=16,l=null;break e}w=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=yn(w,r,i,h),i.elementType=t,i.type=l,i.lanes=v,i}function As(t,i,r,l){return t=yn(7,t,l,i),t.lanes=r,t}function Nu(t,i,r){return t=yn(6,t,null,i),t.lanes=r,t}function ig(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function Du(t,i,r){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var sg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var r=sg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Be(i)},sg.set(t,i),i)}return{value:t,source:i,stack:Be(i)}}var ma=[],pa=0,sl=null,jr=0,Rn=[],kn=0,Ui=null,Zn=1,Qn="";function hi(t,i){ma[pa++]=jr,ma[pa++]=sl,sl=t,jr=i}function ag(t,i,r){Rn[kn++]=Zn,Rn[kn++]=Qn,Rn[kn++]=Ui,Ui=t;var l=Zn;t=Qn;var h=32-Tt(l)-1;l&=~(1<<h),r+=1;var v=32-Tt(i)+h;if(30<v){var w=h-h%5;v=(l&(1<<w)-1).toString(32),l>>=w,h-=w,Zn=1<<32-Tt(i)+h|r<<h|l,Qn=v+t}else Zn=1<<v|r<<h|l,Qn=t}function Ru(t){t.return!==null&&(hi(t,1),ag(t,1,0))}function ku(t){for(;t===sl;)sl=ma[--pa],ma[pa]=null,jr=ma[--pa],ma[pa]=null;for(;t===Ui;)Ui=Rn[--kn],Rn[kn]=null,Qn=Rn[--kn],Rn[kn]=null,Zn=Rn[--kn],Rn[kn]=null}function rg(t,i){Rn[kn++]=Zn,Rn[kn++]=Qn,Rn[kn++]=Ui,Zn=i.id,Qn=i.overflow,Ui=t}var Ft=null,at=null,Pe=!1,$i=null,zn=!1,zu=Error(a(519));function _i(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tr(Dn(i,t)),zu}function og(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[_t]=t,i[rn]=l,r){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(r=0;r<Yr.length;r++)ze(Yr[r],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),bp(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),wp(i,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||Ty(i.textContent,r)?(l.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),l.onScroll!=null&&ze("scroll",i),l.onScrollEnd!=null&&ze("scrollend",i),l.onClick!=null&&(i.onclick=ui),i=!0):i=!1,i||_i(t,!0)}function lg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ft=Ft.return}}function ga(t){if(t!==Ft)return!1;if(!Pe)return lg(t),Pe=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zd(t.type,t.memoizedProps)),r=!r),r&&at&&_i(t),lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=zy(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=zy(t)}else i===27?(i=at,ts(t.type)?(t=nf,nf=null,at=t):at=i):at=Ft?Ln(t.stateNode.nextSibling):null;return!0}function Cs(){at=Ft=null,Pe=!1}function Vu(){var t=$i;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),$i=null),t}function Tr(t){$i===null?$i=[t]:$i.push(t)}var Lu=oe(null),Es=null,mi=null;function Fi(t,i,r){ie(Lu,i._currentValue),i._currentValue=r}function pi(t){t._currentValue=Lu.current,te(Lu)}function Ou(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function Pu(t,i,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){var w=h.child;v=v.firstContext;e:for(;v!==null;){var R=v;v=h;for(var G=0;G<i.length;G++)if(R.context===i[G]){v.lanes|=r,R=v.alternate,R!==null&&(R.lanes|=r),Ou(v.return,r,t),l||(w=null);break e}v=R.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(a(341));w.lanes|=r,v=w.alternate,v!==null&&(v.lanes|=r),Ou(w,r,t),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===t){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function ya(t,i,r,l){t=null;for(var h=i,v=!1;h!==null;){if(!v){if((h.flags&524288)!==0)v=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(a(387));if(w=w.memoizedProps,w!==null){var R=h.type;gn(h.pendingProps.value,w.value)||(t!==null?t.push(R):t=[R])}}else if(h===de.current){if(w=h.alternate,w===null)throw Error(a(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zr):t=[Zr])}h=h.return}t!==null&&Pu(i,t,r,l),i.flags|=262144}function al(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Es=t,mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return cg(Es,t)}function rl(t,i){return Es===null&&Ms(t),cg(t,i)}function cg(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},mi===null){if(t===null)throw Error(a(308));mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else mi=mi.next=i;return r}var AT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},CT=e.unstable_scheduleCallback,ET=e.unstable_NormalPriority,At={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bu(){return{controller:new AT,data:new Map,refCount:0}}function Ar(t){t.refCount--,t.refCount===0&&CT(ET,function(){t.controller.abort()})}var Cr=null,Uu=0,xa=0,va=null;function MT(t,i){if(Cr===null){var r=Cr=[];Uu=0,xa=Fd(),va={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Uu++,i.then(ug,ug),i}function ug(){if(--Uu===0&&Cr!==null){va!==null&&(va.status="fulfilled");var t=Cr;Cr=null,xa=0,va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function NT(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var dg=E.S;E.S=function(t,i){I0=Te(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&MT(t,i),dg!==null&&dg(t,i)};var Ns=oe(null);function $u(){var t=Ns.current;return t!==null?t:it.pooledCache}function ol(t,i){i===null?ie(Ns,Ns.current):ie(Ns,i.pool)}function fg(){var t=$u();return t===null?null:{parent:At._currentValue,pool:t}}var ba=Error(a(460)),_u=Error(a(474)),ll=Error(a(542)),cl={then:function(){}};function hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(ui,ui),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t;default:if(typeof i.status=="string")i.then(ui,ui);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t}throw Rs=i,ba}}function Ds(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Rs=r,ba):r}}var Rs=null;function pg(){if(Rs===null)throw Error(a(459));var t=Rs;return Rs=null,t}function gg(t){if(t===ba||t===ll)throw Error(a(483))}var Sa=null,Er=0;function ul(t){var i=Er;return Er+=1,Sa===null&&(Sa=[]),mg(Sa,t,i)}function Mr(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dl(t,i){throw i.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function yg(t){function i(K,X){if(t){var W=K.deletions;W===null?(K.deletions=[X],K.flags|=16):W.push(X)}}function r(K,X){if(!t)return null;for(;X!==null;)i(K,X),X=X.sibling;return null}function l(K){for(var X=new Map;K!==null;)K.key!==null?X.set(K.key,K):X.set(K.index,K),K=K.sibling;return X}function h(K,X){return K=fi(K,X),K.index=0,K.sibling=null,K}function v(K,X,W){return K.index=W,t?(W=K.alternate,W!==null?(W=W.index,W<X?(K.flags|=67108866,X):W):(K.flags|=67108866,X)):(K.flags|=1048576,X)}function w(K){return t&&K.alternate===null&&(K.flags|=67108866),K}function R(K,X,W,ae){return X===null||X.tag!==6?(X=Nu(W,K.mode,ae),X.return=K,X):(X=h(X,W),X.return=K,X)}function G(K,X,W,ae){var be=W.type;return be===T?se(K,X,W.props.children,ae,W.key):X!==null&&(X.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===j&&Ds(be)===X.type)?(X=h(X,W.props),Mr(X,W),X.return=K,X):(X=il(W.type,W.key,W.props,null,K.mode,ae),Mr(X,W),X.return=K,X)}function Z(K,X,W,ae){return X===null||X.tag!==4||X.stateNode.containerInfo!==W.containerInfo||X.stateNode.implementation!==W.implementation?(X=Du(W,K.mode,ae),X.return=K,X):(X=h(X,W.children||[]),X.return=K,X)}function se(K,X,W,ae,be){return X===null||X.tag!==7?(X=As(W,K.mode,ae,be),X.return=K,X):(X=h(X,W),X.return=K,X)}function re(K,X,W){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Nu(""+X,K.mode,W),X.return=K,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case b:return W=il(X.type,X.key,X.props,null,K.mode,W),Mr(W,X),W.return=K,W;case S:return X=Du(X,K.mode,W),X.return=K,X;case j:return X=Ds(X),re(K,X,W)}if(Y(X)||$(X))return X=As(X,K.mode,W,null),X.return=K,X;if(typeof X.then=="function")return re(K,ul(X),W);if(X.$$typeof===z)return re(K,rl(K,X),W);dl(K,X)}return null}function J(K,X,W,ae){var be=X!==null?X.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return be!==null?null:R(K,X,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return W.key===be?G(K,X,W,ae):null;case S:return W.key===be?Z(K,X,W,ae):null;case j:return W=Ds(W),J(K,X,W,ae)}if(Y(W)||$(W))return be!==null?null:se(K,X,W,ae,null);if(typeof W.then=="function")return J(K,X,ul(W),ae);if(W.$$typeof===z)return J(K,X,rl(K,W),ae);dl(K,W)}return null}function ne(K,X,W,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return K=K.get(W)||null,R(X,K,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return K=K.get(ae.key===null?W:ae.key)||null,G(X,K,ae,be);case S:return K=K.get(ae.key===null?W:ae.key)||null,Z(X,K,ae,be);case j:return ae=Ds(ae),ne(K,X,W,ae,be)}if(Y(ae)||$(ae))return K=K.get(W)||null,se(X,K,ae,be,null);if(typeof ae.then=="function")return ne(K,X,W,ul(ae),be);if(ae.$$typeof===z)return ne(K,X,W,rl(X,ae),be);dl(X,ae)}return null}function he(K,X,W,ae){for(var be=null,_e=null,ye=X,Ne=X=0,Oe=null;ye!==null&&Ne<W.length;Ne++){ye.index>Ne?(Oe=ye,ye=null):Oe=ye.sibling;var Fe=J(K,ye,W[Ne],ae);if(Fe===null){ye===null&&(ye=Oe);break}t&&ye&&Fe.alternate===null&&i(K,ye),X=v(Fe,X,Ne),_e===null?be=Fe:_e.sibling=Fe,_e=Fe,ye=Oe}if(Ne===W.length)return r(K,ye),Pe&&hi(K,Ne),be;if(ye===null){for(;Ne<W.length;Ne++)ye=re(K,W[Ne],ae),ye!==null&&(X=v(ye,X,Ne),_e===null?be=ye:_e.sibling=ye,_e=ye);return Pe&&hi(K,Ne),be}for(ye=l(ye);Ne<W.length;Ne++)Oe=ne(ye,K,Ne,W[Ne],ae),Oe!==null&&(t&&Oe.alternate!==null&&ye.delete(Oe.key===null?Ne:Oe.key),X=v(Oe,X,Ne),_e===null?be=Oe:_e.sibling=Oe,_e=Oe);return t&&ye.forEach(function(rs){return i(K,rs)}),Pe&&hi(K,Ne),be}function Se(K,X,W,ae){if(W==null)throw Error(a(151));for(var be=null,_e=null,ye=X,Ne=X=0,Oe=null,Fe=W.next();ye!==null&&!Fe.done;Ne++,Fe=W.next()){ye.index>Ne?(Oe=ye,ye=null):Oe=ye.sibling;var rs=J(K,ye,Fe.value,ae);if(rs===null){ye===null&&(ye=Oe);break}t&&ye&&rs.alternate===null&&i(K,ye),X=v(rs,X,Ne),_e===null?be=rs:_e.sibling=rs,_e=rs,ye=Oe}if(Fe.done)return r(K,ye),Pe&&hi(K,Ne),be;if(ye===null){for(;!Fe.done;Ne++,Fe=W.next())Fe=re(K,Fe.value,ae),Fe!==null&&(X=v(Fe,X,Ne),_e===null?be=Fe:_e.sibling=Fe,_e=Fe);return Pe&&hi(K,Ne),be}for(ye=l(ye);!Fe.done;Ne++,Fe=W.next())Fe=ne(ye,K,Ne,Fe.value,ae),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?Ne:Fe.key),X=v(Fe,X,Ne),_e===null?be=Fe:_e.sibling=Fe,_e=Fe);return t&&ye.forEach(function($A){return i(K,$A)}),Pe&&hi(K,Ne),be}function et(K,X,W,ae){if(typeof W=="object"&&W!==null&&W.type===T&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case b:e:{for(var be=W.key;X!==null;){if(X.key===be){if(be=W.type,be===T){if(X.tag===7){r(K,X.sibling),ae=h(X,W.props.children),ae.return=K,K=ae;break e}}else if(X.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===j&&Ds(be)===X.type){r(K,X.sibling),ae=h(X,W.props),Mr(ae,W),ae.return=K,K=ae;break e}r(K,X);break}else i(K,X);X=X.sibling}W.type===T?(ae=As(W.props.children,K.mode,ae,W.key),ae.return=K,K=ae):(ae=il(W.type,W.key,W.props,null,K.mode,ae),Mr(ae,W),ae.return=K,K=ae)}return w(K);case S:e:{for(be=W.key;X!==null;){if(X.key===be)if(X.tag===4&&X.stateNode.containerInfo===W.containerInfo&&X.stateNode.implementation===W.implementation){r(K,X.sibling),ae=h(X,W.children||[]),ae.return=K,K=ae;break e}else{r(K,X);break}else i(K,X);X=X.sibling}ae=Du(W,K.mode,ae),ae.return=K,K=ae}return w(K);case j:return W=Ds(W),et(K,X,W,ae)}if(Y(W))return he(K,X,W,ae);if($(W)){if(be=$(W),typeof be!="function")throw Error(a(150));return W=be.call(W),Se(K,X,W,ae)}if(typeof W.then=="function")return et(K,X,ul(W),ae);if(W.$$typeof===z)return et(K,X,rl(K,W),ae);dl(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,X!==null&&X.tag===6?(r(K,X.sibling),ae=h(X,W),ae.return=K,K=ae):(r(K,X),ae=Nu(W,K.mode,ae),ae.return=K,K=ae),w(K)):r(K,X)}return function(K,X,W,ae){try{Er=0;var be=et(K,X,W,ae);return Sa=null,be}catch(ye){if(ye===ba||ye===ll)throw ye;var _e=yn(29,ye,null,K.mode);return _e.lanes=ae,_e.return=K,_e}finally{}}}var ks=yg(!0),xg=yg(!1),Hi=!1;function Fu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hu(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qi(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=nl(t),tg(t,null,r),i}return tl(t,l,i,r),nl(t)}function Nr(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,cp(t,r)}}function Gu(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,v=null;if(r=r.firstBaseUpdate,r!==null){do{var w={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};v===null?h=v=w:v=v.next=w,r=r.next}while(r!==null);v===null?h=v=i:v=v.next=i}else h=v=i;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var qu=!1;function Dr(){if(qu){var t=va;if(t!==null)throw t}}function Rr(t,i,r,l){qu=!1;var h=t.updateQueue;Hi=!1;var v=h.firstBaseUpdate,w=h.lastBaseUpdate,R=h.shared.pending;if(R!==null){h.shared.pending=null;var G=R,Z=G.next;G.next=null,w===null?v=Z:w.next=Z,w=G;var se=t.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==w&&(R===null?se.firstBaseUpdate=Z:R.next=Z,se.lastBaseUpdate=G))}if(v!==null){var re=h.baseState;w=0,se=Z=G=null,R=v;do{var J=R.lane&-536870913,ne=J!==R.lane;if(ne?(Le&J)===J:(l&J)===J){J!==0&&J===xa&&(qu=!0),se!==null&&(se=se.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var he=t,Se=R;J=i;var et=r;switch(Se.tag){case 1:if(he=Se.payload,typeof he=="function"){re=he.call(et,re,J);break e}re=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Se.payload,J=typeof he=="function"?he.call(et,re,J):he,J==null)break e;re=g({},re,J);break e;case 2:Hi=!0}}J=R.callback,J!==null&&(t.flags|=64,ne&&(t.flags|=8192),ne=h.callbacks,ne===null?h.callbacks=[J]:ne.push(J))}else ne={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(Z=se=ne,G=re):se=se.next=ne,w|=J;if(R=R.next,R===null){if(R=h.shared.pending,R===null)break;ne=R,R=ne.next,ne.next=null,h.lastBaseUpdate=ne,h.shared.pending=null}}while(!0);se===null&&(G=re),h.baseState=G,h.firstBaseUpdate=Z,h.lastBaseUpdate=se,v===null&&(h.shared.lanes=0),Wi|=w,t.lanes=w,t.memoizedState=re}}function vg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function bg(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)vg(r[t],i)}var wa=oe(null),fl=oe(0);function Sg(t,i){t=Ti,ie(fl,t),ie(wa,i),Ti=t|i.baseLanes}function Yu(){ie(fl,Ti),ie(wa,wa.current)}function Xu(){Ti=fl.current,te(wa),te(fl)}var xn=oe(null),Vn=null;function Yi(t){var i=t.alternate;ie(St,St.current&1),ie(xn,t),Vn===null&&(i===null||wa.current!==null||i.memoizedState!==null)&&(Vn=t)}function Iu(t){ie(St,St.current),ie(xn,t),Vn===null&&(Vn=t)}function wg(t){t.tag===22?(ie(St,St.current),ie(xn,t),Vn===null&&(Vn=t)):Xi()}function Xi(){ie(St,St.current),ie(xn,xn.current)}function vn(t){te(xn),Vn===t&&(Vn=null),te(St)}var St=oe(0);function hl(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ef(r)||tf(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var gi=0,Ce=null,Qe=null,Ct=null,ml=!1,ja=!1,zs=!1,pl=0,kr=0,Ta=null,DT=0;function mt(){throw Error(a(321))}function Ku(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!gn(t[r],i[r]))return!1;return!0}function Wu(t,i,r,l,h,v){return gi=v,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,E.H=t===null||t.memoizedState===null?a0:dd,zs=!1,v=r(l,h),zs=!1,ja&&(v=Tg(i,r,l,h)),jg(t),v}function jg(t){E.H=Lr;var i=Qe!==null&&Qe.next!==null;if(gi=0,Ct=Qe=Ce=null,ml=!1,kr=0,Ta=null,i)throw Error(a(300));t===null||Et||(t=t.dependencies,t!==null&&al(t)&&(Et=!0))}function Tg(t,i,r,l){Ce=t;var h=0;do{if(ja&&(Ta=null),kr=0,ja=!1,25<=h)throw Error(a(301));if(h+=1,Ct=Qe=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}E.H=r0,v=i(r,l)}while(ja);return v}function RT(){var t=E.H,i=t.useState()[0];return i=typeof i.then=="function"?zr(i):i,t=t.useState()[0],(Qe!==null?Qe.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Zu(){var t=pl!==0;return pl=0,t}function Qu(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Ju(t){if(ml){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ml=!1}gi=0,Ct=Qe=Ce=null,ja=!1,kr=pl=0,Ta=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ce.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function wt(){if(Qe===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var i=Ct===null?Ce.memoizedState:Ct.next;if(i!==null)Ct=i,Qe=t;else{if(t===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},Ct===null?Ce.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function gl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zr(t){var i=kr;return kr+=1,Ta===null&&(Ta=[]),t=mg(Ta,t,i),i=Ce,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,E.H=i===null||i.memoizedState===null?a0:dd),t}function yl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zr(t);if(t.$$typeof===z)return Ht(t)}throw Error(a(438,String(t)))}function ed(t){var i=null,r=Ce.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=gl(),Ce.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=V;return i.index++,r}function yi(t,i){return typeof i=="function"?i(t):i}function xl(t){var i=wt();return td(i,Qe,t)}function td(t,i,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,v=l.pending;if(v!==null){if(h!==null){var w=h.next;h.next=v.next,v.next=w}i.baseQueue=h=v,l.pending=null}if(v=t.baseState,h===null)t.memoizedState=v;else{i=h.next;var R=w=null,G=null,Z=i,se=!1;do{var re=Z.lane&-536870913;if(re!==Z.lane?(Le&re)===re:(gi&re)===re){var J=Z.revertLane;if(J===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),re===xa&&(se=!0);else if((gi&J)===J){Z=Z.next,J===xa&&(se=!0);continue}else re={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(R=G=re,w=v):G=G.next=re,Ce.lanes|=J,Wi|=J;re=Z.action,zs&&r(v,re),v=Z.hasEagerState?Z.eagerState:r(v,re)}else J={lane:re,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},G===null?(R=G=J,w=v):G=G.next=J,Ce.lanes|=re,Wi|=re;Z=Z.next}while(Z!==null&&Z!==i);if(G===null?w=v:G.next=R,!gn(v,t.memoizedState)&&(Et=!0,se&&(r=va,r!==null)))throw r;t.memoizedState=v,t.baseState=w,t.baseQueue=G,l.lastRenderedState=v}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var i=wt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,v=i.memoizedState;if(h!==null){r.pending=null;var w=h=h.next;do v=t(v,w.action),w=w.next;while(w!==h);gn(v,i.memoizedState)||(Et=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),r.lastRenderedState=v}return[v,l]}function Ag(t,i,r){var l=Ce,h=wt(),v=Pe;if(v){if(r===void 0)throw Error(a(407));r=r()}else r=i();var w=!gn((Qe||h).memoizedState,r);if(w&&(h.memoizedState=r,Et=!0),h=h.queue,ad(Mg.bind(null,l,h,t),[t]),h.getSnapshot!==i||w||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Aa(9,{destroy:void 0},Eg.bind(null,l,h,r,i),null),it===null)throw Error(a(349));v||(gi&127)!==0||Cg(l,i,r)}return r}function Cg(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Ce.updateQueue,i===null?(i=gl(),Ce.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function Eg(t,i,r,l){i.value=r,i.getSnapshot=l,Ng(i)&&Dg(t)}function Mg(t,i,r){return r(function(){Ng(i)&&Dg(t)})}function Ng(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!gn(t,r)}catch{return!0}}function Dg(t){var i=Ts(t,2);i!==null&&fn(i,t,2)}function id(t){var i=tn();if(typeof t=="function"){var r=t;if(t=r(),zs){Dt(!0);try{r()}finally{Dt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:t},i}function Rg(t,i,r,l){return t.baseState=r,td(t,Qe,typeof l=="function"?l:yi)}function kT(t,i,r,l,h){if(Sl(t))throw Error(a(485));if(t=i.action,t!==null){var v={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){v.listeners.push(w)}};E.T!==null?r(!0):v.isTransition=!1,l(v),r=i.pending,r===null?(v.next=i.pending=v,kg(i,v)):(v.next=r.next,i.pending=r.next=v)}}function kg(t,i){var r=i.action,l=i.payload,h=t.state;if(i.isTransition){var v=E.T,w={};E.T=w;try{var R=r(h,l),G=E.S;G!==null&&G(w,R),zg(t,i,R)}catch(Z){sd(t,i,Z)}finally{v!==null&&w.types!==null&&(v.types=w.types),E.T=v}}else try{v=r(h,l),zg(t,i,v)}catch(Z){sd(t,i,Z)}}function zg(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Vg(t,i,l)},function(l){return sd(t,i,l)}):Vg(t,i,r)}function Vg(t,i,r){i.status="fulfilled",i.value=r,Lg(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,kg(t,r)))}function sd(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,Lg(i),i=i.next;while(i!==l)}t.action=null}function Lg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Og(t,i){return i}function Pg(t,i){if(Pe){var r=it.formState;if(r!==null){e:{var l=Ce;if(Pe){if(at){t:{for(var h=at,v=zn;h.nodeType!==8;){if(!v){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}v=h.data,h=v==="F!"||v==="F"?h:null}if(h){at=Ln(h.nextSibling),l=h.data==="F!";break e}}_i(l)}l=!1}l&&(i=r[0])}}return r=tn(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Og,lastRenderedState:i},r.queue=l,r=n0.bind(null,Ce,l),l.dispatch=r,l=id(!1),v=ud.bind(null,Ce,!1,l.queue),l=tn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,r=kT.bind(null,Ce,h,v,r),h.dispatch=r,l.memoizedState=t,[i,r,!1]}function Bg(t){var i=wt();return Ug(i,Qe,t)}function Ug(t,i,r){if(i=td(t,i,Og)[0],t=xl(yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=zr(i)}catch(w){throw w===ba?ll:w}else l=i;i=wt();var h=i.queue,v=h.dispatch;return r!==i.memoizedState&&(Ce.flags|=2048,Aa(9,{destroy:void 0},zT.bind(null,h,r),null)),[l,v,t]}function zT(t,i){t.action=i}function $g(t){var i=wt(),r=Qe;if(r!==null)return Ug(i,r,t);wt(),i=i.memoizedState,r=wt();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function Aa(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=gl(),Ce.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function _g(){return wt().memoizedState}function vl(t,i,r,l){var h=tn();Ce.flags|=t,h.memoizedState=Aa(1|i,{destroy:void 0},r,l===void 0?null:l)}function bl(t,i,r,l){var h=wt();l=l===void 0?null:l;var v=h.memoizedState.inst;Qe!==null&&l!==null&&Ku(l,Qe.memoizedState.deps)?h.memoizedState=Aa(i,v,r,l):(Ce.flags|=t,h.memoizedState=Aa(1|i,v,r,l))}function Fg(t,i){vl(8390656,8,t,i)}function ad(t,i){bl(2048,8,t,i)}function VT(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=gl(),Ce.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Hg(t){var i=wt().memoizedState;return VT({ref:i,nextImpl:t}),function(){if((qe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Gg(t,i){return bl(4,2,t,i)}function qg(t,i){return bl(4,4,t,i)}function Yg(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Xg(t,i,r){r=r!=null?r.concat([t]):null,bl(4,4,Yg.bind(null,i,t),r)}function rd(){}function Ig(t,i){var r=wt();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&Ku(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function Kg(t,i){var r=wt();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&Ku(i,l[1]))return l[0];if(l=t(),zs){Dt(!0);try{t()}finally{Dt(!1)}}return r.memoizedState=[l,i],l}function od(t,i,r){return r===void 0||(gi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=W0(),Ce.lanes|=t,Wi|=t,r)}function Wg(t,i,r,l){return gn(r,i)?r:wa.current!==null?(t=od(t,r,l),gn(t,i)||(Et=!0),t):(gi&42)===0||(gi&1073741824)!==0&&(Le&261930)===0?(Et=!0,t.memoizedState=r):(t=W0(),Ce.lanes|=t,Wi|=t,i)}function Zg(t,i,r,l,h){var v=A.p;A.p=v!==0&&8>v?v:8;var w=E.T,R={};E.T=R,ud(t,!1,i,r);try{var G=h(),Z=E.S;if(Z!==null&&Z(R,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var se=NT(G,l);Vr(t,i,se,wn(t))}else Vr(t,i,l,wn(t))}catch(re){Vr(t,i,{then:function(){},status:"rejected",reason:re},wn())}finally{A.p=v,w!==null&&R.types!==null&&(w.types=R.types),E.T=w}}function LT(){}function ld(t,i,r,l){if(t.tag!==5)throw Error(a(476));var h=Qg(t).queue;Zg(t,h,i,P,r===null?LT:function(){return Jg(t),r(l)})}function Qg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:P},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Jg(t){var i=Qg(t);i.next===null&&(i=t.alternate.memoizedState),Vr(t,i.next.queue,{},wn())}function cd(){return Ht(Zr)}function e0(){return wt().memoizedState}function t0(){return wt().memoizedState}function OT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=wn();t=Gi(r);var l=qi(i,t,r);l!==null&&(fn(l,i,r),Nr(l,i,r)),i={cache:Bu()},t.payload=i;return}i=i.return}}function PT(t,i,r){var l=wn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Sl(t)?i0(i,r):(r=Eu(t,i,r,l),r!==null&&(fn(r,t,l),s0(r,i,l)))}function n0(t,i,r){var l=wn();Vr(t,i,r,l)}function Vr(t,i,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sl(t))i0(i,h);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var w=i.lastRenderedState,R=v(w,r);if(h.hasEagerState=!0,h.eagerState=R,gn(R,w))return tl(t,i,h,0),it===null&&el(),!1}catch{}finally{}if(r=Eu(t,i,h,l),r!==null)return fn(r,t,l),s0(r,i,l),!0}return!1}function ud(t,i,r,l){if(l={lane:2,revertLane:Fd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sl(t)){if(i)throw Error(a(479))}else i=Eu(t,r,l,2),i!==null&&fn(i,t,2)}function Sl(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function i0(t,i){ja=ml=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function s0(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,cp(t,r)}}var Lr={readContext:Ht,use:yl,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Lr.useEffectEvent=mt;var a0={readContext:Ht,use:yl,useCallback:function(t,i){return tn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:Fg,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,vl(4194308,4,Yg.bind(null,i,t),r)},useLayoutEffect:function(t,i){return vl(4194308,4,t,i)},useInsertionEffect:function(t,i){vl(4,2,t,i)},useMemo:function(t,i){var r=tn();i=i===void 0?null:i;var l=t();if(zs){Dt(!0);try{t()}finally{Dt(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=tn();if(r!==void 0){var h=r(i);if(zs){Dt(!0);try{r(i)}finally{Dt(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=PT.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=tn();return t={current:t},i.memoizedState=t},useState:function(t){t=id(t);var i=t.queue,r=n0.bind(null,Ce,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:rd,useDeferredValue:function(t,i){var r=tn();return od(r,t,i)},useTransition:function(){var t=id(!1);return t=Zg.bind(null,Ce,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=Ce,h=tn();if(Pe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),it===null)throw Error(a(349));(Le&127)!==0||Cg(l,i,r)}h.memoizedState=r;var v={value:r,getSnapshot:i};return h.queue=v,Fg(Mg.bind(null,l,v,t),[t]),l.flags|=2048,Aa(9,{destroy:void 0},Eg.bind(null,l,v,r,i),null),r},useId:function(){var t=tn(),i=it.identifierPrefix;if(Pe){var r=Qn,l=Zn;r=(l&~(1<<32-Tt(l)-1)).toString(32)+r,i="_"+i+"R_"+r,r=pl++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=DT++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cd,useFormState:Pg,useActionState:Pg,useOptimistic:function(t){var i=tn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=ud.bind(null,Ce,!0,r),r.dispatch=i,[t,i]},useMemoCache:ed,useCacheRefresh:function(){return tn().memoizedState=OT.bind(null,Ce)},useEffectEvent:function(t){var i=tn(),r={impl:t};return i.memoizedState=r,function(){if((qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},dd={readContext:Ht,use:yl,useCallback:Ig,useContext:Ht,useEffect:ad,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:qg,useMemo:Kg,useReducer:xl,useRef:_g,useState:function(){return xl(yi)},useDebugValue:rd,useDeferredValue:function(t,i){var r=wt();return Wg(r,Qe.memoizedState,t,i)},useTransition:function(){var t=xl(yi)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:zr(t),i]},useSyncExternalStore:Ag,useId:e0,useHostTransitionStatus:cd,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,i){var r=wt();return Rg(r,Qe,t,i)},useMemoCache:ed,useCacheRefresh:t0};dd.useEffectEvent=Hg;var r0={readContext:Ht,use:yl,useCallback:Ig,useContext:Ht,useEffect:ad,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:qg,useMemo:Kg,useReducer:nd,useRef:_g,useState:function(){return nd(yi)},useDebugValue:rd,useDeferredValue:function(t,i){var r=wt();return Qe===null?od(r,t,i):Wg(r,Qe.memoizedState,t,i)},useTransition:function(){var t=nd(yi)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:zr(t),i]},useSyncExternalStore:Ag,useId:e0,useHostTransitionStatus:cd,useFormState:$g,useActionState:$g,useOptimistic:function(t,i){var r=wt();return Qe!==null?Rg(r,Qe,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ed,useCacheRefresh:t0};r0.useEffectEvent=Hg;function fd(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:g({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hd={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=wn(),h=Gi(l);h.payload=i,r!=null&&(h.callback=r),i=qi(t,h,l),i!==null&&(fn(i,t,l),Nr(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=wn(),h=Gi(l);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=qi(t,h,l),i!==null&&(fn(i,t,l),Nr(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=wn(),l=Gi(r);l.tag=2,i!=null&&(l.callback=i),i=qi(t,l,r),i!==null&&(fn(i,t,r),Nr(i,t,r))}};function o0(t,i,r,l,h,v,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,v,w):i.prototype&&i.prototype.isPureReactComponent?!Sr(r,l)||!Sr(h,v):!0}function l0(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&hd.enqueueReplaceState(i,i.state,null)}function Vs(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=g({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function c0(t){Jo(t)}function u0(t){console.error(t)}function d0(t){Jo(t)}function wl(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function f0(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(t,i,r){return r=Gi(r),r.tag=3,r.payload={element:null},r.callback=function(){wl(t,i)},r}function h0(t){return t=Gi(t),t.tag=3,t}function m0(t,i,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var v=l.value;t.payload=function(){return h(v)},t.callback=function(){f0(i,r,l)}}var w=r.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(t.callback=function(){f0(i,r,l),typeof h!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var R=l.stack;this.componentDidCatch(l.value,{componentStack:R!==null?R:""})})}function BT(t,i,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&ya(i,r,h,!0),r=xn.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?Vl():r.alternate===null&&pt===0&&(pt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===cl?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),Ud(t,l,h)),!1;case 22:return r.flags|=65536,l===cl?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),Ud(t,l,h)),!1}throw Error(a(435,r.tag))}return Ud(t,l,h),Vl(),!1}if(Pe)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==zu&&(t=Error(a(422),{cause:l}),Tr(Dn(t,r)))):(l!==zu&&(i=Error(a(423),{cause:l}),Tr(Dn(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,r),h=md(t.stateNode,l,h),Gu(t,h),pt!==4&&(pt=2)),!1;var v=Error(a(520),{cause:l});if(v=Dn(v,r),Hr===null?Hr=[v]:Hr.push(v),pt!==4&&(pt=2),i===null)return!0;l=Dn(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=md(r.stateNode,l,t),Gu(r,t),!1;case 1:if(i=r.type,v=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Zi===null||!Zi.has(v))))return r.flags|=65536,h&=-h,r.lanes|=h,h=h0(h),m0(h,t,r,l),Gu(r,h),!1}r=r.return}while(r!==null);return!1}var pd=Error(a(461)),Et=!1;function Gt(t,i,r,l){i.child=t===null?xg(i,null,r,l):ks(i,t.child,r,l)}function p0(t,i,r,l,h){r=r.render;var v=i.ref;if("ref"in l){var w={};for(var R in l)R!=="ref"&&(w[R]=l[R])}else w=l;return Ms(i),l=Wu(t,i,r,w,v,h),R=Zu(),t!==null&&!Et?(Qu(t,i,h),xi(t,i,h)):(Pe&&R&&Ru(i),i.flags|=1,Gt(t,i,l,h),i.child)}function g0(t,i,r,l,h){if(t===null){var v=r.type;return typeof v=="function"&&!Mu(v)&&v.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=v,y0(t,i,v,l,h)):(t=il(r.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(v=t.child,!jd(t,h)){var w=v.memoizedProps;if(r=r.compare,r=r!==null?r:Sr,r(w,l)&&t.ref===i.ref)return xi(t,i,h)}return i.flags|=1,t=fi(v,l),t.ref=i.ref,t.return=i,i.child=t}function y0(t,i,r,l,h){if(t!==null){var v=t.memoizedProps;if(Sr(v,l)&&t.ref===i.ref)if(Et=!1,i.pendingProps=l=v,jd(t,h))(t.flags&131072)!==0&&(Et=!0);else return i.lanes=t.lanes,xi(t,i,h)}return gd(t,i,r,l,h)}function x0(t,i,r,l){var h=l.children,v=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(v=v!==null?v.baseLanes|r:r,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~v}else l=0,i.child=null;return v0(t,i,v,r,l)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ol(i,v!==null?v.cachePool:null),v!==null?Sg(i,v):Yu(),wg(i);else return l=i.lanes=536870912,v0(t,i,v!==null?v.baseLanes|r:r,r,l)}else v!==null?(ol(i,v.cachePool),Sg(i,v),Xi(),i.memoizedState=null):(t!==null&&ol(i,null),Yu(),Xi());return Gt(t,i,h,r),i.child}function Or(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function v0(t,i,r,l,h){var v=$u();return v=v===null?null:{parent:At._currentValue,pool:v},i.memoizedState={baseLanes:r,cachePool:v},t!==null&&ol(i,null),Yu(),wg(i),t!==null&&ya(t,i,l,!0),i.childLanes=h,null}function jl(t,i){return i=Al({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function b0(t,i,r){return ks(i,t.child,null,r),t=jl(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function UT(t,i,r){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=jl(i,l),i.lanes=536870912,Or(null,t);if(Iu(i),(t=at)?(t=ky(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:Zn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},r=ig(t),r.return=i,i.child=r,Ft=i,at=null)):t=null,t===null)throw _i(i);return i.lanes=536870912,null}return jl(i,l)}var v=t.memoizedState;if(v!==null){var w=v.dehydrated;if(Iu(i),h)if(i.flags&256)i.flags&=-257,i=b0(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Et||ya(t,i,r,!1),h=(r&t.childLanes)!==0,Et||h){if(l=it,l!==null&&(w=up(l,r),w!==0&&w!==v.retryLane))throw v.retryLane=w,Ts(t,w),fn(l,t,w),pd;Vl(),i=b0(t,i,r)}else t=v.treeContext,at=Ln(w.nextSibling),Ft=i,Pe=!0,$i=null,zn=!1,t!==null&&rg(i,t),i=jl(i,l),i.flags|=4096;return i}return t=fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tl(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function gd(t,i,r,l,h){return Ms(i),r=Wu(t,i,r,l,void 0,h),l=Zu(),t!==null&&!Et?(Qu(t,i,h),xi(t,i,h)):(Pe&&l&&Ru(i),i.flags|=1,Gt(t,i,r,h),i.child)}function S0(t,i,r,l,h,v){return Ms(i),i.updateQueue=null,r=Tg(i,l,r,h),jg(t),l=Zu(),t!==null&&!Et?(Qu(t,i,v),xi(t,i,v)):(Pe&&l&&Ru(i),i.flags|=1,Gt(t,i,r,v),i.child)}function w0(t,i,r,l,h){if(Ms(i),i.stateNode===null){var v=ha,w=r.contextType;typeof w=="object"&&w!==null&&(v=Ht(w)),v=new r(l,v),i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=hd,i.stateNode=v,v._reactInternals=i,v=i.stateNode,v.props=l,v.state=i.memoizedState,v.refs={},Fu(i),w=r.contextType,v.context=typeof w=="object"&&w!==null?Ht(w):ha,v.state=i.memoizedState,w=r.getDerivedStateFromProps,typeof w=="function"&&(fd(i,r,w,l),v.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(w=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),w!==v.state&&hd.enqueueReplaceState(v,v.state,null),Rr(i,l,v,h),Dr(),v.state=i.memoizedState),typeof v.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){v=i.stateNode;var R=i.memoizedProps,G=Vs(r,R);v.props=G;var Z=v.context,se=r.contextType;w=ha,typeof se=="object"&&se!==null&&(w=Ht(se));var re=r.getDerivedStateFromProps;se=typeof re=="function"||typeof v.getSnapshotBeforeUpdate=="function",R=i.pendingProps!==R,se||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R||Z!==w)&&l0(i,v,l,w),Hi=!1;var J=i.memoizedState;v.state=J,Rr(i,l,v,h),Dr(),Z=i.memoizedState,R||J!==Z||Hi?(typeof re=="function"&&(fd(i,r,re,l),Z=i.memoizedState),(G=Hi||o0(i,r,G,l,J,Z,w))?(se||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Z),v.props=l,v.state=Z,v.context=w,l=G):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{v=i.stateNode,Hu(t,i),w=i.memoizedProps,se=Vs(r,w),v.props=se,re=i.pendingProps,J=v.context,Z=r.contextType,G=ha,typeof Z=="object"&&Z!==null&&(G=Ht(Z)),R=r.getDerivedStateFromProps,(Z=typeof R=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==re||J!==G)&&l0(i,v,l,G),Hi=!1,J=i.memoizedState,v.state=J,Rr(i,l,v,h),Dr();var ne=i.memoizedState;w!==re||J!==ne||Hi||t!==null&&t.dependencies!==null&&al(t.dependencies)?(typeof R=="function"&&(fd(i,r,R,l),ne=i.memoizedState),(se=Hi||o0(i,r,se,l,J,ne,G)||t!==null&&t.dependencies!==null&&al(t.dependencies))?(Z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(l,ne,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(l,ne,G)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===t.memoizedProps&&J===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&J===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ne),v.props=l,v.state=ne,v.context=G,l=se):(typeof v.componentDidUpdate!="function"||w===t.memoizedProps&&J===t.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&J===t.memoizedState||(i.flags|=1024),l=!1)}return v=l,Tl(t,i),l=(i.flags&128)!==0,v||l?(v=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:v.render(),i.flags|=1,t!==null&&l?(i.child=ks(i,t.child,null,h),i.child=ks(i,null,r,h)):Gt(t,i,r,h),i.memoizedState=v.state,t=i.child):t=xi(t,i,h),t}function j0(t,i,r,l){return Cs(),i.flags|=256,Gt(t,i,r,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(t){return{baseLanes:t,cachePool:fg()}}function vd(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Sn),t}function T0(t,i,r){var l=i.pendingProps,h=!1,v=(i.flags&128)!==0,w;if((w=v)||(w=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Yi(i):Xi(),(t=at)?(t=ky(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ui!==null?{id:Zn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},r=ig(t),r.return=i,i.child=r,Ft=i,at=null)):t=null,t===null)throw _i(i);return tf(t)?i.lanes=32:i.lanes=536870912,null}var R=l.children;return l=l.fallback,h?(Xi(),h=i.mode,R=Al({mode:"hidden",children:R},h),l=As(l,h,r,null),R.return=i,l.return=i,R.sibling=l,i.child=R,l=i.child,l.memoizedState=xd(r),l.childLanes=vd(t,w,r),i.memoizedState=yd,Or(null,l)):(Yi(i),bd(i,R))}var G=t.memoizedState;if(G!==null&&(R=G.dehydrated,R!==null)){if(v)i.flags&256?(Yi(i),i.flags&=-257,i=Sd(t,i,r)):i.memoizedState!==null?(Xi(),i.child=t.child,i.flags|=128,i=null):(Xi(),R=l.fallback,h=i.mode,l=Al({mode:"visible",children:l.children},h),R=As(R,h,r,null),R.flags|=2,l.return=i,R.return=i,l.sibling=R,i.child=l,ks(i,t.child,null,r),l=i.child,l.memoizedState=xd(r),l.childLanes=vd(t,w,r),i.memoizedState=yd,i=Or(null,l));else if(Yi(i),tf(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var Z=w.dgst;w=Z,l=Error(a(419)),l.stack="",l.digest=w,Tr({value:l,source:null,stack:null}),i=Sd(t,i,r)}else if(Et||ya(t,i,r,!1),w=(r&t.childLanes)!==0,Et||w){if(w=it,w!==null&&(l=up(w,r),l!==0&&l!==G.retryLane))throw G.retryLane=l,Ts(t,l),fn(w,t,l),pd;ef(R)||Vl(),i=Sd(t,i,r)}else ef(R)?(i.flags|=192,i.child=t.child,i=null):(t=G.treeContext,at=Ln(R.nextSibling),Ft=i,Pe=!0,$i=null,zn=!1,t!==null&&rg(i,t),i=bd(i,l.children),i.flags|=4096);return i}return h?(Xi(),R=l.fallback,h=i.mode,G=t.child,Z=G.sibling,l=fi(G,{mode:"hidden",children:l.children}),l.subtreeFlags=G.subtreeFlags&65011712,Z!==null?R=fi(Z,R):(R=As(R,h,r,null),R.flags|=2),R.return=i,l.return=i,l.sibling=R,i.child=l,Or(null,l),l=i.child,R=t.child.memoizedState,R===null?R=xd(r):(h=R.cachePool,h!==null?(G=At._currentValue,h=h.parent!==G?{parent:G,pool:G}:h):h=fg(),R={baseLanes:R.baseLanes|r,cachePool:h}),l.memoizedState=R,l.childLanes=vd(t,w,r),i.memoizedState=yd,Or(t.child,l)):(Yi(i),r=t.child,t=r.sibling,r=fi(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(w=i.deletions,w===null?(i.deletions=[t],i.flags|=16):w.push(t)),i.child=r,i.memoizedState=null,r)}function bd(t,i){return i=Al({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Al(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function Sd(t,i,r){return ks(i,t.child,null,r),t=bd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function A0(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ou(t.return,i,r)}function wd(t,i,r,l,h,v){var w=t.memoizedState;w===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:v}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=r,w.tailMode=h,w.treeForkCount=v)}function C0(t,i,r){var l=i.pendingProps,h=l.revealOrder,v=l.tail;l=l.children;var w=St.current,R=(w&2)!==0;if(R?(w=w&1|2,i.flags|=128):w&=1,ie(St,w),Gt(t,i,l,r),l=Pe?jr:0,!R&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A0(t,r,i);else if(t.tag===19)A0(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&hl(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),wd(i,!1,h,r,v,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hl(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}wd(i,!0,r,null,v,l);break;case"together":wd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function xi(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Wi|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(ya(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=fi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=fi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function jd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&al(t)))}function $T(t,i,r){switch(i.tag){case 3:je(i,i.stateNode.containerInfo),Fi(i,At,t.memoizedState.cache),Cs();break;case 27:case 5:Ee(i);break;case 4:je(i,i.stateNode.containerInfo);break;case 10:Fi(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Iu(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Yi(i),i.flags|=128,null):(r&i.child.childLanes)!==0?T0(t,i,r):(Yi(i),t=xi(t,i,r),t!==null?t.sibling:null);Yi(i);break;case 19:var h=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(ya(t,i,r,!1),l=(r&i.childLanes)!==0),h){if(l)return C0(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:return i.lanes=0,x0(t,i,r,i.pendingProps);case 24:Fi(i,At,t.memoizedState.cache)}return xi(t,i,r)}function E0(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Et=!0;else{if(!jd(t,r)&&(i.flags&128)===0)return Et=!1,$T(t,i,r);Et=(t.flags&131072)!==0}else Et=!1,Pe&&(i.flags&1048576)!==0&&ag(i,jr,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ds(i.elementType),i.type=t,typeof t=="function")Mu(t)?(l=Vs(t,l),i.tag=1,i=w0(null,i,t,l,r)):(i.tag=0,i=gd(null,i,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===O){i.tag=11,i=p0(null,i,t,l,r);break e}else if(h===q){i.tag=14,i=g0(null,i,t,l,r);break e}}throw i=F(t)||t,Error(a(306,i,""))}}return i;case 0:return gd(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,h=Vs(l,i.pendingProps),w0(t,i,l,h,r);case 3:e:{if(je(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var v=i.memoizedState;h=v.element,Hu(t,i),Rr(i,l,null,r);var w=i.memoizedState;if(l=w.cache,Fi(i,At,l),l!==v.cache&&Pu(i,[At],r,!0),Dr(),l=w.element,v.isDehydrated)if(v={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){i=j0(t,i,l,r);break e}else if(l!==h){h=Dn(Error(a(424)),i),Tr(h),i=j0(t,i,l,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Ln(t.firstChild),Ft=i,Pe=!0,$i=null,zn=!0,r=xg(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Cs(),l===h){i=xi(t,i,r);break e}Gt(t,i,l,r)}i=i.child}return i;case 26:return Tl(t,i),t===null?(r=By(i.type,null,i.pendingProps,null))?i.memoizedState=r:Pe||(r=i.type,t=i.pendingProps,l=_l(ue.current).createElement(r),l[_t]=i,l[rn]=t,qt(l,r,t),Bt(l),i.stateNode=l):i.memoizedState=By(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ee(i),t===null&&Pe&&(l=i.stateNode=Ly(i.type,i.pendingProps,ue.current),Ft=i,zn=!0,h=at,ts(i.type)?(nf=h,at=Ln(l.firstChild)):at=h),Gt(t,i,i.pendingProps.children,r),Tl(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=at)&&(l=gA(l,i.type,i.pendingProps,zn),l!==null?(i.stateNode=l,Ft=i,at=Ln(l.firstChild),zn=!1,h=!0):h=!1),h||_i(i)),Ee(i),h=i.type,v=i.pendingProps,w=t!==null?t.memoizedProps:null,l=v.children,Zd(h,v)?l=null:w!==null&&Zd(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=Wu(t,i,RT,null,null,r),Zr._currentValue=h),Tl(t,i),Gt(t,i,l,r),i.child;case 6:return t===null&&Pe&&((t=r=at)&&(r=yA(r,i.pendingProps,zn),r!==null?(i.stateNode=r,Ft=i,at=null,t=!0):t=!1),t||_i(i)),null;case 13:return T0(t,i,r);case 4:return je(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ks(i,null,l,r):Gt(t,i,l,r),i.child;case 11:return p0(t,i,i.type,i.pendingProps,r);case 7:return Gt(t,i,i.pendingProps,r),i.child;case 8:return Gt(t,i,i.pendingProps.children,r),i.child;case 12:return Gt(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,Fi(i,i.type,l.value),Gt(t,i,l.children,r),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=Ht(h),l=l(h),i.flags|=1,Gt(t,i,l,r),i.child;case 14:return g0(t,i,i.type,i.pendingProps,r);case 15:return y0(t,i,i.type,i.pendingProps,r);case 19:return C0(t,i,r);case 31:return UT(t,i,r);case 22:return x0(t,i,r,i.pendingProps);case 24:return Ms(i),l=Ht(At),t===null?(h=$u(),h===null&&(h=it,v=Bu(),h.pooledCache=v,v.refCount++,v!==null&&(h.pooledCacheLanes|=r),h=v),i.memoizedState={parent:l,cache:h},Fu(i),Fi(i,At,h)):((t.lanes&r)!==0&&(Hu(t,i),Rr(i,null,null,r),Dr()),h=t.memoizedState,v=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Fi(i,At,l)):(l=v.cache,Fi(i,At,l),l!==h.cache&&Pu(i,[At],r,!0))),Gt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function vi(t){t.flags|=4}function Td(t,i,r,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ey())t.flags|=8192;else throw Rs=cl,_u}else t.flags&=-16777217}function M0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(i))if(ey())t.flags|=8192;else throw Rs=cl,_u}function Cl(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?$e():536870912,t.lanes|=i,Na|=i)}function Pr(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function _T(t,i,r){var l=i.pendingProps;switch(ku(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),pi(At),xe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ga(i)?vi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vu())),rt(i),null;case 26:var h=i.type,v=i.memoizedState;return t===null?(vi(i),v!==null?(rt(i),M0(i,v)):(rt(i),Td(i,h,null,l,r))):v?v!==t.memoizedState?(vi(i),rt(i),M0(i,v)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&vi(i),rt(i),Td(i,h,t,l,r)),null;case 27:if(le(i),r=ue.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&vi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=Q.current,ga(i)?og(i):(t=Ly(h,l,r),i.stateNode=t,vi(i))}return rt(i),null;case 5:if(le(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&vi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(v=Q.current,ga(i))og(i);else{var w=_l(ue.current);switch(v){case 1:v=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:v=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":v=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":v=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":v=w.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?v.multiple=!0:l.size&&(v.size=l.size);break;default:v=typeof l.is=="string"?w.createElement(h,{is:l.is}):w.createElement(h)}}v[_t]=i,v[rn]=l;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)v.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=v;e:switch(qt(v,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&vi(i)}}return rt(i),Td(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&vi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=ue.current,ga(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[_t]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Ty(t.nodeValue,r)),t||_i(i,!0)}else t=_l(t).createTextNode(l),t[_t]=i,i.stateNode=t}return rt(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(l=ga(i),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[_t]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else r=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ga(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_t]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else h=Vu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),v=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),v!==h&&(l.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Cl(i,i.updateQueue),rt(i),null);case 4:return xe(),t===null&&Yd(i.stateNode.containerInfo),rt(i),null;case 10:return pi(i.type),rt(i),null;case 19:if(te(St),l=i.memoizedState,l===null)return rt(i),null;if(h=(i.flags&128)!==0,v=l.rendering,v===null)if(h)Pr(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(v=hl(t),v!==null){for(i.flags|=128,Pr(l,!1),t=v.updateQueue,i.updateQueue=t,Cl(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)ng(r,t),r=r.sibling;return ie(St,St.current&1|2),Pe&&hi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Te()>Rl&&(i.flags|=128,h=!0,Pr(l,!1),i.lanes=4194304)}else{if(!h)if(t=hl(v),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Cl(i,t),Pr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!v.alternate&&!Pe)return rt(i),null}else 2*Te()-l.renderingStartTime>Rl&&r!==536870912&&(i.flags|=128,h=!0,Pr(l,!1),i.lanes=4194304);l.isBackwards?(v.sibling=i.child,i.child=v):(t=l.last,t!==null?t.sibling=v:i.child=v,l.last=v)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Te(),t.sibling=null,r=St.current,ie(St,h?r&1|2:r&1),Pe&&hi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return vn(i),Xu(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&Cl(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&te(Ns),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),pi(At),rt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function FT(t,i){switch(ku(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return pi(At),xe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return le(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(a(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Cs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(St),null;case 4:return xe(),null;case 10:return pi(i.type),null;case 22:case 23:return vn(i),Xu(),t!==null&&te(Ns),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return pi(At),null;case 25:return null;default:return null}}function N0(t,i){switch(ku(i),i.tag){case 3:pi(At),xe();break;case 26:case 27:case 5:le(i);break;case 4:xe();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:te(St);break;case 10:pi(i.type);break;case 22:case 23:vn(i),Xu(),t!==null&&te(Ns);break;case 24:pi(At)}}function Br(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var v=r.create,w=r.inst;l=v(),w.destroy=l}r=r.next}while(r!==h)}}catch(R){Ke(i,i.return,R)}}function Ii(t,i,r){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var v=h.next;l=v;do{if((l.tag&t)===t){var w=l.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,h=i;var G=r,Z=R;try{Z()}catch(se){Ke(h,G,se)}}}l=l.next}while(l!==v)}}catch(se){Ke(i,i.return,se)}}function D0(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{bg(i,r)}catch(l){Ke(t,t.return,l)}}}function R0(t,i,r){r.props=Vs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ke(t,i,l)}}function Ur(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ke(t,i,h)}}function Jn(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ke(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ke(t,i,h)}else r.current=null}function k0(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ke(t,t.return,h)}}function Ad(t,i,r){try{var l=t.stateNode;uA(l,t.type,r,i),l[rn]=i}catch(h){Ke(t,t.return,h)}}function z0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ts(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=ui));else if(l!==4&&(l===27&&ts(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Ed(t,i,r),t=t.sibling;t!==null;)Ed(t,i,r),t=t.sibling}function El(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&ts(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(El(t,i,r),t=t.sibling;t!==null;)El(t,i,r),t=t.sibling}function V0(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);qt(i,l,r),i[_t]=t,i[rn]=r}catch(v){Ke(t,t.return,v)}}var bi=!1,Mt=!1,Md=!1,L0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function HT(t,i){if(t=t.containerInfo,Kd=Il,t=Xp(t),Su(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,v=l.focusNode;l=l.focusOffset;try{r.nodeType,v.nodeType}catch{r=null;break e}var w=0,R=-1,G=-1,Z=0,se=0,re=t,J=null;t:for(;;){for(var ne;re!==r||h!==0&&re.nodeType!==3||(R=w+h),re!==v||l!==0&&re.nodeType!==3||(G=w+l),re.nodeType===3&&(w+=re.nodeValue.length),(ne=re.firstChild)!==null;)J=re,re=ne;for(;;){if(re===t)break t;if(J===r&&++Z===h&&(R=w),J===v&&++se===l&&(G=w),(ne=re.nextSibling)!==null)break;re=J,J=re.parentNode}re=ne}r=R===-1||G===-1?null:{start:R,end:G}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wd={focusedElem:t,selectionRange:r},Il=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,v=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,r=i,h=v.memoizedProps,v=v.memoizedState,l=r.stateNode;try{var he=Vs(r.type,h);t=l.getSnapshotBeforeUpdate(he,v),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Ke(r,r.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Jd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function O0(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r),l&4&&Br(5,r);break;case 1:if(wi(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(w){Ke(r,r.return,w)}else{var h=Vs(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ke(r,r.return,w)}}l&64&&D0(r),l&512&&Ur(r,r.return);break;case 3:if(wi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{bg(t,i)}catch(w){Ke(r,r.return,w)}}break;case 27:i===null&&l&4&&V0(r);case 26:case 5:wi(t,r),i===null&&l&4&&k0(r),l&512&&Ur(r,r.return);break;case 12:wi(t,r);break;case 31:wi(t,r),l&4&&U0(t,r);break;case 13:wi(t,r),l&4&&$0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=QT.bind(null,r),xA(t,r))));break;case 22:if(l=r.memoizedState!==null||bi,!l){i=i!==null&&i.memoizedState!==null||Mt,h=bi;var v=Mt;bi=l,(Mt=i)&&!v?ji(t,r,(r.subtreeFlags&8772)!==0):wi(t,r),bi=h,Mt=v}break;case 30:break;default:wi(t,r)}}function P0(t){var i=t.alternate;i!==null&&(t.alternate=null,P0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&su(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,ln=!1;function Si(t,i,r){for(r=r.child;r!==null;)B0(t,i,r),r=r.sibling}function B0(t,i,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Pt,r)}catch{}switch(r.tag){case 26:Mt||Jn(r,i),Si(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Mt||Jn(r,i);var l=ut,h=ln;ts(r.type)&&(ut=r.stateNode,ln=!1),Si(t,i,r),Ir(r.stateNode),ut=l,ln=h;break;case 5:Mt||Jn(r,i);case 6:if(l=ut,h=ln,ut=null,Si(t,i,r),ut=l,ln=h,ut!==null)if(ln)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(r.stateNode)}catch(v){Ke(r,i,v)}else try{ut.removeChild(r.stateNode)}catch(v){Ke(r,i,v)}break;case 18:ut!==null&&(ln?(t=ut,Dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Pa(t)):Dy(ut,r.stateNode));break;case 4:l=ut,h=ln,ut=r.stateNode.containerInfo,ln=!0,Si(t,i,r),ut=l,ln=h;break;case 0:case 11:case 14:case 15:Ii(2,r,i),Mt||Ii(4,r,i),Si(t,i,r);break;case 1:Mt||(Jn(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&R0(r,i,l)),Si(t,i,r);break;case 21:Si(t,i,r);break;case 22:Mt=(l=Mt)||r.memoizedState!==null,Si(t,i,r),Mt=l;break;default:Si(t,i,r)}}function U0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Pa(t)}catch(r){Ke(i,i.return,r)}}}function $0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pa(t)}catch(r){Ke(i,i.return,r)}}function GT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new L0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new L0),i;default:throw Error(a(435,t.tag))}}function Ml(t,i){var r=GT(t);i.forEach(function(l){if(!r.has(l)){r.add(l);var h=JT.bind(null,t,l);l.then(h,h)}})}function cn(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],v=t,w=i,R=w;e:for(;R!==null;){switch(R.tag){case 27:if(ts(R.type)){ut=R.stateNode,ln=!1;break e}break;case 5:ut=R.stateNode,ln=!1;break e;case 3:case 4:ut=R.stateNode.containerInfo,ln=!0;break e}R=R.return}if(ut===null)throw Error(a(160));B0(v,w,h),ut=null,ln=!1,v=h.alternate,v!==null&&(v.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)_0(i,t),i=i.sibling}var Hn=null;function _0(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),un(t),l&4&&(Ii(3,t,t.return),Br(3,t),Ii(5,t,t.return));break;case 1:cn(i,t),un(t),l&512&&(Mt||r===null||Jn(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Hn;if(cn(i,t),un(t),l&512&&(Mt||r===null||Jn(r,r.return)),l&4){var v=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":v=h.getElementsByTagName("title")[0],(!v||v[fr]||v[_t]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=h.createElement(l),h.head.insertBefore(v,h.querySelector("head > title"))),qt(v,l,r),v[_t]=t,Bt(v),l=v;break e;case"link":var w=_y("link","href",h).get(l+(r.href||""));if(w){for(var R=0;R<w.length;R++)if(v=w[R],v.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&v.getAttribute("rel")===(r.rel==null?null:r.rel)&&v.getAttribute("title")===(r.title==null?null:r.title)&&v.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){w.splice(R,1);break t}}v=h.createElement(l),qt(v,l,r),h.head.appendChild(v);break;case"meta":if(w=_y("meta","content",h).get(l+(r.content||""))){for(R=0;R<w.length;R++)if(v=w[R],v.getAttribute("content")===(r.content==null?null:""+r.content)&&v.getAttribute("name")===(r.name==null?null:r.name)&&v.getAttribute("property")===(r.property==null?null:r.property)&&v.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&v.getAttribute("charset")===(r.charSet==null?null:r.charSet)){w.splice(R,1);break t}}v=h.createElement(l),qt(v,l,r),h.head.appendChild(v);break;default:throw Error(a(468,l))}v[_t]=t,Bt(v),l=v}t.stateNode=l}else Fy(h,t.type,t.stateNode);else t.stateNode=$y(h,l,t.memoizedProps);else v!==l?(v===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):v.count--,l===null?Fy(h,t.type,t.stateNode):$y(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,r.memoizedProps)}break;case 27:cn(i,t),un(t),l&512&&(Mt||r===null||Jn(r,r.return)),r!==null&&l&4&&Ad(t,t.memoizedProps,r.memoizedProps);break;case 5:if(cn(i,t),un(t),l&512&&(Mt||r===null||Jn(r,r.return)),t.flags&32){h=t.stateNode;try{ra(h,"")}catch(he){Ke(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Md=!0);break;case 6:if(cn(i,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(he){Ke(t,t.return,he)}}break;case 3:if(Gl=null,h=Hn,Hn=Fl(i.containerInfo),cn(i,t),Hn=h,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(i.containerInfo)}catch(he){Ke(t,t.return,he)}Md&&(Md=!1,F0(t));break;case 4:l=Hn,Hn=Fl(t.stateNode.containerInfo),cn(i,t),un(t),Hn=l;break;case 12:cn(i,t),un(t);break;case 31:cn(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ml(t,l)));break;case 13:cn(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Dl=Te()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ml(t,l)));break;case 22:h=t.memoizedState!==null;var G=r!==null&&r.memoizedState!==null,Z=bi,se=Mt;if(bi=Z||h,Mt=se||G,cn(i,t),Mt=se,bi=Z,un(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||G||bi||Mt||Ls(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){G=r=i;try{if(v=G.stateNode,h)w=v.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=G.stateNode;var re=G.memoizedProps.style,J=re!=null&&re.hasOwnProperty("display")?re.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(he){Ke(G,G.return,he)}}}else if(i.tag===6){if(r===null){G=i;try{G.stateNode.nodeValue=h?"":G.memoizedProps}catch(he){Ke(G,G.return,he)}}}else if(i.tag===18){if(r===null){G=i;try{var ne=G.stateNode;h?Ry(ne,!0):Ry(G.stateNode,!1)}catch(he){Ke(G,G.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ml(t,r))));break;case 19:cn(i,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ml(t,l)));break;case 30:break;case 21:break;default:cn(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(z0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,v=Cd(t);El(t,v,h);break;case 5:var w=r.stateNode;r.flags&32&&(ra(w,""),r.flags&=-33);var R=Cd(t);El(t,R,w);break;case 3:case 4:var G=r.stateNode.containerInfo,Z=Cd(t);Ed(t,Z,G);break;default:throw Error(a(161))}}catch(se){Ke(t,t.return,se)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function F0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;F0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)O0(t,i.alternate,i),i=i.sibling}function Ls(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Ls(i);break;case 1:Jn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&R0(i,i.return,r),Ls(i);break;case 27:Ir(i.stateNode);case 26:case 5:Jn(i,i.return),Ls(i);break;case 22:i.memoizedState===null&&Ls(i);break;case 30:Ls(i);break;default:Ls(i)}t=t.sibling}}function ji(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,v=i,w=v.flags;switch(v.tag){case 0:case 11:case 15:ji(h,v,r),Br(4,v);break;case 1:if(ji(h,v,r),l=v,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){Ke(l,l.return,Z)}if(l=v,h=l.updateQueue,h!==null){var R=l.stateNode;try{var G=h.shared.hiddenCallbacks;if(G!==null)for(h.shared.hiddenCallbacks=null,h=0;h<G.length;h++)vg(G[h],R)}catch(Z){Ke(l,l.return,Z)}}r&&w&64&&D0(v),Ur(v,v.return);break;case 27:V0(v);case 26:case 5:ji(h,v,r),r&&l===null&&w&4&&k0(v),Ur(v,v.return);break;case 12:ji(h,v,r);break;case 31:ji(h,v,r),r&&w&4&&U0(h,v);break;case 13:ji(h,v,r),r&&w&4&&$0(h,v);break;case 22:v.memoizedState===null&&ji(h,v,r),Ur(v,v.return);break;case 30:break;default:ji(h,v,r)}i=i.sibling}}function Nd(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Ar(r))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ar(t))}function Gn(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)H0(t,i,r,l),i=i.sibling}function H0(t,i,r,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Gn(t,i,r,l),h&2048&&Br(9,i);break;case 1:Gn(t,i,r,l);break;case 3:Gn(t,i,r,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ar(t)));break;case 12:if(h&2048){Gn(t,i,r,l),t=i.stateNode;try{var v=i.memoizedProps,w=v.id,R=v.onPostCommit;typeof R=="function"&&R(w,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(G){Ke(i,i.return,G)}}else Gn(t,i,r,l);break;case 31:Gn(t,i,r,l);break;case 13:Gn(t,i,r,l);break;case 23:break;case 22:v=i.stateNode,w=i.alternate,i.memoizedState!==null?v._visibility&2?Gn(t,i,r,l):$r(t,i):v._visibility&2?Gn(t,i,r,l):(v._visibility|=2,Ca(t,i,r,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(w,i);break;case 24:Gn(t,i,r,l),h&2048&&Dd(i.alternate,i);break;default:Gn(t,i,r,l)}}function Ca(t,i,r,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var v=t,w=i,R=r,G=l,Z=w.flags;switch(w.tag){case 0:case 11:case 15:Ca(v,w,R,G,h),Br(8,w);break;case 23:break;case 22:var se=w.stateNode;w.memoizedState!==null?se._visibility&2?Ca(v,w,R,G,h):$r(v,w):(se._visibility|=2,Ca(v,w,R,G,h)),h&&Z&2048&&Nd(w.alternate,w);break;case 24:Ca(v,w,R,G,h),h&&Z&2048&&Dd(w.alternate,w);break;default:Ca(v,w,R,G,h)}i=i.sibling}}function $r(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,h=l.flags;switch(l.tag){case 22:$r(r,l),h&2048&&Nd(l.alternate,l);break;case 24:$r(r,l),h&2048&&Dd(l.alternate,l);break;default:$r(r,l)}i=i.sibling}}var _r=8192;function Ea(t,i,r){if(t.subtreeFlags&_r)for(t=t.child;t!==null;)G0(t,i,r),t=t.sibling}function G0(t,i,r){switch(t.tag){case 26:Ea(t,i,r),t.flags&_r&&t.memoizedState!==null&&DA(r,Hn,t.memoizedState,t.memoizedProps);break;case 5:Ea(t,i,r);break;case 3:case 4:var l=Hn;Hn=Fl(t.stateNode.containerInfo),Ea(t,i,r),Hn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=_r,_r=16777216,Ea(t,i,r),_r=l):Ea(t,i,r));break;default:Ea(t,i,r)}}function q0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Fr(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Ut=l,X0(l,t)}q0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Y0(t),t=t.sibling}function Y0(t){switch(t.tag){case 0:case 11:case 15:Fr(t),t.flags&2048&&Ii(9,t,t.return);break;case 3:Fr(t);break;case 12:Fr(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Nl(t)):Fr(t);break;default:Fr(t)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Ut=l,X0(l,t)}q0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),Nl(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Nl(i));break;default:Nl(i)}t=t.sibling}}function X0(t,i){for(;Ut!==null;){var r=Ut;switch(r.tag){case 0:case 11:case 15:Ii(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ar(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ut=l;else e:for(r=t;Ut!==null;){l=Ut;var h=l.sibling,v=l.return;if(P0(l),l===r){Ut=null;break e}if(h!==null){h.return=v,Ut=h;break e}Ut=v}}}var qT={getCacheForType:function(t){var i=Ht(At),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return Ht(At).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,qe=0,it=null,ke=null,Le=0,Ie=0,bn=null,Ki=!1,Ma=!1,Rd=!1,Ti=0,pt=0,Wi=0,Os=0,kd=0,Sn=0,Na=0,Hr=null,dn=null,zd=!1,Dl=0,I0=0,Rl=1/0,kl=null,Zi=null,kt=0,Qi=null,Da=null,Ai=0,Vd=0,Ld=null,K0=null,Gr=0,Od=null;function wn(){return(qe&2)!==0&&Le!==0?Le&-Le:E.T!==null?Fd():dp()}function W0(){if(Sn===0)if((Le&536870912)===0||Pe){var t=Re;Re<<=1,(Re&3932160)===0&&(Re=262144),Sn=t}else Sn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,r){(t===it&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)&&(Ra(t,0),Ji(t,Le,Sn,!1)),Wn(t,r),((qe&2)===0||t!==it)&&(t===it&&((qe&2)===0&&(Os|=r),pt===4&&Ji(t,Le,Sn,!1)),ei(t))}function Z0(t,i,r){if((qe&6)!==0)throw Error(a(327));var l=!r&&(i&127)===0&&(i&t.expiredLanes)===0||Ze(t,i),h=l?KT(t,i):Bd(t,i,!0),v=l;do{if(h===0){Ma&&!l&&Ji(t,i,0,!1);break}else{if(r=t.current.alternate,v&&!XT(r)){h=Bd(t,i,!1),v=!1;continue}if(h===2){if(v=i,t.errorRecoveryDisabledLanes&v)var w=0;else w=t.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var R=t;h=Hr;var G=R.current.memoizedState.isDehydrated;if(G&&(Ra(R,w).flags|=256),w=Bd(R,w,!1),w!==2){if(Rd&&!G){R.errorRecoveryDisabledLanes|=v,Os|=v,h=4;break e}v=dn,dn=h,v!==null&&(dn===null?dn=v:dn.push.apply(dn,v))}h=w}if(v=!1,h!==2)continue}}if(h===1){Ra(t,0),Ji(t,i,0,!0);break}e:{switch(l=t,v=h,v){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ji(l,i,Sn,!Ki);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Dl+300-Te(),10<h)){if(Ji(l,i,Sn,!Ki),dt(l,0,!0)!==0)break e;Ai=i,l.timeoutHandle=My(Q0.bind(null,l,r,dn,kl,zd,i,Sn,Os,Na,Ki,v,"Throttled",-0,0),h);break e}Q0(l,r,dn,kl,zd,i,Sn,Os,Na,Ki,v,null,-0,0)}}break}while(!0);ei(t)}function Q0(t,i,r,l,h,v,w,R,G,Z,se,re,J,ne){if(t.timeoutHandle=-1,re=i.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},G0(i,v,re);var he=(v&62914560)===v?Dl-Te():(v&4194048)===v?I0-Te():0;if(he=RA(re,he),he!==null){Ai=v,t.cancelPendingCommit=he(ry.bind(null,t,i,v,r,l,h,w,R,G,se,re,null,J,ne)),Ji(t,v,w,!Z);return}}ry(t,i,v,r,l,h,w,R,G)}function XT(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],v=h.getSnapshot;h=h.value;try{if(!gn(v(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(t,i,r,l){i&=~kd,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var v=31-Tt(h),w=1<<v;l[v]=-1,h&=~w}r!==0&&lp(t,r,i)}function zl(){return(qe&6)===0?(qr(0),!1):!0}function Pd(){if(ke!==null){if(Ie===0)var t=ke.return;else t=ke,mi=Es=null,Ju(t),Sa=null,Er=0,t=ke;for(;t!==null;)N0(t.alternate,t),t=t.return;ke=null}}function Ra(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,hA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Ai=0,Pd(),it=t,ke=r=fi(t.current,null),Le=i,Ie=0,bn=null,Ki=!1,Ma=Ze(t,i),Rd=!1,Na=Sn=kd=Os=Wi=pt=0,dn=Hr=null,zd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Tt(l),v=1<<h;i|=t[h],l&=~v}return Ti=i,el(),r}function J0(t,i){Ce=null,E.H=Lr,i===ba||i===ll?(i=pg(),Ie=3):i===_u?(i=pg(),Ie=4):Ie=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,ke===null&&(pt=1,wl(t,Dn(i,t.current)))}function ey(){var t=xn.current;return t===null?!0:(Le&4194048)===Le?Vn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Vn:!1}function ty(){var t=E.H;return E.H=Lr,t===null?Lr:t}function ny(){var t=E.A;return E.A=qT,t}function Vl(){pt=4,Ki||(Le&4194048)!==Le&&xn.current!==null||(Ma=!0),(Wi&134217727)===0&&(Os&134217727)===0||it===null||Ji(it,Le,Sn,!1)}function Bd(t,i,r){var l=qe;qe|=2;var h=ty(),v=ny();(it!==t||Le!==i)&&(kl=null,Ra(t,i)),i=!1;var w=pt;e:do try{if(Ie!==0&&ke!==null){var R=ke,G=bn;switch(Ie){case 8:Pd(),w=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var Z=Ie;if(Ie=0,bn=null,ka(t,R,G,Z),r&&Ma){w=0;break e}break;default:Z=Ie,Ie=0,bn=null,ka(t,R,G,Z)}}IT(),w=pt;break}catch(se){J0(t,se)}while(!0);return i&&t.shellSuspendCounter++,mi=Es=null,qe=l,E.H=h,E.A=v,ke===null&&(it=null,Le=0,el()),w}function IT(){for(;ke!==null;)iy(ke)}function KT(t,i){var r=qe;qe|=2;var l=ty(),h=ny();it!==t||Le!==i?(kl=null,Rl=Te()+500,Ra(t,i)):Ma=Ze(t,i);e:do try{if(Ie!==0&&ke!==null){i=ke;var v=bn;t:switch(Ie){case 1:Ie=0,bn=null,ka(t,i,v,1);break;case 2:case 9:if(hg(v)){Ie=0,bn=null,sy(i);break}i=function(){Ie!==2&&Ie!==9||it!==t||(Ie=7),ei(t)},v.then(i,i);break e;case 3:Ie=7;break e;case 4:Ie=5;break e;case 7:hg(v)?(Ie=0,bn=null,sy(i)):(Ie=0,bn=null,ka(t,i,v,7));break;case 5:var w=null;switch(ke.tag){case 26:w=ke.memoizedState;case 5:case 27:var R=ke;if(w?Hy(w):R.stateNode.complete){Ie=0,bn=null;var G=R.sibling;if(G!==null)ke=G;else{var Z=R.return;Z!==null?(ke=Z,Ll(Z)):ke=null}break t}}Ie=0,bn=null,ka(t,i,v,5);break;case 6:Ie=0,bn=null,ka(t,i,v,6);break;case 8:Pd(),pt=6;break e;default:throw Error(a(462))}}WT();break}catch(se){J0(t,se)}while(!0);return mi=Es=null,E.H=l,E.A=h,qe=r,ke!==null?0:(it=null,Le=0,el(),pt)}function WT(){for(;ke!==null&&!vt();)iy(ke)}function iy(t){var i=E0(t.alternate,t,Ti);t.memoizedProps=t.pendingProps,i===null?Ll(t):ke=i}function sy(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=S0(r,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=S0(r,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Ju(i);default:N0(r,i),i=ke=ng(i,Ti),i=E0(r,i,Ti)}t.memoizedProps=t.pendingProps,i===null?Ll(t):ke=i}function ka(t,i,r,l){mi=Es=null,Ju(i),Sa=null,Er=0;var h=i.return;try{if(BT(t,h,i,r,Le)){pt=1,wl(t,Dn(r,t.current)),ke=null;return}}catch(v){if(h!==null)throw ke=h,v;pt=1,wl(t,Dn(r,t.current)),ke=null;return}i.flags&32768?(Pe||l===1?t=!0:Ma||(Le&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(i,t)):Ll(i)}function Ll(t){var i=t;do{if((i.flags&32768)!==0){ay(i,Ki);return}t=i.return;var r=_T(i.alternate,i,Ti);if(r!==null){ke=r;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);pt===0&&(pt=5)}function ay(t,i){do{var r=FT(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);pt=6,ke=null}function ry(t,i,r,l,h,v,w,R,G){t.cancelPendingCommit=null;do Ol();while(kt!==0);if((qe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(v=i.lanes|i.childLanes,v|=Cu,Fo(t,r,v,w,R,G),t===it&&(ke=it=null,Le=0),Da=i,Qi=t,Ai=r,Vd=v,Ld=h,K0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eA(ct,function(){return dy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=E.T,E.T=null,h=A.p,A.p=2,w=qe,qe|=4;try{HT(t,i,r)}finally{qe=w,A.p=h,E.T=l}}kt=1,oy(),ly(),cy()}}function oy(){if(kt===1){kt=0;var t=Qi,i=Da,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=E.T,E.T=null;var l=A.p;A.p=2;var h=qe;qe|=4;try{_0(i,t);var v=Wd,w=Xp(t.containerInfo),R=v.focusedElem,G=v.selectionRange;if(w!==R&&R&&R.ownerDocument&&Yp(R.ownerDocument.documentElement,R)){if(G!==null&&Su(R)){var Z=G.start,se=G.end;if(se===void 0&&(se=Z),"selectionStart"in R)R.selectionStart=Z,R.selectionEnd=Math.min(se,R.value.length);else{var re=R.ownerDocument||document,J=re&&re.defaultView||window;if(J.getSelection){var ne=J.getSelection(),he=R.textContent.length,Se=Math.min(G.start,he),et=G.end===void 0?Se:Math.min(G.end,he);!ne.extend&&Se>et&&(w=et,et=Se,Se=w);var K=qp(R,Se),X=qp(R,et);if(K&&X&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==X.node||ne.focusOffset!==X.offset)){var W=re.createRange();W.setStart(K.node,K.offset),ne.removeAllRanges(),Se>et?(ne.addRange(W),ne.extend(X.node,X.offset)):(W.setEnd(X.node,X.offset),ne.addRange(W))}}}}for(re=[],ne=R;ne=ne.parentNode;)ne.nodeType===1&&re.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<re.length;R++){var ae=re[R];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Il=!!Kd,Wd=Kd=null}finally{qe=h,A.p=l,E.T=r}}t.current=i,kt=2}}function ly(){if(kt===2){kt=0;var t=Qi,i=Da,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=E.T,E.T=null;var l=A.p;A.p=2;var h=qe;qe|=4;try{O0(t,i.alternate,i)}finally{qe=h,A.p=l,E.T=r}}kt=3}}function cy(){if(kt===4||kt===3){kt=0,We();var t=Qi,i=Da,r=Ai,l=K0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Da=Qi=null,uy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Zi=null),nu(r),i=i.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Pt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=E.T,h=A.p,A.p=2,E.T=null;try{for(var v=t.onRecoverableError,w=0;w<l.length;w++){var R=l[w];v(R.value,{componentStack:R.stack})}}finally{E.T=i,A.p=h}}(Ai&3)!==0&&Ol(),ei(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Od?Gr++:(Gr=0,Od=t):Gr=0,qr(0)}}function uy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ar(i)))}function Ol(){return oy(),ly(),cy(),dy()}function dy(){if(kt!==5)return!1;var t=Qi,i=Vd;Vd=0;var r=nu(Ai),l=E.T,h=A.p;try{A.p=32>r?32:r,E.T=null,r=Ld,Ld=null;var v=Qi,w=Ai;if(kt=0,Da=Qi=null,Ai=0,(qe&6)!==0)throw Error(a(331));var R=qe;if(qe|=4,Y0(v.current),H0(v,v.current,w,r),qe=R,qr(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Pt,v)}catch{}return!0}finally{A.p=h,E.T=l,uy(t,i)}}function fy(t,i,r){i=Dn(r,i),i=md(t.stateNode,i,2),t=qi(t,i,2),t!==null&&(Wn(t,2),ei(t))}function Ke(t,i,r){if(t.tag===3)fy(t,t,r);else for(;i!==null;){if(i.tag===3){fy(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zi===null||!Zi.has(l))){t=Dn(r,t),r=h0(2),l=qi(i,r,2),l!==null&&(m0(r,l,i,t),Wn(l,2),ei(l));break}}i=i.return}}function Ud(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new YT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(r)||(Rd=!0,h.add(r),t=ZT.bind(null,t,i,r),i.then(t,t))}function ZT(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,it===t&&(Le&r)===r&&(pt===4||pt===3&&(Le&62914560)===Le&&300>Te()-Dl?(qe&2)===0&&Ra(t,0):kd|=r,Na===Le&&(Na=0)),ei(t)}function hy(t,i){i===0&&(i=$e()),t=Ts(t,i),t!==null&&(Wn(t,i),ei(t))}function QT(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),hy(t,r)}function JT(t,i){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),hy(t,r)}function eA(t,i){return st(t,i)}var Pl=null,za=null,$d=!1,Bl=!1,_d=!1,es=0;function ei(t){t!==za&&t.next===null&&(za===null?Pl=za=t:za=za.next=t),Bl=!0,$d||($d=!0,nA())}function qr(t,i){if(!_d&&Bl){_d=!0;do for(var r=!1,l=Pl;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var v=0;else{var w=l.suspendedLanes,R=l.pingedLanes;v=(1<<31-Tt(42|t)+1)-1,v&=h&~(w&~R),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(r=!0,yy(l,v))}else v=Le,v=dt(l,l===it?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(v&3)===0||Ze(l,v)||(r=!0,yy(l,v));l=l.next}while(r);_d=!1}}function tA(){my()}function my(){Bl=$d=!1;var t=0;es!==0&&fA()&&(t=es);for(var i=Te(),r=null,l=Pl;l!==null;){var h=l.next,v=py(l,i);v===0?(l.next=null,r===null?Pl=h:r.next=h,h===null&&(za=r)):(r=l,(t!==0||(v&3)!==0)&&(Bl=!0)),l=h}kt!==0&&kt!==5||qr(t),es!==0&&(es=0)}function py(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var w=31-Tt(v),R=1<<w,G=h[w];G===-1?((R&r)===0||(R&l)!==0)&&(h[w]=en(R,i)):G<=i&&(t.expiredLanes|=R),v&=~R}if(i=it,r=Le,r=dt(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(Ie===2||Ie===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ye(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Ze(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&Ye(l),nu(r)){case 2:case 8:r=Kn;break;case 32:r=ct;break;case 268435456:r=bt;break;default:r=ct}return l=gy.bind(null,t),r=st(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&Ye(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ol()&&t.callbackNode!==r)return null;var l=Le;return l=dt(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Z0(t,l,i),py(t,Te()),t.callbackNode!=null&&t.callbackNode===r?gy.bind(null,t):null)}function yy(t,i){if(Ol())return null;Z0(t,i,!0)}function nA(){mA(function(){(qe&6)!==0?st(an,tA):my()})}function Fd(){if(es===0){var t=xa;t===0&&(t=ce,ce<<=1,(ce&261888)===0&&(ce=256)),es=t}return es}function xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yo(""+t)}function vy(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function iA(t,i,r,l,h){if(i==="submit"&&r&&r.stateNode===h){var v=xy((h[rn]||null).action),w=l.submitter;w&&(i=(i=w[rn]||null)?xy(i.formAction):w.getAttribute("formAction"),i!==null&&(v=i,w=null));var R=new Wo("action","action",null,l,h);t.push({event:R,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(es!==0){var G=w?vy(h,w):new FormData(h);ld(r,{pending:!0,data:G,method:h.method,action:v},null,G)}}else typeof v=="function"&&(R.preventDefault(),G=w?vy(h,w):new FormData(h),ld(r,{pending:!0,data:G,method:h.method,action:v},v,G))},currentTarget:h}]})}}for(var Hd=0;Hd<Au.length;Hd++){var Gd=Au[Hd],sA=Gd.toLowerCase(),aA=Gd[0].toUpperCase()+Gd.slice(1);Fn(sA,"on"+aA)}Fn(Wp,"onAnimationEnd"),Fn(Zp,"onAnimationIteration"),Fn(Qp,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(ST,"onTransitionRun"),Fn(wT,"onTransitionStart"),Fn(jT,"onTransitionCancel"),Fn(Jp,"onTransitionEnd"),sa("onMouseEnter",["mouseout","mouseover"]),sa("onMouseLeave",["mouseout","mouseover"]),sa("onPointerEnter",["pointerout","pointerover"]),sa("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yr));function by(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var v=void 0;if(i)for(var w=l.length-1;0<=w;w--){var R=l[w],G=R.instance,Z=R.currentTarget;if(R=R.listener,G!==v&&h.isPropagationStopped())break e;v=R,h.currentTarget=Z;try{v(h)}catch(se){Jo(se)}h.currentTarget=null,v=G}else for(w=0;w<l.length;w++){if(R=l[w],G=R.instance,Z=R.currentTarget,R=R.listener,G!==v&&h.isPropagationStopped())break e;v=R,h.currentTarget=Z;try{v(h)}catch(se){Jo(se)}h.currentTarget=null,v=G}}}}function ze(t,i){var r=i[iu];r===void 0&&(r=i[iu]=new Set);var l=t+"__bubble";r.has(l)||(Sy(i,t,2,!1),r.add(l))}function qd(t,i,r){var l=0;i&&(l|=4),Sy(r,t,l,i)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[Ul]){t[Ul]=!0,mp.forEach(function(r){r!=="selectionchange"&&(rA.has(r)||qd(r,!1,t),qd(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ul]||(i[Ul]=!0,qd("selectionchange",!1,i))}}function Sy(t,i,r,l){switch(Wy(i)){case 2:var h=VA;break;case 8:h=LA;break;default:h=lf}r=h.bind(null,i,r,t),h=void 0,!fu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function Xd(t,i,r,l,h){var v=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var R=l.stateNode.containerInfo;if(R===h)break;if(w===4)for(w=l.return;w!==null;){var G=w.tag;if((G===3||G===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;R!==null;){if(w=ta(R),w===null)return;if(G=w.tag,G===5||G===6||G===26||G===27){l=v=w;continue e}R=R.parentNode}}l=l.return}Cp(function(){var Z=v,se=uu(r),re=[];e:{var J=eg.get(t);if(J!==void 0){var ne=Wo,he=t;switch(t){case"keypress":if(Io(r)===0)break e;case"keydown":case"keyup":ne=Jj;break;case"focusin":he="focus",ne=gu;break;case"focusout":he="blur",ne=gu;break;case"beforeblur":case"afterblur":ne=gu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Np;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=_j;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=nT;break;case Wp:case Zp:case Qp:ne=Gj;break;case Jp:ne=sT;break;case"scroll":case"scrollend":ne=Uj;break;case"wheel":ne=rT;break;case"copy":case"cut":case"paste":ne=Yj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Rp;break;case"toggle":case"beforetoggle":ne=lT}var Se=(i&4)!==0,et=!Se&&(t==="scroll"||t==="scrollend"),K=Se?J!==null?J+"Capture":null:J;Se=[];for(var X=Z,W;X!==null;){var ae=X;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||K===null||(ae=mr(X,K),ae!=null&&Se.push(Xr(X,ae,W))),et)break;X=X.return}0<Se.length&&(J=new ne(J,he,null,r,se),re.push({event:J,listeners:Se}))}}if((i&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",ne=t==="mouseout"||t==="pointerout",J&&r!==cu&&(he=r.relatedTarget||r.fromElement)&&(ta(he)||he[ea]))break e;if((ne||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(he=r.relatedTarget||r.toElement,ne=Z,he=he?ta(he):null,he!==null&&(et=c(he),Se=he.tag,he!==et||Se!==5&&Se!==27&&Se!==6)&&(he=null)):(ne=null,he=Z),ne!==he)){if(Se=Np,ae="onMouseLeave",K="onMouseEnter",X="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Rp,ae="onPointerLeave",K="onPointerEnter",X="pointer"),et=ne==null?J:hr(ne),W=he==null?J:hr(he),J=new Se(ae,X+"leave",ne,r,se),J.target=et,J.relatedTarget=W,ae=null,ta(se)===Z&&(Se=new Se(K,X+"enter",he,r,se),Se.target=W,Se.relatedTarget=et,ae=Se),et=ae,ne&&he)t:{for(Se=oA,K=ne,X=he,W=0,ae=K;ae;ae=Se(ae))W++;ae=0;for(var be=X;be;be=Se(be))ae++;for(;0<W-ae;)K=Se(K),W--;for(;0<ae-W;)X=Se(X),ae--;for(;W--;){if(K===X||X!==null&&K===X.alternate){Se=K;break t}K=Se(K),X=Se(X)}Se=null}else Se=null;ne!==null&&wy(re,J,ne,Se,!1),he!==null&&et!==null&&wy(re,et,he,Se,!0)}}e:{if(J=Z?hr(Z):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var _e=Up;else if(Pp(J))if($p)_e=xT;else{_e=gT;var ye=pT}else ne=J.nodeName,!ne||ne.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&lu(Z.elementType)&&(_e=Up):_e=yT;if(_e&&(_e=_e(t,Z))){Bp(re,_e,r,se);break e}ye&&ye(t,J,Z),t==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&ou(J,"number",J.value)}switch(ye=Z?hr(Z):window,t){case"focusin":(Pp(ye)||ye.contentEditable==="true")&&(ua=ye,wu=Z,wr=null);break;case"focusout":wr=wu=ua=null;break;case"mousedown":ju=!0;break;case"contextmenu":case"mouseup":case"dragend":ju=!1,Ip(re,r,se);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":Ip(re,r,se)}var Ne;if(xu)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ca?Lp(t,r)&&(Oe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Oe="onCompositionStart");Oe&&(kp&&r.locale!=="ko"&&(ca||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ca&&(Ne=Ep()):(Bi=se,hu="value"in Bi?Bi.value:Bi.textContent,ca=!0)),ye=$l(Z,Oe),0<ye.length&&(Oe=new Dp(Oe,t,null,r,se),re.push({event:Oe,listeners:ye}),Ne?Oe.data=Ne:(Ne=Op(r),Ne!==null&&(Oe.data=Ne)))),(Ne=uT?dT(t,r):fT(t,r))&&(Oe=$l(Z,"onBeforeInput"),0<Oe.length&&(ye=new Dp("onBeforeInput","beforeinput",null,r,se),re.push({event:ye,listeners:Oe}),ye.data=Ne)),iA(re,t,Z,r,se)}by(re,i)})}function Xr(t,i,r){return{instance:t,listener:i,currentTarget:r}}function $l(t,i){for(var r=i+"Capture",l=[];t!==null;){var h=t,v=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||v===null||(h=mr(t,r),h!=null&&l.unshift(Xr(t,h,v)),h=mr(t,i),h!=null&&l.push(Xr(t,h,v))),t.tag===3)return l;t=t.return}return[]}function oA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wy(t,i,r,l,h){for(var v=i._reactName,w=[];r!==null&&r!==l;){var R=r,G=R.alternate,Z=R.stateNode;if(R=R.tag,G!==null&&G===l)break;R!==5&&R!==26&&R!==27||Z===null||(G=Z,h?(Z=mr(r,v),Z!=null&&w.unshift(Xr(r,Z,G))):h||(Z=mr(r,v),Z!=null&&w.push(Xr(r,Z,G)))),r=r.return}w.length!==0&&t.push({event:i,listeners:w})}var lA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function jy(t){return(typeof t=="string"?t:""+t).replace(lA,`
`).replace(cA,"")}function Ty(t,i){return i=jy(i),jy(t)===i}function Je(t,i,r,l,h,v){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ra(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ra(t,""+l);break;case"className":Go(t,"class",l);break;case"tabIndex":Go(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Go(t,r,l);break;case"style":Tp(t,l,v);break;case"data":if(i!=="object"){Go(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Yo(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(r==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Yo(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Yo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Ho(t,"popover",l);break;case"xlinkActuate":ci(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ci(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ci(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ci(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ci(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ci(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ci(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ci(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ci(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ho(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Pj.get(r)||r,Ho(t,r,l))}}function Id(t,i,r,l,h,v){switch(r){case"style":Tp(t,l,v);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?ra(t,l):(typeof l=="number"||typeof l=="bigint")&&ra(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pp.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),v=t[rn]||null,v=v!=null?v[r]:null,typeof v=="function"&&t.removeEventListener(i,v,h),typeof l=="function")){typeof v!="function"&&v!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ho(t,r,l)}}}function qt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,v;for(v in r)if(r.hasOwnProperty(v)){var w=r[v];if(w!=null)switch(v){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(t,i,v,w,r,null)}}h&&Je(t,i,"srcSet",r.srcSet,r,null),l&&Je(t,i,"src",r.src,r,null);return;case"input":ze("invalid",t);var R=v=w=h=null,G=null,Z=null;for(l in r)if(r.hasOwnProperty(l)){var se=r[l];if(se!=null)switch(l){case"name":h=se;break;case"type":w=se;break;case"checked":G=se;break;case"defaultChecked":Z=se;break;case"value":v=se;break;case"defaultValue":R=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(a(137,i));break;default:Je(t,i,l,se,r,null)}}bp(t,v,R,G,Z,w,h,!1);return;case"select":ze("invalid",t),l=w=v=null;for(h in r)if(r.hasOwnProperty(h)&&(R=r[h],R!=null))switch(h){case"value":v=R;break;case"defaultValue":w=R;break;case"multiple":l=R;default:Je(t,i,h,R,r,null)}i=v,r=w,t.multiple=!!l,i!=null?aa(t,!!l,i,!1):r!=null&&aa(t,!!l,r,!0);return;case"textarea":ze("invalid",t),v=h=l=null;for(w in r)if(r.hasOwnProperty(w)&&(R=r[w],R!=null))switch(w){case"value":l=R;break;case"defaultValue":h=R;break;case"children":v=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Je(t,i,w,R,r,null)}wp(t,l,h,v);return;case"option":for(G in r)if(r.hasOwnProperty(G)&&(l=r[G],l!=null))switch(G){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,G,l,r,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Yr.length;l++)ze(Yr[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in r)if(r.hasOwnProperty(Z)&&(l=r[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Je(t,i,Z,l,r,null)}return;default:if(lu(i)){for(se in r)r.hasOwnProperty(se)&&(l=r[se],l!==void 0&&Id(t,i,se,l,r,void 0));return}}for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null&&Je(t,i,R,l,r,null))}function uA(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,v=null,w=null,R=null,G=null,Z=null,se=null;for(ne in r){var re=r[ne];if(r.hasOwnProperty(ne)&&re!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":G=re;default:l.hasOwnProperty(ne)||Je(t,i,ne,null,l,re)}}for(var J in l){var ne=l[J];if(re=r[J],l.hasOwnProperty(J)&&(ne!=null||re!=null))switch(J){case"type":v=ne;break;case"name":h=ne;break;case"checked":Z=ne;break;case"defaultChecked":se=ne;break;case"value":w=ne;break;case"defaultValue":R=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,i));break;default:ne!==re&&Je(t,i,J,ne,l,re)}}ru(t,w,R,G,Z,se,v,h);return;case"select":ne=w=R=J=null;for(v in r)if(G=r[v],r.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ne=G;default:l.hasOwnProperty(v)||Je(t,i,v,null,l,G)}for(h in l)if(v=l[h],G=r[h],l.hasOwnProperty(h)&&(v!=null||G!=null))switch(h){case"value":J=v;break;case"defaultValue":R=v;break;case"multiple":w=v;default:v!==G&&Je(t,i,h,v,l,G)}i=R,r=w,l=ne,J!=null?aa(t,!!r,J,!1):!!l!=!!r&&(i!=null?aa(t,!!r,i,!0):aa(t,!!r,r?[]:"",!1));return;case"textarea":ne=J=null;for(R in r)if(h=r[R],r.hasOwnProperty(R)&&h!=null&&!l.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Je(t,i,R,null,l,h)}for(w in l)if(h=l[w],v=r[w],l.hasOwnProperty(w)&&(h!=null||v!=null))switch(w){case"value":J=h;break;case"defaultValue":ne=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==v&&Je(t,i,w,h,l,v)}Sp(t,J,ne);return;case"option":for(var he in r)if(J=r[he],r.hasOwnProperty(he)&&J!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Je(t,i,he,null,l,J)}for(G in l)if(J=l[G],ne=r[G],l.hasOwnProperty(G)&&J!==ne&&(J!=null||ne!=null))switch(G){case"selected":t.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Je(t,i,G,J,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in r)J=r[Se],r.hasOwnProperty(Se)&&J!=null&&!l.hasOwnProperty(Se)&&Je(t,i,Se,null,l,J);for(Z in l)if(J=l[Z],ne=r[Z],l.hasOwnProperty(Z)&&J!==ne&&(J!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:Je(t,i,Z,J,l,ne)}return;default:if(lu(i)){for(var et in r)J=r[et],r.hasOwnProperty(et)&&J!==void 0&&!l.hasOwnProperty(et)&&Id(t,i,et,void 0,l,J);for(se in l)J=l[se],ne=r[se],!l.hasOwnProperty(se)||J===ne||J===void 0&&ne===void 0||Id(t,i,se,J,l,ne);return}}for(var K in r)J=r[K],r.hasOwnProperty(K)&&J!=null&&!l.hasOwnProperty(K)&&Je(t,i,K,null,l,J);for(re in l)J=l[re],ne=r[re],!l.hasOwnProperty(re)||J===ne||J==null&&ne==null||Je(t,i,re,J,l,ne)}function Ay(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],v=h.transferSize,w=h.initiatorType,R=h.duration;if(v&&R&&Ay(w)){for(w=0,R=h.responseEnd,l+=1;l<r.length;l++){var G=r[l],Z=G.startTime;if(Z>R)break;var se=G.transferSize,re=G.initiatorType;se&&Ay(re)&&(G=G.responseEnd,w+=se*(G<R?1:(R-Z)/(G-Z)))}if(--l,i+=8*(v+w)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Kd=null,Wd=null;function _l(t){return t.nodeType===9?t:t.ownerDocument}function Cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ey(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function fA(){var t=window.event;return t&&t.type==="popstate"?t===Qd?!1:(Qd=t,!0):(Qd=null,!1)}var My=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(t){return Ny.resolve(null).then(t).catch(pA)}:My;function pA(t){setTimeout(function(){throw t})}function ts(t){return t==="head"}function Dy(t,i){var r=i,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Pa(i);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Ir(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Ir(r);for(var v=r.firstChild;v;){var w=v.nextSibling,R=v.nodeName;v[fr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=w}}else r==="body"&&Ir(t.ownerDocument.body);r=h}while(r);Pa(i)}function Ry(t,i){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Jd(r),su(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function gA(t,i,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var v=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function yA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ln(t.nextSibling),t===null))return null;return t}function ky(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$?"||t.data==="$~"}function tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function xA(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nf=null;function zy(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Ln(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function Vy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function Ly(t,i,r){switch(i=_l(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ir(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);su(t)}var On=new Map,Oy=new Set;function Fl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ci=A.d;A.d={f:vA,r:bA,D:SA,C:wA,L:jA,m:TA,X:CA,S:AA,M:EA};function vA(){var t=Ci.f(),i=zl();return t||i}function bA(t){var i=na(t);i!==null&&i.tag===5&&i.type==="form"?Jg(i):Ci.r(t)}var Va=typeof document>"u"?null:document;function Py(t,i,r){var l=Va;if(l&&typeof i=="string"&&i){var h=Mn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Oy.has(h)||(Oy.add(h),t={rel:t,crossOrigin:r,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),Bt(i),l.head.appendChild(i)))}}function SA(t){Ci.D(t),Py("dns-prefetch",t,null)}function wA(t,i){Ci.C(t,i),Py("preconnect",t,i)}function jA(t,i,r){Ci.L(t,i,r);var l=Va;if(l&&t&&i){var h='link[rel="preload"][as="'+Mn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Mn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Mn(r.imageSizes)+'"]')):h+='[href="'+Mn(t)+'"]';var v=h;switch(i){case"style":v=La(t);break;case"script":v=Oa(t)}On.has(v)||(t=g({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),On.set(v,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Kr(v))||i==="script"&&l.querySelector(Wr(v))||(i=l.createElement("link"),qt(i,"link",t),Bt(i),l.head.appendChild(i)))}}function TA(t,i){Ci.m(t,i);var r=Va;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Mn(l)+'"][href="'+Mn(t)+'"]',v=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Oa(t)}if(!On.has(v)&&(t=g({rel:"modulepreload",href:t},i),On.set(v,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Wr(v)))return}l=r.createElement("link"),qt(l,"link",t),Bt(l),r.head.appendChild(l)}}}function AA(t,i,r){Ci.S(t,i,r);var l=Va;if(l&&t){var h=ia(l).hoistableStyles,v=La(t);i=i||"default";var w=h.get(v);if(!w){var R={loading:0,preload:null};if(w=l.querySelector(Kr(v)))R.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":i},r),(r=On.get(v))&&sf(t,r);var G=w=l.createElement("link");Bt(G),qt(G,"link",t),G._p=new Promise(function(Z,se){G.onload=Z,G.onerror=se}),G.addEventListener("load",function(){R.loading|=1}),G.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Hl(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:R},h.set(v,w)}}}function CA(t,i){Ci.X(t,i);var r=Va;if(r&&t){var l=ia(r).hoistableScripts,h=Oa(t),v=l.get(h);v||(v=r.querySelector(Wr(h)),v||(t=g({src:t,async:!0},i),(i=On.get(h))&&af(t,i),v=r.createElement("script"),Bt(v),qt(v,"link",t),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(h,v))}}function EA(t,i){Ci.M(t,i);var r=Va;if(r&&t){var l=ia(r).hoistableScripts,h=Oa(t),v=l.get(h);v||(v=r.querySelector(Wr(h)),v||(t=g({src:t,async:!0,type:"module"},i),(i=On.get(h))&&af(t,i),v=r.createElement("script"),Bt(v),qt(v,"link",t),r.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},l.set(h,v))}}function By(t,i,r,l){var h=(h=ue.current)?Fl(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=La(r.href),r=ia(h).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=La(r.href);var v=ia(h).hoistableStyles,w=v.get(t);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,w),(v=h.querySelector(Kr(t)))&&!v._p&&(w.instance=v,w.state.loading=5),On.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(t,r),v||MA(h,t,r,w.state))),i&&l===null)throw Error(a(528,""));return w}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(r),r=ia(h).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function La(t){return'href="'+Mn(t)+'"'}function Kr(t){return'link[rel="stylesheet"]['+t+"]"}function Uy(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function MA(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",r),Bt(i),t.head.appendChild(i))}function Oa(t){return'[src="'+Mn(t)+'"]'}function Wr(t){return"script[async]"+t}function $y(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Mn(r.href)+'"]');if(l)return i.instance=l,Bt(l),l;var h=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Bt(l),qt(l,"style",h),Hl(l,r.precedence,t),i.instance=l;case"stylesheet":h=La(r.href);var v=t.querySelector(Kr(h));if(v)return i.state.loading|=4,i.instance=v,Bt(v),v;l=Uy(r),(h=On.get(h))&&sf(l,h),v=(t.ownerDocument||t).createElement("link"),Bt(v);var w=v;return w._p=new Promise(function(R,G){w.onload=R,w.onerror=G}),qt(v,"link",l),i.state.loading|=4,Hl(v,r.precedence,t),i.instance=v;case"script":return v=Oa(r.src),(h=t.querySelector(Wr(v)))?(i.instance=h,Bt(h),h):(l=r,(h=On.get(v))&&(l=g({},r),af(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Bt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hl(l,r.precedence,t));return i.instance}function Hl(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,v=h,w=0;w<l.length;w++){var R=l[w];if(R.dataset.precedence===i)v=R;else if(v!==h)break}v?v.parentNode.insertBefore(t,v.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function sf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function af(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Gl=null;function _y(t,i,r){if(Gl===null){var l=new Map,h=Gl=new Map;h.set(r,l)}else h=Gl,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var v=r[h];if(!(v[fr]||v[_t]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var w=v.getAttribute(i)||"";w=t+w;var R=l.get(w);R?R.push(v):l.set(w,[v])}}return l}function Fy(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function NA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DA(t,i,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(l.href),v=i.querySelector(Kr(h));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ql.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=v,Bt(v);return}v=i.ownerDocument||i,l=Uy(l),(h=On.get(h))&&sf(l,h),v=v.createElement("link"),Bt(v);var w=v;w._p=new Promise(function(R,G){w.onload=R,w.onerror=G}),qt(v,"link",l),r.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=ql.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var rf=0;function RA(t,i){return t.stylesheets&&t.count===0&&Xl(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Xl(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+i);0<t.imgBytes&&rf===0&&(rf=62500*dA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xl(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>rf?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yl=null;function Xl(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yl=new Map,i.forEach(kA,t),Yl=null,ql.call(t))}function kA(t,i){if(!(i.state.loading&4)){var r=Yl.get(t);if(r)var l=r.get(null);else{r=new Map,Yl.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<h.length;v++){var w=h[v];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(r.set(w.dataset.precedence,w),l=w)}l&&r.set(null,l)}h=i.instance,w=h.getAttribute("data-precedence"),v=r.get(w)||l,v===l&&r.set(null,h),r.set(w,h),this.count++,l=ql.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),v?v.parentNode.insertBefore(h,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Zr={$$typeof:z,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function zA(t,i,r,l,h,v,w,R,G){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rt(0),this.hiddenUpdates=Rt(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=v,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Gy(t,i,r,l,h,v,w,R,G,Z,se,re){return t=new zA(t,i,r,w,G,Z,se,re,R),i=1,v===!0&&(i|=24),v=yn(3,null,null,i),t.current=v,v.stateNode=t,i=Bu(),i.refCount++,t.pooledCache=i,i.refCount++,v.memoizedState={element:l,isDehydrated:r,cache:i},Fu(v),t}function qy(t){return t?(t=ha,t):ha}function Yy(t,i,r,l,h,v){h=qy(h),l.context===null?l.context=h:l.pendingContext=h,l=Gi(i),l.payload={element:r},v=v===void 0?null:v,v!==null&&(l.callback=v),r=qi(t,l,i),r!==null&&(fn(r,t,i),Nr(r,t,i))}function Xy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function of(t,i){Xy(t,i),(t=t.alternate)&&Xy(t,i)}function Iy(t){if(t.tag===13||t.tag===31){var i=Ts(t,67108864);i!==null&&fn(i,t,67108864),of(t,67108864)}}function Ky(t){if(t.tag===13||t.tag===31){var i=wn();i=tu(i);var r=Ts(t,i);r!==null&&fn(r,t,i),of(t,i)}}var Il=!0;function VA(t,i,r,l){var h=E.T;E.T=null;var v=A.p;try{A.p=2,lf(t,i,r,l)}finally{A.p=v,E.T=h}}function LA(t,i,r,l){var h=E.T;E.T=null;var v=A.p;try{A.p=8,lf(t,i,r,l)}finally{A.p=v,E.T=h}}function lf(t,i,r,l){if(Il){var h=cf(l);if(h===null)Xd(t,i,l,Kl,r),Zy(t,l);else if(PA(h,t,i,r,l))l.stopPropagation();else if(Zy(t,l),i&4&&-1<OA.indexOf(t)){for(;h!==null;){var v=na(h);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var w=Ue(v.pendingLanes);if(w!==0){var R=v;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var G=1<<31-Tt(w);R.entanglements[1]|=G,w&=~G}ei(v),(qe&6)===0&&(Rl=Te()+500,qr(0))}}break;case 31:case 13:R=Ts(v,2),R!==null&&fn(R,v,2),zl(),of(v,2)}if(v=cf(l),v===null&&Xd(t,i,l,Kl,r),v===h)break;h=v}h!==null&&l.stopPropagation()}else Xd(t,i,l,null,r)}}function cf(t){return t=uu(t),uf(t)}var Kl=null;function uf(t){if(Kl=null,t=ta(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=u(i),t!==null)return t;t=null}else if(r===31){if(t=d(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Kl=t,null}function Wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case an:return 2;case Kn:return 8;case ct:case Cn:return 32;case bt:return 268435456;default:return 32}default:return 32}}var df=!1,ns=null,is=null,ss=null,Qr=new Map,Jr=new Map,as=[],OA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,i){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Qr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jr.delete(i.pointerId)}}function eo(t,i,r,l,h,v){return t===null||t.nativeEvent!==v?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:v,targetContainers:[h]},i!==null&&(i=na(i),i!==null&&Iy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function PA(t,i,r,l,h){switch(i){case"focusin":return ns=eo(ns,t,i,r,l,h),!0;case"dragenter":return is=eo(is,t,i,r,l,h),!0;case"mouseover":return ss=eo(ss,t,i,r,l,h),!0;case"pointerover":var v=h.pointerId;return Qr.set(v,eo(Qr.get(v)||null,t,i,r,l,h)),!0;case"gotpointercapture":return v=h.pointerId,Jr.set(v,eo(Jr.get(v)||null,t,i,r,l,h)),!0}return!1}function Qy(t){var i=ta(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=u(r),i!==null){t.blockedOn=i,fp(t.priority,function(){Ky(r)});return}}else if(i===31){if(i=d(r),i!==null){t.blockedOn=i,fp(t.priority,function(){Ky(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wl(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);cu=l,r.target.dispatchEvent(l),cu=null}else return i=na(r),i!==null&&Iy(i),t.blockedOn=r,!1;i.shift()}return!0}function Jy(t,i,r){Wl(t)&&r.delete(i)}function BA(){df=!1,ns!==null&&Wl(ns)&&(ns=null),is!==null&&Wl(is)&&(is=null),ss!==null&&Wl(ss)&&(ss=null),Qr.forEach(Jy),Jr.forEach(Jy)}function Zl(t,i){t.blockedOn===i&&(t.blockedOn=null,df||(df=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,BA)))}var Ql=null;function ex(t){Ql!==t&&(Ql=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ql===t&&(Ql=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(uf(l||r)===null)continue;break}var v=na(r);v!==null&&(t.splice(i,3),i-=3,ld(v,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Pa(t){function i(G){return Zl(G,t)}ns!==null&&Zl(ns,t),is!==null&&Zl(is,t),ss!==null&&Zl(ss,t),Qr.forEach(i),Jr.forEach(i);for(var r=0;r<as.length;r++){var l=as[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<as.length&&(r=as[0],r.blockedOn===null);)Qy(r),r.blockedOn===null&&as.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],v=r[l+1],w=h[rn]||null;if(typeof v=="function")w||ex(r);else if(w){var R=null;if(v&&v.hasAttribute("formAction")){if(h=v,w=v[rn]||null)R=w.formAction;else if(uf(h)!==null)continue}else R=w.action;typeof R=="function"?r[l+1]=R:(r.splice(l,3),l-=3),ex(r)}}}function tx(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(w){return h=w})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ff(t){this._internalRoot=t}Jl.prototype.render=ff.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=wn();Yy(r,l,t,i,null,null)},Jl.prototype.unmount=ff.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Yy(t.current,2,null,t,null,null),zl(),i[ea]=null}};function Jl(t){this._internalRoot=t}Jl.prototype.unstable_scheduleHydration=function(t){if(t){var i=dp();t={blockedOn:null,target:t,priority:i};for(var r=0;r<as.length&&i!==0&&i<as[r].priority;r++);as.splice(r,0,t),r===0&&Qy(t)}};var nx=n.version;if(nx!=="19.2.3")throw Error(a(527,nx,"19.2.3"));A.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var UA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:E,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Pt=ec.inject(UA),nt=ec}catch{}}return no.createRoot=function(t,i){if(!o(t))throw Error(a(299));var r=!1,l="",h=c0,v=u0,w=d0;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(v=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=Gy(t,1,!1,null,null,r,l,null,h,v,w,tx),t[ea]=i.current,Yd(t),new ff(i)},no.hydrateRoot=function(t,i,r){if(!o(t))throw Error(a(299));var l=!1,h="",v=c0,w=u0,R=d0,G=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(w=r.onCaughtError),r.onRecoverableError!==void 0&&(R=r.onRecoverableError),r.formState!==void 0&&(G=r.formState)),i=Gy(t,1,!0,i,r??null,l,h,G,v,w,R,tx),i.context=qy(null),r=i.current,l=wn(),l=tu(l),h=Gi(l),h.callback=null,qi(r,h,l),r=l,i.current.lanes=r,Wn(i,r),ei(i),t[ea]=i.current,Yd(t),new Jl(i)},no.version="19.2.3",no}var ux;function g3(){if(ux)return pf.exports;ux=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),pf.exports=p3(),pf.exports}var y3=g3();const x3=c1(y3);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="type.googleapis.com/google.protobuf.Int64Value",b3="type.googleapis.com/google.protobuf.UInt64Value";function j1(e,n){const s={};for(const a in e)e.hasOwnProperty(a)&&(s[a]=n(e[a]));return s}function Sc(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(n=>Sc(n));if(typeof e=="function"||typeof e=="object")return j1(e,n=>Sc(n));throw new Error("Data cannot be encoded in JSON: "+e)}function Ja(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case v3:case b3:{const n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(n=>Ja(n)):typeof e=="function"||typeof e=="object"?j1(e,n=>Ja(n)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mn extends s3{constructor(n,s,a){super(`${Yh}/${n}`,s||""),this.details=a,Object.setPrototypeOf(this,mn.prototype)}}function S3(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function wc(e,n){let s=S3(e),a=s,o;try{const c=n&&n.error;if(c){const u=c.status;if(typeof u=="string"){if(!dx[u])return new mn("internal","internal");s=dx[u],a=u}const d=c.message;typeof d=="string"&&(a=d),o=c.details,o!==void 0&&(o=Ja(o))}}catch{}return s==="ok"?null:new mn(s,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(n,s,a,o){this.app=n,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,QA(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.auth=s.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||s.get().then(c=>this.auth=c,()=>{}),this.messaging||a.get().then(c=>this.messaging=c,()=>{}),this.appCheck||o==null||o.get().then(c=>this.appCheck=c,()=>{})}async getAuthToken(){if(this.auth)try{const n=await this.auth.getToken();return n==null?void 0:n.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(n){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const s=n?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return s.error?null:s.token}return null}async getContext(n){const s=await this.getAuthToken(),a=await this.getMessagingToken(),o=await this.getAppCheckToken(n);return{authToken:s,messagingToken:a,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="us-central1",j3=/^data: (.*?)(?:\n|$)/;function T3(e){let n=null;return{promise:new Promise((s,a)=>{n=setTimeout(()=>{a(new mn("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{n&&clearTimeout(n)}}}class A3{constructor(n,s,a,o,c=Jf,u=(...d)=>fetch(...d)){this.app=n,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new w3(n,s,a,o),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(c);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=Jf}catch{this.customDomain=null,this.region=c}}_delete(){return this.deleteService()}_url(n){const s=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${s}/${this.region}/${n}`:this.customDomain!==null?`${this.customDomain}/${n}`:`https://${this.region}-${s}.cloudfunctions.net/${n}`}}function C3(e,n,s){const a=t3(n);e.emulatorOrigin=`http${a?"s":""}://${n}:${s}`,a&&(n3(e.emulatorOrigin),i3("Functions",!0))}function E3(e,n,s){const a=o=>N3(e,n,o,{});return a.stream=(o,c)=>R3(e,n,o,c),a}async function M3(e,n,s,a){s["Content-Type"]="application/json";let o;try{o=await a(e,{method:"POST",body:JSON.stringify(n),headers:s})}catch{return{status:0,json:null}}let c=null;try{c=await o.json()}catch{}return{status:o.status,json:c}}async function T1(e,n){const s={},a=await e.contextProvider.getContext(n.limitedUseAppCheckTokens);return a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken),s}function N3(e,n,s,a){const o=e._url(n);return D3(e,o,s,a)}async function D3(e,n,s,a){s=Sc(s);const o={data:s},c=await T1(e,a),u=a.timeout||7e4,d=T3(u),m=await Promise.race([M3(n,o,c,e.fetchImpl),d.promise,e.cancelAllRequests]);if(d.cancel(),!m)throw new mn("cancelled","Firebase Functions instance was deleted.");const y=wc(m.status,m.json);if(y)throw y;if(!m.json)throw new mn("internal","Response is not valid JSON object.");let p=m.json.data;if(typeof p>"u"&&(p=m.json.result),typeof p>"u")throw new mn("internal","Response is missing data field.");return{data:Ja(p)}}function R3(e,n,s,a){const o=e._url(n);return k3(e,o,s,a||{})}async function k3(e,n,s,a){var o;s=Sc(s);const c={data:s},u=await T1(e,a);u["Content-Type"]="application/json",u.Accept="text/event-stream";let d;try{d=await e.fetchImpl(n,{method:"POST",body:JSON.stringify(c),headers:u,signal:a==null?void 0:a.signal})}catch(b){if(b instanceof Error&&b.name==="AbortError"){const T=new mn("cancelled","Request was cancelled.");return{data:Promise.reject(T),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(T)}}}}}}const S=wc(0,null);return{data:Promise.reject(S),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(S)}}}}}}let m,y;const p=new Promise((b,S)=>{m=b,y=S});(o=a==null?void 0:a.signal)===null||o===void 0||o.addEventListener("abort",()=>{const b=new mn("cancelled","Request was cancelled.");y(b)});const g=d.body.getReader(),x=z3(g,m,y,a==null?void 0:a.signal);return{stream:{[Symbol.asyncIterator](){const b=x.getReader();return{async next(){const{value:S,done:T}=await b.read();return{value:S,done:T}},async return(){return await b.cancel(),{done:!0,value:void 0}}}}},data:p}}function z3(e,n,s,a){const o=(u,d)=>{const m=u.match(j3);if(!m)return;const y=m[1];try{const p=JSON.parse(y);if("result"in p){n(Ja(p.result));return}if("message"in p){d.enqueue(Ja(p.message));return}if("error"in p){const g=wc(0,p);d.error(g),s(g);return}}catch(p){if(p instanceof mn){d.error(p),s(p);return}}},c=new TextDecoder;return new ReadableStream({start(u){let d="";return m();async function m(){if(a!=null&&a.aborted){const y=new mn("cancelled","Request was cancelled");return u.error(y),s(y),Promise.resolve()}try{const{value:y,done:p}=await e.read();if(p){d.trim()&&o(d.trim(),u),u.close();return}if(a!=null&&a.aborted){const x=new mn("cancelled","Request was cancelled");u.error(x),s(x),await e.cancel();return}d+=c.decode(y,{stream:!0});const g=d.split(`
`);d=g.pop()||"";for(const x of g)x.trim()&&o(x.trim(),u);return m()}catch(y){const p=y instanceof mn?y:wc(0,null);u.error(p),s(p)}}},cancel(){return e.cancel()}})}const fx="@firebase/functions",hx="0.12.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="auth-internal",L3="app-check-internal",O3="messaging-internal";function P3(e){const n=(s,{instanceIdentifier:a})=>{const o=s.getProvider("app").getImmediate(),c=s.getProvider(V3),u=s.getProvider(O3),d=s.getProvider(L3);return new A3(o,c,u,d,a)};WA(new ZA(Yh,n,"PUBLIC").setMultipleInstances(!0)),ix(fx,hx,e),ix(fx,hx,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(e=qh(),n=Jf){const a=JA(Gh(e),Yh).getImmediate({identifier:n}),o=e3("functions");return o&&B3(a,...o),a}function B3(e,n,s){C3(Gh(e),n,s)}function C1(e,n,s){return E3(Gh(e),n)}P3();/*! Capacitor: https://capacitorjs.com/ - MIT License */var er;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(er||(er={}));class xf extends Error{constructor(n,s,a){super(n),this.message=n,this.code=s,this.data=a}}const U3=e=>{var n,s;return e!=null&&e.androidBridge?"android":!((s=(n=e==null?void 0:e.webkit)===null||n===void 0?void 0:n.messageHandlers)===null||s===void 0)&&s.bridge?"ios":"web"},$3=e=>{const n=e.CapacitorCustomPlatform||null,s=e.Capacitor||{},a=s.Plugins=s.Plugins||{},o=()=>n!==null?n.name:U3(e),c=()=>o()!=="web",u=g=>{const x=y.get(g);return!!(x!=null&&x.platforms.has(o())||d(g))},d=g=>{var x;return(x=s.PluginHeaders)===null||x===void 0?void 0:x.find(b=>b.name===g)},m=g=>e.console.error(g),y=new Map,p=(g,x={})=>{const b=y.get(g);if(b)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),b.proxy;const S=o(),T=d(g);let M;const C=async()=>(!M&&S in x?M=typeof x[S]=="function"?M=await x[S]():M=x[S]:n!==null&&!M&&"web"in x&&(M=typeof x.web=="function"?M=await x.web():M=x.web),M),L=(j,N)=>{var V,B;if(T){const $=T==null?void 0:T.methods.find(H=>N===H.name);if($)return $.rtype==="promise"?H=>s.nativePromise(g,N.toString(),H):(H,F)=>s.nativeCallback(g,N.toString(),H,F);if(j)return(V=j[N])===null||V===void 0?void 0:V.bind(j)}else{if(j)return(B=j[N])===null||B===void 0?void 0:B.bind(j);throw new xf(`"${g}" plugin is not implemented on ${S}`,er.Unimplemented)}},z=j=>{let N;const V=(...B)=>{const $=C().then(H=>{const F=L(H,j);if(F){const Y=F(...B);return N=Y==null?void 0:Y.remove,Y}else throw new xf(`"${g}.${j}()" is not implemented on ${S}`,er.Unimplemented)});return j==="addListener"&&($.remove=async()=>N()),$};return V.toString=()=>`${j.toString()}() { [capacitor code] }`,Object.defineProperty(V,"name",{value:j,writable:!1,configurable:!1}),V},O=z("addListener"),_=z("removeListener"),D=(j,N)=>{const V=O({eventName:j},N),B=async()=>{const H=await V;_({eventName:j,callbackId:H},N)},$=new Promise(H=>V.then(()=>H({remove:B})));return $.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await B()},$},q=new Proxy({},{get(j,N){switch(N){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return T?D:O;case"removeListener":return _;default:return z(N)}}});return a[g]=q,y.set(g,{name:g,proxy:q,platforms:new Set([...Object.keys(x),...T?[S]:[]])}),q};return s.convertFileSrc||(s.convertFileSrc=g=>g),s.getPlatform=o,s.handleError=m,s.isNativePlatform=c,s.isPluginAvailable=u,s.registerPlugin=p,s.Exception=xf,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s},_3=e=>e.Capacitor=$3(e),jc=_3(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Xh=jc.registerPlugin;class Ih{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(n,s){let a=!1;this.listeners[n]||(this.listeners[n]=[],a=!0),this.listeners[n].push(s);const c=this.windowListeners[n];c&&!c.registered&&this.addWindowListener(c),a&&this.sendRetainedArgumentsForEvent(n);const u=async()=>this.removeListener(n,s);return Promise.resolve({remove:u})}async removeAllListeners(){this.listeners={};for(const n in this.windowListeners)this.removeWindowListener(this.windowListeners[n]);this.windowListeners={}}notifyListeners(n,s,a){const o=this.listeners[n];if(!o){if(a){let c=this.retainedEventArguments[n];c||(c=[]),c.push(s),this.retainedEventArguments[n]=c}return}o.forEach(c=>c(s))}hasListeners(n){var s;return!!(!((s=this.listeners[n])===null||s===void 0)&&s.length)}registerWindowListener(n,s){this.windowListeners[s]={registered:!1,windowEventName:n,pluginEventName:s,handler:a=>{this.notifyListeners(s,a)}}}unimplemented(n="not implemented"){return new jc.Exception(n,er.Unimplemented)}unavailable(n="not available"){return new jc.Exception(n,er.Unavailable)}async removeListener(n,s){const a=this.listeners[n];if(!a)return;const o=a.indexOf(s);this.listeners[n].splice(o,1),this.listeners[n].length||this.removeWindowListener(this.windowListeners[n])}addWindowListener(n){window.addEventListener(n.windowEventName,n.handler),n.registered=!0}removeWindowListener(n){n&&(window.removeEventListener(n.windowEventName,n.handler),n.registered=!1)}sendRetainedArgumentsForEvent(n){const s=this.retainedEventArguments[n];s&&(delete this.retainedEventArguments[n],s.forEach(a=>{this.notifyListeners(n,a)}))}}const mx=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),px=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class F3 extends Ih{async getCookies(){const n=document.cookie,s={};return n.split(";").forEach(a=>{if(a.length<=0)return;let[o,c]=a.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");o=px(o).trim(),c=px(c).trim(),s[o]=c}),s}async setCookie(n){try{const s=mx(n.key),a=mx(n.value),o=`; expires=${(n.expires||"").replace("expires=","")}`,c=(n.path||"/").replace("path=",""),u=n.url!=null&&n.url.length>0?`domain=${n.url}`:"";document.cookie=`${s}=${a||""}${o}; path=${c}; ${u};`}catch(s){return Promise.reject(s)}}async deleteCookie(n){try{document.cookie=`${n.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}}async clearCookies(){try{const n=document.cookie.split(";")||[];for(const s of n)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(n){return Promise.reject(n)}}async clearAllCookies(){try{await this.clearCookies()}catch(n){return Promise.reject(n)}}}Xh("CapacitorCookies",{web:()=>new F3});const H3=async e=>new Promise((n,s)=>{const a=new FileReader;a.onload=()=>{const o=a.result;n(o.indexOf(",")>=0?o.split(",")[1]:o)},a.onerror=o=>s(o),a.readAsDataURL(e)}),G3=(e={})=>{const n=Object.keys(e);return Object.keys(e).map(o=>o.toLocaleLowerCase()).reduce((o,c,u)=>(o[c]=e[n[u]],o),{})},q3=(e,n=!0)=>e?Object.entries(e).reduce((a,o)=>{const[c,u]=o;let d,m;return Array.isArray(u)?(m="",u.forEach(y=>{d=n?encodeURIComponent(y):y,m+=`${c}=${d}&`}),m.slice(0,-1)):(d=n?encodeURIComponent(u):u,m=`${c}=${d}`),`${a}&${m}`},"").substr(1):null,Y3=(e,n={})=>{const s=Object.assign({method:e.method||"GET",headers:e.headers},n),o=G3(e.headers)["content-type"]||"";if(typeof e.data=="string")s.body=e.data;else if(o.includes("application/x-www-form-urlencoded")){const c=new URLSearchParams;for(const[u,d]of Object.entries(e.data||{}))c.set(u,d);s.body=c.toString()}else if(o.includes("multipart/form-data")||e.data instanceof FormData){const c=new FormData;if(e.data instanceof FormData)e.data.forEach((d,m)=>{c.append(m,d)});else for(const d of Object.keys(e.data))c.append(d,e.data[d]);s.body=c;const u=new Headers(s.headers);u.delete("content-type"),s.headers=u}else(o.includes("application/json")||typeof e.data=="object")&&(s.body=JSON.stringify(e.data));return s};class X3 extends Ih{async request(n){const s=Y3(n,n.webFetchExtra),a=q3(n.params,n.shouldEncodeUrlParams),o=a?`${n.url}?${a}`:n.url,c=await fetch(o,s),u=c.headers.get("content-type")||"";let{responseType:d="text"}=c.ok?n:{};u.includes("application/json")&&(d="json");let m,y;switch(d){case"arraybuffer":case"blob":y=await c.blob(),m=await H3(y);break;case"json":m=await c.json();break;case"document":case"text":default:m=await c.text()}const p={};return c.headers.forEach((g,x)=>{p[x]=g}),{data:m,headers:p,status:c.status,url:c.url}}async get(n){return this.request(Object.assign(Object.assign({},n),{method:"GET"}))}async post(n){return this.request(Object.assign(Object.assign({},n),{method:"POST"}))}async put(n){return this.request(Object.assign(Object.assign({},n),{method:"PUT"}))}async patch(n){return this.request(Object.assign(Object.assign({},n),{method:"PATCH"}))}async delete(n){return this.request(Object.assign(Object.assign({},n),{method:"DELETE"}))}}Xh("CapacitorHttp",{web:()=>new X3});var gx;(function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"})(gx||(gx={}));var yx;(function(e){e.StatusBar="StatusBar",e.NavigationBar="NavigationBar"})(yx||(yx={}));class I3 extends Ih{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Xh("SystemBars",{web:()=>new I3});const eh={apiKey:"AIzaSyAqfUspCXI4-IESvMHeu-7CV-BWjpWLSZ8",authDomain:"gosenderr-6773f.firebaseapp.com",projectId:"gosenderr-6773f",storageBucket:"gosenderr-6773f.firebasestorage.app",messagingSenderId:"92006199493",appId:"1:92006199493:web:6342270d7a40a312aa00ac"},K3=eh.apiKey&&eh.apiKey.startsWith("AIza");let Ba,E1,th,M1,N1;if(K3)try{Ba=f1().length?qh():h1(eh),E1=m1(Ba),jc.isNativePlatform()?(console.log(" Initializing auth for native platform with indexedDB persistence"),th=a3(Ba,{persistence:r3})):(console.log(" Initializing auth for web platform"),th=p1(Ba)),M1=g1(Ba),N1=A1(Ba),console.log("Firebase initialized successfully")}catch(e){console.error("Failed to initialize Firebase:",e)}else console.error("Firebase config is invalid or missing. Check your .env file");const Xe=E1,Ni=th,D1=M1,R1=N1,k1=k.createContext(void 0);function W3({children:e}){const[n,s]=k.useState(null),[a,o]=k.useState(!0);k.useEffect(()=>{if(console.log(" AuthContext: Initializing auth listener",{hasAuth:!!Ni}),!Ni){console.error(" AuthContext: Auth is not initialized!"),o(!1);return}return console.log(" AuthContext: Setting up onAuthStateChanged listener"),y1(Ni,d=>{console.log(" AuthContext: Auth state changed",{hasUser:!!d,uid:d==null?void 0:d.uid,email:d==null?void 0:d.email}),s(d),o(!1)},d=>{console.error(" AuthContext: Auth state error",d),o(!1)})},[]);const c=async()=>{Ni&&await o3(Ni)};return f.jsx(k1.Provider,{value:{user:n,loading:a,signOut:c},children:e})}function Z3(){const e=k.useContext(k1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const z1=k.createContext(void 0),xx={isNavigating:!1,currentJob:null,currentStep:null,remainingSteps:[],distanceToNextTurn:0,estimatedTimeRemaining:0,currentRoute:null,cameraMode:"follow"};function Q3({children:e}){var g;const[n,s]=k.useState(xx),a=k.useCallback((x,b)=>{var T,M,C;console.log(" Starting navigation",{jobId:x.id,routeLegs:b.legs.length,hasGeometry:!!b.geometry,numCoordinates:(M=(T=b.geometry)==null?void 0:T.coordinates)==null?void 0:M.length,distance:b.distance,duration:b.duration});const S=b.legs.flatMap(L=>L.steps);s({isNavigating:!0,currentJob:x,currentRoute:b,currentStep:S[0]||null,remainingSteps:S.slice(1),distanceToNextTurn:((C=S[0])==null?void 0:C.distance)||0,estimatedTimeRemaining:b.duration,cameraMode:"follow"})},[]),o=k.useCallback(()=>{console.log(" Stopping navigation"),s(xx)},[]),c=k.useCallback(x=>{s(b=>{var T;if(!b.currentRoute)return b;const S=b.currentRoute.legs.flatMap(M=>M.steps);return x>=S.length?{...b,currentStep:null,remainingSteps:[],distanceToNextTurn:0}:{...b,currentStep:S[x],remainingSteps:S.slice(x+1),distanceToNextTurn:((T=S[x])==null?void 0:T.distance)||0}})},[]),u=k.useCallback(()=>{s(x=>{if(!x.currentRoute||x.remainingSteps.length===0)return x;const b=x.remainingSteps[0];return{...x,currentStep:b,remainingSteps:x.remainingSteps.slice(1),distanceToNextTurn:b.distance}})},[]),d=k.useCallback(x=>{s(b=>({...b,distanceToNextTurn:x}))},[]),m=k.useCallback(x=>{s(b=>({...b,estimatedTimeRemaining:x}))},[]),y=k.useCallback(()=>{s(x=>({...x,cameraMode:x.cameraMode==="follow"?"overview":"follow"}))},[]);k.useEffect(()=>{var x;n.isNavigating?localStorage.setItem("navigation_state",JSON.stringify({jobId:(x=n.currentJob)==null?void 0:x.id,cameraMode:n.cameraMode})):localStorage.removeItem("navigation_state")},[n.isNavigating,(g=n.currentJob)==null?void 0:g.id,n.cameraMode]);const p={...n,startNavigation:a,stopNavigation:o,updateCurrentStep:c,updateDistance:d,updateETA:m,toggleCameraMode:y,goToNextStep:u};return f.jsx(z1.Provider,{value:p,children:e})}function J3(){const e=k.useContext(z1);if(e===void 0)throw new Error("useNavigationContext must be used within a NavigationProvider");return e}class e6{constructor(){hf(this,"logs",[]);hf(this,"startTime",Date.now())}log(n,s,a){const o={timestamp:new Date().toISOString(),type:n,message:s,data:a};this.logs.push(o),console.log(`[${n.toUpperCase()}] ${s}`,a||"")}generateMarkdownReport(){const n=Date.now()-this.startTime;let s=`# Courier App Debug Report

`;return s+=`**Generated:** ${new Date().toISOString()}
`,s+=`**Uptime:** ${(n/1e3).toFixed(2)}s
`,s+=`**URL:** ${window.location.href}
`,s+=`**User Agent:** ${navigator.userAgent}

`,s+=`## Environment

`,s+=`- **Origin:** ${window.location.origin}
`,s+=`- **Protocol:** ${window.location.protocol}
`,s+=`- **Pathname:** ${window.location.pathname}
`,s+=`- **Browser:** ${navigator.userAgent}

`,s+=`## Logs (${this.logs.length} entries)

`,this.logs.forEach(a=>{s+=`### ${a.type.toUpperCase()} - ${a.timestamp}
`,s+=`${a.message}
`,a.data&&(s+=`\`\`\`json
${JSON.stringify(a.data,null,2)}
\`\`\`
`),s+=`
`}),s}printMarkdownReport(){const n=this.generateMarkdownReport();console.log(`

=== MARKDOWN DEBUG REPORT ===
`),console.log(n),console.log(`
=== END REPORT ===
`),console.log("Copy the above markdown and save as debug-report.md")}downloadReport(){const n=this.generateMarkdownReport(),s=new Blob([n],{type:"text/markdown"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=`courier-debug-${Date.now()}.md`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}}const pn=new e6;setTimeout(()=>{typeof window<"u"&&(window.debugLogger=pn,window.printDebugReport=()=>pn.printMarkdownReport(),window.downloadDebugReport=()=>pn.downloadReport())},0);class t6 extends k.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,s){console.error("ErrorBoundary caught an error:",n,s),pn.log("error","React Error Boundary triggered",{errorMessage:n.message,errorStack:n.stack,componentStack:s.componentStack,errorName:n.name}),setTimeout(()=>{pn.printMarkdownReport()},1e3)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:f.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6",children:[f.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 rounded-full mb-4",children:f.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),f.jsx("h1",{className:"text-xl font-semibold text-center text-gray-900 mb-2",children:"Something went wrong"}),f.jsx("p",{className:"text-sm text-gray-600 text-center mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),this.state.error&&f.jsxs("details",{className:"mb-4 text-xs text-gray-500 bg-gray-50 rounded p-3",children:[f.jsx("summary",{className:"cursor-pointer font-medium",children:"Error details"}),f.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words",children:this.state.error.toString()})]}),f.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-medium py-2 px-4 rounded transition-colors",children:"Refresh Page"})]})}):this.props.children}}function n6({items:e}){const s=Hh().pathname,a=k.useRef(null);k.useEffect(()=>{if(!a.current)return;const c=()=>{var m;const d=((m=a.current)==null?void 0:m.getBoundingClientRect().height)??0;document.documentElement.style.setProperty("--bottom-nav-height",`${d}px`)};c();const u=new ResizeObserver(c);return u.observe(a.current),window.addEventListener("resize",c),()=>{u.disconnect(),window.removeEventListener("resize",c)}},[]),k.useEffect(()=>{const c=u=>{var x,b;const d=u.clientX,m=u.clientY,y=u.target,p=document.elementFromPoint(d,m);console.log(" Global tap",{x:d,y:m,targetTag:y==null?void 0:y.tagName,targetClasses:y==null?void 0:y.className,targetNavItem:(x=y==null?void 0:y.closest("[data-nav-item]"))==null?void 0:x.getAttribute("data-nav-item"),hitTag:p==null?void 0:p.tagName,hitClasses:p==null?void 0:p.className,hitNavItem:(b=p==null?void 0:p.closest("[data-nav-item]"))==null?void 0:b.getAttribute("data-nav-item")});const g=document.createElement("div");g.style.position="fixed",g.style.left=`${d-12}px`,g.style.top=`${m-12}px`,g.style.width="24px",g.style.height="24px",g.style.borderRadius="9999px",g.style.border="2px solid #10b981",g.style.background="rgba(16, 185, 129, 0.2)",g.style.zIndex="9999",g.style.pointerEvents="none",g.style.boxShadow="0 0 8px rgba(16, 185, 129, 0.6)",document.body.appendChild(g),setTimeout(()=>g.remove(),300)};return document.addEventListener("pointerdown",c,!0),()=>document.removeEventListener("pointerdown",c,!0)},[]);const o=c=>{var p,g;const u=c.clientX,d=c.clientY,m=c.target,y=document.elementFromPoint(u,d);console.log(" BottomNav tap",{x:u,y:d,targetTag:m==null?void 0:m.tagName,targetClasses:m==null?void 0:m.className,targetNavItem:(p=m==null?void 0:m.closest("[data-nav-item]"))==null?void 0:p.getAttribute("data-nav-item"),hitTag:y==null?void 0:y.tagName,hitClasses:y==null?void 0:y.className,hitNavItem:(g=y==null?void 0:y.closest("[data-nav-item]"))==null?void 0:g.getAttribute("data-nav-item")})};return f.jsx("nav",{"data-bottom-nav":"true",ref:a,className:"fixed bottom-0 left-0 right-0 z-50 bg-white/90 backdrop-blur border-t border-emerald-100",style:{pointerEvents:"auto",paddingBottom:"calc(env(safe-area-inset-bottom) + 10px)",paddingTop:"6px",touchAction:"manipulation"},onPointerDown:o,children:f.jsx("div",{className:"max-w-lg mx-auto",children:f.jsx("div",{className:"flex items-stretch justify-around px-2 py-2 min-h-[64px]",children:e.map((c,u)=>{const d=s===c.href||s.startsWith(c.href+"/");return f.jsxs(Zt,{to:c.href,"data-nav-item":c.href,className:`flex flex-1 flex-col items-center justify-center gap-1 px-3 py-2 rounded-xl min-w-[70px] transition-colors duration-150 ${d?"bg-emerald-50 text-emerald-600 -translate-y-0.5":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,style:{WebkitTapHighlightColor:"transparent"},onPointerDown:o,children:[f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"text-2xl",children:c.icon}),c.badge&&c.badge>0&&f.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:c.badge>99?"99+":c.badge})]}),f.jsx("span",{className:`text-xs font-medium ${d?"font-semibold":""}`,children:c.label})]},u)})})})})}const i6=[{icon:"",label:"Dashboard",href:"/dashboard"},{icon:"",label:"Active",href:"/jobs"},{icon:"",label:"Earnings",href:"/earnings"},{icon:"",label:"Settings",href:"/settings"}];function s6(){return pn.log("render","CourierLayout render start"),k.useEffect(()=>{pn.log("render","CourierLayout mounted with Outlet")},[]),f.jsxs(f.Fragment,{children:[f.jsx(u1,{}),f.jsx(n6,{items:i6})]})}const V1=k.createContext({});function a6(e){const n=k.useRef(null);return n.current===null&&(n.current=e()),n.current}const Kh=k.createContext(null),L1=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function r6(e=!0){const n=k.useContext(Kh);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:o}=n,c=k.useId();k.useEffect(()=>{e&&o(c)},[e]);const u=k.useCallback(()=>e&&a&&a(c),[c,a,e]);return!s&&a?[!1,u]:[!0]}const Wh=typeof window<"u",o6=Wh?k.useLayoutEffect:k.useEffect,jn=e=>e;let O1=jn;function Zh(e){let n;return()=>(n===void 0&&(n=e()),n)}const tr=(e,n,s)=>{const a=n-e;return a===0?1:(s-e)/a},Ri=e=>e*1e3,ki=e=>e/1e3,l6={useManualTiming:!1};function c6(e){let n=new Set,s=new Set,a=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(y){c.has(y)&&(m.schedule(y),e()),y(u)}const m={schedule:(y,p=!1,g=!1)=>{const b=g&&a?n:s;return p&&c.add(y),b.has(y)||b.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(u=y,a){o=!0;return}a=!0,[n,s]=[s,n],n.forEach(d),n.clear(),a=!1,o&&(o=!1,m.process(y))}};return m}const tc=["read","resolveKeyframes","update","preRender","render","postRender"],u6=40;function P1(e,n){let s=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=tc.reduce((C,L)=>(C[L]=c6(c),C),{}),{read:d,resolveKeyframes:m,update:y,preRender:p,render:g,postRender:x}=u,b=()=>{const C=performance.now();s=!1,o.delta=a?1e3/60:Math.max(Math.min(C-o.timestamp,u6),1),o.timestamp=C,o.isProcessing=!0,d.process(o),m.process(o),y.process(o),p.process(o),g.process(o),x.process(o),o.isProcessing=!1,s&&n&&(a=!1,e(b))},S=()=>{s=!0,a=!0,o.isProcessing||e(b)};return{schedule:tc.reduce((C,L)=>{const z=u[L];return C[L]=(O,_=!1,D=!1)=>(s||S(),z.schedule(O,_,D)),C},{}),cancel:C=>{for(let L=0;L<tc.length;L++)u[tc[L]].cancel(C)},state:o,steps:u}}const{schedule:lt,cancel:fs,state:Yt,steps:vf}=P1(typeof requestAnimationFrame<"u"?requestAnimationFrame:jn,!0),B1=k.createContext({strict:!1}),vx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nr={};for(const e in vx)nr[e]={isEnabled:n=>vx[e].some(s=>!!n[s])};function d6(e){for(const n in e)nr[n]={...nr[n],...e[n]}}const f6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||f6.has(e)}let U1=e=>!Tc(e);function h6(e){e&&(U1=n=>n.startsWith("on")?!Tc(n):e(n))}try{h6(require("@emotion/is-prop-valid").default)}catch{}function m6(e,n,s){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(U1(o)||s===!0&&Tc(o)||!n&&!Tc(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}function p6(e){if(typeof Proxy>"u")return e;const n=new Map,s=(...a)=>e(...a);return new Proxy(s,{get:(a,o)=>o==="create"?e:(n.has(o)||n.set(o,e(o)),n.get(o))})}const Gc=k.createContext({});function So(e){return typeof e=="string"||Array.isArray(e)}function qc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Qh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jh=["initial",...Qh];function Yc(e){return qc(e.animate)||Jh.some(n=>So(e[n]))}function $1(e){return!!(Yc(e)||e.variants)}function g6(e,n){if(Yc(e)){const{initial:s,animate:a}=e;return{initial:s===!1||So(s)?s:void 0,animate:So(a)?a:void 0}}return e.inherit!==!1?n:{}}function y6(e){const{initial:n,animate:s}=g6(e,k.useContext(Gc));return k.useMemo(()=>({initial:n,animate:s}),[bx(n),bx(s)])}function bx(e){return Array.isArray(e)?e.join(" "):e}const x6=Symbol.for("motionComponentSymbol");function $a(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function v6(e,n,s){return k.useCallback(a=>{a&&e.onMount&&e.onMount(a),n&&(a?n.mount(a):n.unmount()),s&&(typeof s=="function"?s(a):$a(s)&&(s.current=a))},[n])}const em=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),b6="framerAppearId",_1="data-"+em(b6),{schedule:tm}=P1(queueMicrotask,!1),F1=k.createContext({});function S6(e,n,s,a,o){var c,u;const{visualElement:d}=k.useContext(Gc),m=k.useContext(B1),y=k.useContext(Kh),p=k.useContext(L1).reducedMotion,g=k.useRef(null);a=a||m.renderer,!g.current&&a&&(g.current=a(e,{visualState:n,parent:d,props:s,presenceContext:y,blockInitialAnimation:y?y.initial===!1:!1,reducedMotionConfig:p}));const x=g.current,b=k.useContext(F1);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&w6(g.current,s,o,b);const S=k.useRef(!1);k.useInsertionEffect(()=>{x&&S.current&&x.update(s,y)});const T=s[_1],M=k.useRef(!!T&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,T))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,T)));return o6(()=>{x&&(S.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),tm.render(x.render),M.current&&x.animationState&&x.animationState.animateChanges())}),k.useEffect(()=>{x&&(!M.current&&x.animationState&&x.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,T)}),M.current=!1))}),x}function w6(e,n,s,a){const{layoutId:o,layout:c,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:y}=n;e.projection=new s(e.latestValues,n["data-framer-portal-id"]?void 0:H1(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||d&&$a(d),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:m,layoutRoot:y})}function H1(e){if(e)return e.options.allowProjection!==!1?e.projection:H1(e.parent)}function j6({preloadedFeatures:e,createVisualElement:n,useRender:s,useVisualState:a,Component:o}){var c,u;e&&d6(e);function d(y,p){let g;const x={...k.useContext(L1),...y,layoutId:T6(y)},{isStatic:b}=x,S=y6(y),T=a(y,b);if(!b&&Wh){A6();const M=C6(x);g=M.MeasureLayout,S.visualElement=S6(o,T,x,n,M.ProjectionNode)}return f.jsxs(Gc.Provider,{value:S,children:[g&&S.visualElement?f.jsx(g,{visualElement:S.visualElement,...x}):null,s(o,y,v6(T,S.visualElement,p),T,b,S.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(c=o.displayName)!==null&&c!==void 0?c:o.name)!==null&&u!==void 0?u:""})`}`;const m=k.forwardRef(d);return m[x6]=o,m}function T6({layoutId:e}){const n=k.useContext(V1).id;return n&&e!==void 0?n+"-"+e:e}function A6(e,n){k.useContext(B1).strict}function C6(e){const{drag:n,layout:s}=nr;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const E6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nm(e){return typeof e!="string"||e.includes("-")?!1:!!(E6.indexOf(e)>-1||/[A-Z]/u.test(e))}function Sx(e){const n=[{},{}];return e==null||e.values.forEach((s,a)=>{n[0][a]=s.get(),n[1][a]=s.getVelocity()}),n}function im(e,n,s,a){if(typeof n=="function"){const[o,c]=Sx(a);n=n(s!==void 0?s:e.custom,o,c)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[o,c]=Sx(a);n=n(s!==void 0?s:e.custom,o,c)}return n}const nh=e=>Array.isArray(e),M6=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),N6=e=>nh(e)?e[e.length-1]||0:e,Qt=e=>!!(e&&e.getVelocity);function dc(e){const n=Qt(e)?e.get():e;return M6(n)?n.toValue():n}function D6({scrapeMotionValuesFromProps:e,createRenderState:n,onUpdate:s},a,o,c){const u={latestValues:R6(a,o,c,e),renderState:n()};return s&&(u.onMount=d=>s({props:a,current:d,...u}),u.onUpdate=d=>s(d)),u}const G1=e=>(n,s)=>{const a=k.useContext(Gc),o=k.useContext(Kh),c=()=>D6(e,n,a,o);return s?c():a6(c)};function R6(e,n,s,a){const o={},c=a(e,{});for(const x in c)o[x]=dc(c[x]);let{initial:u,animate:d}=e;const m=Yc(e),y=$1(e);n&&y&&!m&&e.inherit!==!1&&(u===void 0&&(u=n.initial),d===void 0&&(d=n.animate));let p=s?s.initial===!1:!1;p=p||u===!1;const g=p?d:u;if(g&&typeof g!="boolean"&&!qc(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const S=im(e,x[b]);if(S){const{transitionEnd:T,transition:M,...C}=S;for(const L in C){let z=C[L];if(Array.isArray(z)){const O=p?z.length-1:0;z=z[O]}z!==null&&(o[L]=z)}for(const L in T)o[L]=T[L]}}}return o}const ar=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zs=new Set(ar),q1=e=>n=>typeof n=="string"&&n.startsWith(e),Y1=q1("--"),k6=q1("var(--"),sm=e=>k6(e)?z6.test(e.split("/*")[0].trim()):!1,z6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,X1=(e,n)=>n&&typeof e=="number"?n.transform(e):e,Vi=(e,n,s)=>s>n?n:s<e?e:s,rr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},wo={...rr,transform:e=>Vi(0,1,e)},nc={...rr,default:1},ko=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),ls=ko("deg"),ai=ko("%"),we=ko("px"),V6=ko("vh"),L6=ko("vw"),wx={...ai,parse:e=>ai.parse(e)/100,transform:e=>ai.transform(e*100)},O6={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},P6={rotate:ls,rotateX:ls,rotateY:ls,rotateZ:ls,scale:nc,scaleX:nc,scaleY:nc,scaleZ:nc,skew:ls,skewX:ls,skewY:ls,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:wo,originX:wx,originY:wx,originZ:we},jx={...rr,transform:Math.round},am={...O6,...P6,zIndex:jx,size:we,fillOpacity:wo,strokeOpacity:wo,numOctaves:jx},B6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},U6=ar.length;function $6(e,n,s){let a="",o=!0;for(let c=0;c<U6;c++){const u=ar[c],d=e[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||s){const y=X1(d,am[u]);if(!m){o=!1;const p=B6[u]||u;a+=`${p}(${y}) `}s&&(n[u]=y)}}return a=a.trim(),s?a=s(n,o?"":a):o&&(a="none"),a}function rm(e,n,s){const{style:a,vars:o,transformOrigin:c}=e;let u=!1,d=!1;for(const m in n){const y=n[m];if(Zs.has(m)){u=!0;continue}else if(Y1(m)){o[m]=y;continue}else{const p=X1(y,am[m]);m.startsWith("origin")?(d=!0,c[m]=p):a[m]=p}}if(n.transform||(u||s?a.transform=$6(n,e.transform,s):a.transform&&(a.transform="none")),d){const{originX:m="50%",originY:y="50%",originZ:p=0}=c;a.transformOrigin=`${m} ${y} ${p}`}}const _6={offset:"stroke-dashoffset",array:"stroke-dasharray"},F6={offset:"strokeDashoffset",array:"strokeDasharray"};function H6(e,n,s=1,a=0,o=!0){e.pathLength=1;const c=o?_6:F6;e[c.offset]=we.transform(-a);const u=we.transform(n),d=we.transform(s);e[c.array]=`${u} ${d}`}function Tx(e,n,s){return typeof e=="string"?e:we.transform(n+s*e)}function G6(e,n,s){const a=Tx(n,e.x,e.width),o=Tx(s,e.y,e.height);return`${a} ${o}`}function om(e,{attrX:n,attrY:s,attrScale:a,originX:o,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:m=0,...y},p,g){if(rm(e,y,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:b,dimensions:S}=e;x.transform&&(S&&(b.transform=x.transform),delete x.transform),S&&(o!==void 0||c!==void 0||b.transform)&&(b.transformOrigin=G6(S,o!==void 0?o:.5,c!==void 0?c:.5)),n!==void 0&&(x.x=n),s!==void 0&&(x.y=s),a!==void 0&&(x.scale=a),u!==void 0&&H6(x,u,d,m,!1)}const lm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),I1=()=>({...lm(),attrs:{}}),cm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function K1(e,{style:n,vars:s},a,o){Object.assign(e.style,n,o&&o.getProjectionStyles(a));for(const c in s)e.style.setProperty(c,s[c])}const W1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Z1(e,n,s,a){K1(e,n,void 0,a);for(const o in n.attrs)e.setAttribute(W1.has(o)?o:em(o),n.attrs[o])}const Ac={};function q6(e){Object.assign(Ac,e)}function Q1(e,{layout:n,layoutId:s}){return Zs.has(e)||e.startsWith("origin")||(n||s!==void 0)&&(!!Ac[e]||e==="opacity")}function um(e,n,s){var a;const{style:o}=e,c={};for(const u in o)(Qt(o[u])||n.style&&Qt(n.style[u])||Q1(u,e)||((a=s==null?void 0:s.getValue(u))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(c[u]=o[u]);return c}function J1(e,n,s){const a=um(e,n,s);for(const o in e)if(Qt(e[o])||Qt(n[o])){const c=ar.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[c]=e[o]}return a}function Y6(e,n){try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}const Ax=["x","y","width","height","cx","cy","r"],X6={useVisualState:G1({scrapeMotionValuesFromProps:J1,createRenderState:I1,onUpdate:({props:e,prevProps:n,current:s,renderState:a,latestValues:o})=>{if(!s)return;let c=!!e.drag;if(!c){for(const d in o)if(Zs.has(d)){c=!0;break}}if(!c)return;let u=!n;if(n)for(let d=0;d<Ax.length;d++){const m=Ax[d];e[m]!==n[m]&&(u=!0)}u&&lt.read(()=>{Y6(s,a),lt.render(()=>{om(a,o,cm(s.tagName),e.transformTemplate),Z1(s,a)})})}})},I6={useVisualState:G1({scrapeMotionValuesFromProps:um,createRenderState:lm})};function e2(e,n,s){for(const a in n)!Qt(n[a])&&!Q1(a,s)&&(e[a]=n[a])}function K6({transformTemplate:e},n){return k.useMemo(()=>{const s=lm();return rm(s,n,e),Object.assign({},s.vars,s.style)},[n])}function W6(e,n){const s=e.style||{},a={};return e2(a,s,e),Object.assign(a,K6(e,n)),a}function Z6(e,n){const s={},a=W6(e,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}function Q6(e,n,s,a){const o=k.useMemo(()=>{const c=I1();return om(c,n,cm(a),e.transformTemplate),{...c.attrs,style:{...c.style}}},[n]);if(e.style){const c={};e2(c,e.style,e),o.style={...c,...o.style}}return o}function J6(e=!1){return(s,a,o,{latestValues:c},u)=>{const m=(nm(s)?Q6:Z6)(a,c,u,s),y=m6(a,typeof s=="string",e),p=s!==k.Fragment?{...y,...m,ref:o}:{},{children:g}=a,x=k.useMemo(()=>Qt(g)?g.get():g,[g]);return k.createElement(s,{...p,children:x})}}function eC(e,n){return function(a,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...nm(a)?X6:I6,preloadedFeatures:e,useRender:J6(o),createVisualElement:n,Component:a};return j6(u)}}function t2(e,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(n[a]!==e[a])return!1;return!0}function Xc(e,n,s){const a=e.getProps();return im(a,n,s!==void 0?s:a.custom,e)}const tC=Zh(()=>window.ScrollTimeline!==void 0);class nC{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,s){for(let a=0;a<this.animations.length;a++)this.animations[a][n]=s}attachTimeline(n,s){const a=this.animations.map(o=>{if(tC()&&o.attachTimeline)return o.attachTimeline(n);if(typeof s=="function")return s(o)});return()=>{a.forEach((o,c)=>{o&&o(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let s=0;s<this.animations.length;s++)n=Math.max(n,this.animations[s].duration);return n}runAll(n){this.animations.forEach(s=>s[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class iC extends nC{then(n,s){return Promise.all(this.animations).then(n).catch(s)}}function dm(e,n){return e?e[n]||e.default||e:void 0}const ih=2e4;function n2(e){let n=0;const s=50;let a=e.next(n);for(;!a.done&&n<ih;)n+=s,a=e.next(n);return n>=ih?1/0:n}function fm(e){return typeof e=="function"}function Cx(e,n){e.timeline=n,e.onfinish=null}const hm=e=>Array.isArray(e)&&typeof e[0]=="number",sC={linearEasing:void 0};function aC(e,n){const s=Zh(e);return()=>{var a;return(a=sC[n])!==null&&a!==void 0?a:s()}}const Cc=aC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),i2=(e,n,s=10)=>{let a="";const o=Math.max(Math.round(n/s),2);for(let c=0;c<o;c++)a+=e(tr(0,o-1,c))+", ";return`linear(${a.substring(0,a.length-2)})`};function s2(e){return!!(typeof e=="function"&&Cc()||!e||typeof e=="string"&&(e in sh||Cc())||hm(e)||Array.isArray(e)&&e.every(s2))}const ro=([e,n,s,a])=>`cubic-bezier(${e}, ${n}, ${s}, ${a})`,sh={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ro([0,.65,.55,1]),circOut:ro([.55,0,1,.45]),backIn:ro([.31,.01,.66,-.59]),backOut:ro([.33,1.53,.69,.99])};function a2(e,n){if(e)return typeof e=="function"&&Cc()?i2(e,n):hm(e)?ro(e):Array.isArray(e)?e.map(s=>a2(s,n)||sh.easeOut):sh[e]}const Xn={x:!1,y:!1};function r2(){return Xn.x||Xn.y}function rC(e,n,s){var a;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const c=(a=void 0)!==null&&a!==void 0?a:o.querySelectorAll(e);return c?Array.from(c):[]}return Array.from(e)}function o2(e,n){const s=rC(e),a=new AbortController,o={passive:!0,...n,signal:a.signal};return[s,o,()=>a.abort()]}function Ex(e){return n=>{n.pointerType==="touch"||r2()||e(n)}}function oC(e,n,s={}){const[a,o,c]=o2(e,s),u=Ex(d=>{const{target:m}=d,y=n(d);if(typeof y!="function"||!m)return;const p=Ex(g=>{y(g),m.removeEventListener("pointerleave",p)});m.addEventListener("pointerleave",p,o)});return a.forEach(d=>{d.addEventListener("pointerenter",u,o)}),c}const l2=(e,n)=>n?e===n?!0:l2(e,n.parentElement):!1,mm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,lC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cC(e){return lC.has(e.tagName)||e.tabIndex!==-1}const oo=new WeakSet;function Mx(e){return n=>{n.key==="Enter"&&e(n)}}function bf(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const uC=(e,n)=>{const s=e.currentTarget;if(!s)return;const a=Mx(()=>{if(oo.has(s))return;bf(s,"down");const o=Mx(()=>{bf(s,"up")}),c=()=>bf(s,"cancel");s.addEventListener("keyup",o,n),s.addEventListener("blur",c,n)});s.addEventListener("keydown",a,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),n)};function Nx(e){return mm(e)&&!r2()}function dC(e,n,s={}){const[a,o,c]=o2(e,s),u=d=>{const m=d.currentTarget;if(!Nx(d)||oo.has(m))return;oo.add(m);const y=n(d),p=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),!(!Nx(b)||!oo.has(m))&&(oo.delete(m),typeof y=="function"&&y(b,{success:S}))},g=b=>{p(b,s.useGlobalTarget||l2(m,b.target))},x=b=>{p(b,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return a.forEach(d=>{!cC(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(s.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",y=>uC(y,o),o)}),c}function fC(e){return e==="x"||e==="y"?Xn[e]?null:(Xn[e]=!0,()=>{Xn[e]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}const c2=new Set(["width","height","top","left","right","bottom",...ar]);let fc;function hC(){fc=void 0}const ri={now:()=>(fc===void 0&&ri.set(Yt.isProcessing||l6.useManualTiming?Yt.timestamp:performance.now()),fc),set:e=>{fc=e,queueMicrotask(hC)}};function pm(e,n){e.indexOf(n)===-1&&e.push(n)}function gm(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}let ym=class{constructor(){this.subscriptions=[]}add(n){return pm(this.subscriptions,n),()=>gm(this.subscriptions,n)}notify(n,s,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](n,s,a);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(n,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function u2(e,n){return n?e*(1e3/n):0}const Dx=30,mC=e=>!isNaN(parseFloat(e));let pC=class{constructor(n,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,o=!0)=>{const c=ri.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=ri.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=mC(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new ym);const a=this.events[n].add(s);return n==="change"?()=>{a(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n,s=!0){!s||!this.passiveEffect?this.updateAndNotify(n,s):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-a}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>Dx)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Dx);return u2(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function jo(e,n){return new pC(e,n)}function gC(e,n,s){e.hasValue(n)?e.getValue(n).set(s):e.addValue(n,jo(s))}function yC(e,n){const s=Xc(e,n);let{transitionEnd:a={},transition:o={},...c}=s||{};c={...c,...a};for(const u in c){const d=N6(c[u]);gC(e,u,d)}}function xC(e){return!!(Qt(e)&&e.add)}function ah(e,n){const s=e.getValue("willChange");if(xC(s))return s.add(n)}function d2(e){return e.props[_1]}const f2=(e,n,s)=>(((1-3*s+3*n)*e+(3*s-6*n))*e+3*n)*e,vC=1e-7,bC=12;function SC(e,n,s,a,o){let c,u,d=0;do u=n+(s-n)/2,c=f2(u,a,o)-e,c>0?s=u:n=u;while(Math.abs(c)>vC&&++d<bC);return u}function zo(e,n,s,a){if(e===n&&s===a)return jn;const o=c=>SC(c,0,1,e,s);return c=>c===0||c===1?c:f2(o(c),n,a)}const h2=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,m2=e=>n=>1-e(1-n),p2=zo(.33,1.53,.69,.99),xm=m2(p2),g2=h2(xm),y2=e=>(e*=2)<1?.5*xm(e):.5*(2-Math.pow(2,-10*(e-1))),vm=e=>1-Math.sin(Math.acos(e)),x2=m2(vm),v2=h2(vm),b2=e=>/^0[^.\s]+$/u.test(e);function wC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||b2(e):!0}const ho=e=>Math.round(e*1e5)/1e5,bm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jC(e){return e==null}const TC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sm=(e,n)=>s=>!!(typeof s=="string"&&TC.test(s)&&s.startsWith(e)||n&&!jC(s)&&Object.prototype.hasOwnProperty.call(s,n)),S2=(e,n,s)=>a=>{if(typeof a!="string")return a;const[o,c,u,d]=a.match(bm);return{[e]:parseFloat(o),[n]:parseFloat(c),[s]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},AC=e=>Vi(0,255,e),Sf={...rr,transform:e=>Math.round(AC(e))},Gs={test:Sm("rgb","red"),parse:S2("red","green","blue"),transform:({red:e,green:n,blue:s,alpha:a=1})=>"rgba("+Sf.transform(e)+", "+Sf.transform(n)+", "+Sf.transform(s)+", "+ho(wo.transform(a))+")"};function CC(e){let n="",s="",a="",o="";return e.length>5?(n=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(n=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),n+=n,s+=s,a+=a,o+=o),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const rh={test:Sm("#"),parse:CC,transform:Gs.transform},_a={test:Sm("hsl","hue"),parse:S2("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+ai.transform(ho(n))+", "+ai.transform(ho(s))+", "+ho(wo.transform(a))+")"},Wt={test:e=>Gs.test(e)||rh.test(e)||_a.test(e),parse:e=>Gs.test(e)?Gs.parse(e):_a.test(e)?_a.parse(e):rh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Gs.transform(e):_a.transform(e)},EC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MC(e){var n,s;return isNaN(e)&&typeof e=="string"&&(((n=e.match(bm))===null||n===void 0?void 0:n.length)||0)+(((s=e.match(EC))===null||s===void 0?void 0:s.length)||0)>0}const w2="number",j2="color",NC="var",DC="var(",Rx="${}",RC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function To(e){const n=e.toString(),s=[],a={color:[],number:[],var:[]},o=[];let c=0;const d=n.replace(RC,m=>(Wt.test(m)?(a.color.push(c),o.push(j2),s.push(Wt.parse(m))):m.startsWith(DC)?(a.var.push(c),o.push(NC),s.push(m)):(a.number.push(c),o.push(w2),s.push(parseFloat(m))),++c,Rx)).split(Rx);return{values:s,split:d,indexes:a,types:o}}function T2(e){return To(e).values}function A2(e){const{split:n,types:s}=To(e),a=n.length;return o=>{let c="";for(let u=0;u<a;u++)if(c+=n[u],o[u]!==void 0){const d=s[u];d===w2?c+=ho(o[u]):d===j2?c+=Wt.transform(o[u]):c+=o[u]}return c}}const kC=e=>typeof e=="number"?0:e;function zC(e){const n=T2(e);return A2(e)(n.map(kC))}const hs={test:MC,parse:T2,createTransformer:A2,getAnimatableNone:zC},VC=new Set(["brightness","contrast","saturate","opacity"]);function LC(e){const[n,s]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[a]=s.match(bm)||[];if(!a)return e;const o=s.replace(a,"");let c=VC.has(n)?1:0;return a!==s&&(c*=100),n+"("+c+o+")"}const OC=/\b([a-z-]*)\(.*?\)/gu,oh={...hs,getAnimatableNone:e=>{const n=e.match(OC);return n?n.map(LC).join(" "):e}},PC={...am,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:oh,WebkitFilter:oh},wm=e=>PC[e];function C2(e,n){let s=wm(e);return s!==oh&&(s=hs),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const BC=new Set(["auto","none","0"]);function UC(e,n,s){let a=0,o;for(;a<e.length&&!o;){const c=e[a];typeof c=="string"&&!BC.has(c)&&To(c).values.length&&(o=e[a]),a++}if(o&&s)for(const c of n)e[c]=C2(s,o)}const kx=e=>e===rr||e===we,zx=(e,n)=>parseFloat(e.split(", ")[n]),Vx=(e,n)=>(s,{transform:a})=>{if(a==="none"||!a)return 0;const o=a.match(/^matrix3d\((.+)\)$/u);if(o)return zx(o[1],n);{const c=a.match(/^matrix\((.+)\)$/u);return c?zx(c[1],e):0}},$C=new Set(["x","y","z"]),_C=ar.filter(e=>!$C.has(e));function FC(e){const n=[];return _C.forEach(s=>{const a=e.getValue(s);a!==void 0&&(n.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),n}const ir={width:({x:e},{paddingLeft:n="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),height:({y:e},{paddingTop:n="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:Vx(4,13),y:Vx(5,14)};ir.translateX=ir.x;ir.translateY=ir.y;const Ks=new Set;let lh=!1,ch=!1;function E2(){if(ch){const e=Array.from(Ks).filter(a=>a.needsMeasurement),n=new Set(e.map(a=>a.element)),s=new Map;n.forEach(a=>{const o=FC(a);o.length&&(s.set(a,o),a.render())}),e.forEach(a=>a.measureInitialState()),n.forEach(a=>{a.render();const o=s.get(a);o&&o.forEach(([c,u])=>{var d;(d=a.getValue(c))===null||d===void 0||d.set(u)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}ch=!1,lh=!1,Ks.forEach(e=>e.complete()),Ks.clear()}function M2(){Ks.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ch=!0)})}function HC(){M2(),E2()}let jm=class{constructor(n,s,a,o,c,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=a,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ks.add(this),lh||(lh=!0,lt.read(M2),lt.resolveKeyframes(E2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:a,motionValue:o}=this;for(let c=0;c<n.length;c++)if(n[c]===null)if(c===0){const u=o==null?void 0:o.get(),d=n[n.length-1];if(u!==void 0)n[0]=u;else if(a&&s){const m=a.readValue(s,d);m!=null&&(n[0]=m)}n[0]===void 0&&(n[0]=d),o&&u===void 0&&o.set(n[0])}else n[c]=n[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ks.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ks.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const N2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),GC=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qC(e){const n=GC.exec(e);if(!n)return[,];const[,s,a,o]=n;return[`--${s??a}`,o]}function D2(e,n,s=1){const[a,o]=qC(e);if(!a)return;const c=window.getComputedStyle(n).getPropertyValue(a);if(c){const u=c.trim();return N2(u)?parseFloat(u):u}return sm(o)?D2(o,n,s+1):o}const R2=e=>n=>n.test(e),YC={test:e=>e==="auto",parse:e=>e},k2=[rr,we,ai,ls,L6,V6,YC],Lx=e=>k2.find(R2(e));let z2=class extends jm{constructor(n,s,a,o,c){super(n,s,a,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<n.length;m++){let y=n[m];if(typeof y=="string"&&(y=y.trim(),sm(y))){const p=D2(y,s.current);p!==void 0&&(n[m]=p),m===n.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!c2.has(a)||n.length!==2)return;const[o,c]=n,u=Lx(o),d=Lx(c);if(u!==d)if(kx(u)&&kx(d))for(let m=0;m<n.length;m++){const y=n[m];typeof y=="string"&&(n[m]=parseFloat(y))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,a=[];for(let o=0;o<n.length;o++)wC(n[o])&&a.push(o);a.length&&UC(n,a,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:a}=this;if(!n||!n.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ir[a](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&n.getValue(a,o).jump(o,!1)}measureEndState(){var n;const{element:s,name:a,unresolvedKeyframes:o}=this;if(!s||!s.current)return;const c=s.getValue(a);c&&c.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=ir[a](s.measureViewportBox(),window.getComputedStyle(s.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([m,y])=>{s.getValue(m).set(y)}),this.resolveNoneKeyframes()}};const Ox=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(hs.test(e)||e==="0")&&!e.startsWith("url("));function XC(e){const n=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}function IC(e,n,s,a){const o=e[0];if(o===null)return!1;if(n==="display"||n==="visibility")return!0;const c=e[e.length-1],u=Ox(o,n),d=Ox(c,n);return!u||!d?!1:XC(e)||(s==="spring"||fm(s))&&a}const KC=e=>e!==null;function Ic(e,{repeat:n,repeatType:s="loop"},a){const o=e.filter(KC),c=n&&s!=="loop"&&n%2===1?0:o.length-1;return!c||a===void 0?o[c]:a}const WC=40;class V2{constructor({autoplay:n=!0,delay:s=0,type:a="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ri.now(),this.options={autoplay:n,delay:s,type:a,repeat:o,repeatDelay:c,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>WC?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HC(),this._resolved}onKeyframesResolved(n,s){this.resolvedAt=ri.now(),this.hasAttemptedResolve=!0;const{name:a,type:o,velocity:c,delay:u,onComplete:d,onUpdate:m,isGenerator:y}=this.options;if(!y&&!IC(n,a,o,c))if(u)this.options.duration=0;else{m&&m(Ic(n,this.options,s)),d&&d(),this.resolveFinishedPromise();return}const p=this.initPlayback(n,s);p!==!1&&(this._resolved={keyframes:n,finalKeyframe:s,...p},this.onPostResolved())}onPostResolved(){}then(n,s){return this.currentFinishedPromise.then(n,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const ft=(e,n,s)=>e+(n-e)*s;function wf(e,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(n-e)*6*s:s<1/2?n:s<2/3?e+(n-e)*(2/3-s)*6:e}function ZC({hue:e,saturation:n,lightness:s,alpha:a}){e/=360,n/=100,s/=100;let o=0,c=0,u=0;if(!n)o=c=u=s;else{const d=s<.5?s*(1+n):s+n-s*n,m=2*s-d;o=wf(m,d,e+1/3),c=wf(m,d,e),u=wf(m,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:a}}function Ec(e,n){return s=>s>0?n:e}const jf=(e,n,s)=>{const a=e*e,o=s*(n*n-a)+a;return o<0?0:Math.sqrt(o)},QC=[rh,Gs,_a],JC=e=>QC.find(n=>n.test(e));function Px(e){const n=JC(e);if(!n)return!1;let s=n.parse(e);return n===_a&&(s=ZC(s)),s}const Bx=(e,n)=>{const s=Px(e),a=Px(n);if(!s||!a)return Ec(e,n);const o={...s};return c=>(o.red=jf(s.red,a.red,c),o.green=jf(s.green,a.green,c),o.blue=jf(s.blue,a.blue,c),o.alpha=ft(s.alpha,a.alpha,c),Gs.transform(o))},e5=(e,n)=>s=>n(e(s)),Vo=(...e)=>e.reduce(e5),uh=new Set(["none","hidden"]);function t5(e,n){return uh.has(e)?s=>s<=0?e:n:s=>s>=1?n:e}function n5(e,n){return s=>ft(e,n,s)}function Tm(e){return typeof e=="number"?n5:typeof e=="string"?sm(e)?Ec:Wt.test(e)?Bx:a5:Array.isArray(e)?L2:typeof e=="object"?Wt.test(e)?Bx:i5:Ec}function L2(e,n){const s=[...e],a=s.length,o=e.map((c,u)=>Tm(c)(c,n[u]));return c=>{for(let u=0;u<a;u++)s[u]=o[u](c);return s}}function i5(e,n){const s={...e,...n},a={};for(const o in s)e[o]!==void 0&&n[o]!==void 0&&(a[o]=Tm(e[o])(e[o],n[o]));return o=>{for(const c in a)s[c]=a[c](o);return s}}function s5(e,n){var s;const a=[],o={color:0,var:0,number:0};for(let c=0;c<n.values.length;c++){const u=n.types[c],d=e.indexes[u][o[u]],m=(s=e.values[d])!==null&&s!==void 0?s:0;a[c]=m,o[u]++}return a}const a5=(e,n)=>{const s=hs.createTransformer(n),a=To(e),o=To(n);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?uh.has(e)&&!o.values.length||uh.has(n)&&!a.values.length?t5(e,n):Vo(L2(s5(a,o),o.values),s):Ec(e,n)};function O2(e,n,s){return typeof e=="number"&&typeof n=="number"&&typeof s=="number"?ft(e,n,s):Tm(e)(e,n)}const r5=5;function P2(e,n,s){const a=Math.max(n-r5,0);return u2(s-e(a),n-a)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tf=.001;function o5({duration:e=gt.duration,bounce:n=gt.bounce,velocity:s=gt.velocity,mass:a=gt.mass}){let o,c,u=1-n;u=Vi(gt.minDamping,gt.maxDamping,u),e=Vi(gt.minDuration,gt.maxDuration,ki(e)),u<1?(o=y=>{const p=y*u,g=p*e,x=p-s,b=dh(y,u),S=Math.exp(-g);return Tf-x/b*S},c=y=>{const g=y*u*e,x=g*s+s,b=Math.pow(u,2)*Math.pow(y,2)*e,S=Math.exp(-g),T=dh(Math.pow(y,2),u);return(-o(y)+Tf>0?-1:1)*((x-b)*S)/T}):(o=y=>{const p=Math.exp(-y*e),g=(y-s)*e+1;return-Tf+p*g},c=y=>{const p=Math.exp(-y*e),g=(s-y)*(e*e);return p*g});const d=5/e,m=c5(o,c,d);if(e=Ri(e),isNaN(m))return{stiffness:gt.stiffness,damping:gt.damping,duration:e};{const y=Math.pow(m,2)*a;return{stiffness:y,damping:u*2*Math.sqrt(a*y),duration:e}}}const l5=12;function c5(e,n,s){let a=s;for(let o=1;o<l5;o++)a=a-e(a)/n(a);return a}function dh(e,n){return e*Math.sqrt(1-n*n)}const u5=["duration","bounce"],d5=["stiffness","damping","mass"];function Ux(e,n){return n.some(s=>e[s]!==void 0)}function f5(e){let n={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...e};if(!Ux(e,d5)&&Ux(e,u5))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),o=a*a,c=2*Vi(.05,1,1-(e.bounce||0))*Math.sqrt(o);n={...n,mass:gt.mass,stiffness:o,damping:c}}else{const s=o5(e);n={...n,...s,mass:gt.mass},n.isResolvedFromDuration=!0}return n}function B2(e=gt.visualDuration,n=gt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:a,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],d={done:!1,value:c},{stiffness:m,damping:y,mass:p,duration:g,velocity:x,isResolvedFromDuration:b}=f5({...s,velocity:-ki(s.velocity||0)}),S=x||0,T=y/(2*Math.sqrt(m*p)),M=u-c,C=ki(Math.sqrt(m/p)),L=Math.abs(M)<5;a||(a=L?gt.restSpeed.granular:gt.restSpeed.default),o||(o=L?gt.restDelta.granular:gt.restDelta.default);let z;if(T<1){const _=dh(C,T);z=D=>{const q=Math.exp(-T*C*D);return u-q*((S+T*C*M)/_*Math.sin(_*D)+M*Math.cos(_*D))}}else if(T===1)z=_=>u-Math.exp(-C*_)*(M+(S+C*M)*_);else{const _=C*Math.sqrt(T*T-1);z=D=>{const q=Math.exp(-T*C*D),j=Math.min(_*D,300);return u-q*((S+T*C*M)*Math.sinh(j)+_*M*Math.cosh(j))/_}}const O={calculatedDuration:b&&g||null,next:_=>{const D=z(_);if(b)d.done=_>=g;else{let q=0;T<1&&(q=_===0?Ri(S):P2(z,_,D));const j=Math.abs(q)<=a,N=Math.abs(u-D)<=o;d.done=j&&N}return d.value=d.done?u:D,d},toString:()=>{const _=Math.min(n2(O),ih),D=i2(q=>O.next(_*q).value,_,30);return _+"ms "+D}};return O}function $x({keyframes:e,velocity:n=0,power:s=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:d,max:m,restDelta:y=.5,restSpeed:p}){const g=e[0],x={done:!1,value:g},b=j=>d!==void 0&&j<d||m!==void 0&&j>m,S=j=>d===void 0?m:m===void 0||Math.abs(d-j)<Math.abs(m-j)?d:m;let T=s*n;const M=g+T,C=u===void 0?M:u(M);C!==M&&(T=C-g);const L=j=>-T*Math.exp(-j/a),z=j=>C+L(j),O=j=>{const N=L(j),V=z(j);x.done=Math.abs(N)<=y,x.value=x.done?C:V};let _,D;const q=j=>{b(x.value)&&(_=j,D=B2({keyframes:[x.value,S(x.value)],velocity:P2(z,j,x.value),damping:o,stiffness:c,restDelta:y,restSpeed:p}))};return q(0),{calculatedDuration:null,next:j=>{let N=!1;return!D&&_===void 0&&(N=!0,O(j),q(j)),_!==void 0&&j>=_?D.next(j-_):(!N&&O(j),x)}}}const h5=zo(.42,0,1,1),m5=zo(0,0,.58,1),U2=zo(.42,0,.58,1),p5=e=>Array.isArray(e)&&typeof e[0]!="number",g5={linear:jn,easeIn:h5,easeInOut:U2,easeOut:m5,circIn:vm,circInOut:v2,circOut:x2,backIn:xm,backInOut:g2,backOut:p2,anticipate:y2},_x=e=>{if(hm(e)){O1(e.length===4);const[n,s,a,o]=e;return zo(n,s,a,o)}else if(typeof e=="string")return g5[e];return e};function y5(e,n,s){const a=[],o=s||O2,c=e.length-1;for(let u=0;u<c;u++){let d=o(e[u],e[u+1]);if(n){const m=Array.isArray(n)?n[u]||jn:n;d=Vo(m,d)}a.push(d)}return a}function x5(e,n,{clamp:s=!0,ease:a,mixer:o}={}){const c=e.length;if(O1(c===n.length),c===1)return()=>n[0];if(c===2&&n[0]===n[1])return()=>n[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),n=[...n].reverse());const d=y5(n,a,o),m=d.length,y=p=>{if(u&&p<e[0])return n[0];let g=0;if(m>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const x=tr(e[g],e[g+1],p);return d[g](x)};return s?p=>y(Vi(e[0],e[c-1],p)):y}function v5(e,n){const s=e[e.length-1];for(let a=1;a<=n;a++){const o=tr(0,n,a);e.push(ft(s,1,o))}}function b5(e){const n=[0];return v5(n,e.length-1),n}function S5(e,n){return e.map(s=>s*n)}function w5(e,n){return e.map(()=>n||U2).splice(0,e.length-1)}function Mc({duration:e=300,keyframes:n,times:s,ease:a="easeInOut"}){const o=p5(a)?a.map(_x):_x(a),c={done:!1,value:n[0]},u=S5(s&&s.length===n.length?s:b5(n),e),d=x5(u,n,{ease:Array.isArray(o)?o:w5(n,o)});return{calculatedDuration:e,next:m=>(c.value=d(m),c.done=m>=e,c)}}const j5=e=>{const n=({timestamp:s})=>e(s);return{start:()=>lt.update(n,!0),stop:()=>fs(n),now:()=>Yt.isProcessing?Yt.timestamp:ri.now()}},T5={decay:$x,inertia:$x,tween:Mc,keyframes:Mc,spring:B2},A5=e=>e/100;class Am extends V2{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:s,motionValue:a,element:o,keyframes:c}=this.options,u=(o==null?void 0:o.KeyframeResolver)||jm,d=(m,y)=>this.onKeyframesResolved(m,y);this.resolver=new u(c,d,s,a,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:s="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=this.options,d=fm(s)?s:T5[s]||Mc;let m,y;d!==Mc&&typeof n[0]!="number"&&(m=Vo(A5,O2(n[0],n[1])),n=[0,100]);const p=d({...this.options,keyframes:n});c==="mirror"&&(y=d({...this.options,keyframes:[...n].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=n2(p));const{calculatedDuration:g}=p,x=g+o,b=x*(a+1)-o;return{generator:p,mirroredGenerator:y,mapPercentToKeyframes:m,calculatedDuration:g,resolvedDuration:x,totalDuration:b}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,s=!1){const{resolved:a}=this;if(!a){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:o,generator:c,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:m,calculatedDuration:y,totalDuration:p,resolvedDuration:g}=a;if(this.startTime===null)return c.next(0);const{delay:x,repeat:b,repeatType:S,repeatDelay:T,onUpdate:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-p/this.speed,this.startTime)),s?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const C=this.currentTime-x*(this.speed>=0?1:-1),L=this.speed>=0?C<0:C>p;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let z=this.currentTime,O=c;if(b){const j=Math.min(this.currentTime,p)/g;let N=Math.floor(j),V=j%1;!V&&j>=1&&(V=1),V===1&&N--,N=Math.min(N,b+1),!!(N%2)&&(S==="reverse"?(V=1-V,T&&(V-=T/g)):S==="mirror"&&(O=u)),z=Vi(0,1,V)*g}const _=L?{done:!1,value:m[0]}:O.next(z);d&&(_.value=d(_.value));let{done:D}=_;!L&&y!==null&&(D=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return q&&o!==void 0&&(_.value=Ic(m,this.options,o)),M&&M(_.value),q&&this.finish(),_}get duration(){const{resolved:n}=this;return n?ki(n.calculatedDuration):0}get time(){return ki(this.currentTime)}set time(n){n=Ri(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=ki(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=j5,onPlay:s,startTime:a}=this.options;this.driver||(this.driver=n(c=>this.tick(c))),s&&s();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const C5=new Set(["opacity","clipPath","filter","transform"]);function E5(e,n,s,{delay:a=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:d="easeInOut",times:m}={}){const y={[n]:s};m&&(y.offset=m);const p=a2(d,o);return Array.isArray(p)&&(y.easing=p),e.animate(y,{delay:a,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"})}const M5=Zh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Nc=10,N5=2e4;function D5(e){return fm(e.type)||e.type==="spring"||!s2(e.ease)}function R5(e,n){const s=new Am({...n,keyframes:e,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:e[0]};const o=[];let c=0;for(;!a.done&&c<N5;)a=s.sample(c),o.push(a.value),c+=Nc;return{times:void 0,keyframes:o,duration:c-Nc,ease:"linear"}}const $2={anticipate:y2,backInOut:g2,circInOut:v2};function k5(e){return e in $2}class Fx extends V2{constructor(n){super(n);const{name:s,motionValue:a,element:o,keyframes:c}=this.options;this.resolver=new z2(c,(u,d)=>this.onKeyframesResolved(u,d),s,a,o),this.resolver.scheduleResolve()}initPlayback(n,s){let{duration:a=300,times:o,ease:c,type:u,motionValue:d,name:m,startTime:y}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof c=="string"&&Cc()&&k5(c)&&(c=$2[c]),D5(this.options)){const{onComplete:g,onUpdate:x,motionValue:b,element:S,...T}=this.options,M=R5(n,T);n=M.keyframes,n.length===1&&(n[1]=n[0]),a=M.duration,o=M.times,c=M.ease,u="keyframes"}const p=E5(d.owner.current,m,n,{...this.options,duration:a,times:o,ease:c});return p.startTime=y??this.calcStartTime(),this.pendingTimeline?(Cx(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:g}=this.options;d.set(Ic(n,this.options,s)),g&&g(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:a,times:o,type:u,ease:c,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:s}=n;return ki(s)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:s}=n;return ki(s.currentTime||0)}set time(n){const{resolved:s}=this;if(!s)return;const{animation:a}=s;a.currentTime=Ri(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:s}=n;return s.playbackRate}set speed(n){const{resolved:s}=this;if(!s)return;const{animation:a}=s;a.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:s}=n;return s.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:s}=n;return s.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:s}=this;if(!s)return jn;const{animation:a}=s;Cx(a,n)}return jn}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:s,keyframes:a,duration:o,type:c,ease:u,times:d}=n;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:y,onUpdate:p,onComplete:g,element:x,...b}=this.options,S=new Am({...b,keyframes:a,duration:o,type:c,ease:u,times:d,isGenerator:!0}),T=Ri(this.time);y.setWithVelocity(S.sample(T-Nc).value,S.sample(T).value,Nc)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:s,name:a,repeatDelay:o,repeatType:c,damping:u,type:d}=n;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:y}=s.owner.getProps();return M5()&&a&&C5.has(a)&&!m&&!y&&!o&&c!=="mirror"&&u!==0&&d!=="inertia"}}const z5={type:"spring",stiffness:500,damping:25,restSpeed:10},V5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),L5={type:"keyframes",duration:.8},O5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P5=(e,{keyframes:n})=>n.length>2?L5:Zs.has(e)?e.startsWith("scale")?V5(n[1]):z5:O5;function B5({when:e,delay:n,delayChildren:s,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:d,from:m,elapsed:y,...p}){return!!Object.keys(p).length}const Cm=(e,n,s,a={},o,c)=>u=>{const d=dm(a,e)||{},m=d.delay||a.delay||0;let{elapsed:y=0}=a;y=y-Ri(m);let p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...d,delay:-y,onUpdate:x=>{n.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:e,motionValue:n,element:c?void 0:o};B5(d)||(p={...p,...P5(e,p)}),p.duration&&(p.duration=Ri(p.duration)),p.repeatDelay&&(p.repeatDelay=Ri(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),g&&!c&&n.get()!==void 0){const x=Ic(p.keyframes,d);if(x!==void 0)return lt.update(()=>{p.onUpdate(x),p.onComplete()}),new iC([])}return!c&&Fx.supports(p)?new Fx(p):new Am(p)};function U5({protectedKeys:e,needsAnimating:n},s){const a=e.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,a}function _2(e,n,{delay:s=0,transitionOverride:a,type:o}={}){var c;let{transition:u=e.getDefaultTransition(),transitionEnd:d,...m}=n;a&&(u=a);const y=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const g in m){const x=e.getValue(g,(c=e.latestValues[g])!==null&&c!==void 0?c:null),b=m[g];if(b===void 0||p&&U5(p,g))continue;const S={delay:s,...dm(u||{},g)};let T=!1;if(window.MotionHandoffAnimation){const C=d2(e);if(C){const L=window.MotionHandoffAnimation(C,g,lt);L!==null&&(S.startTime=L,T=!0)}}ah(e,g),x.start(Cm(g,x,b,e.shouldReduceMotion&&c2.has(g)?{type:!1}:S,e,T));const M=x.animation;M&&y.push(M)}return d&&Promise.all(y).then(()=>{lt.update(()=>{d&&yC(e,d)})}),y}function fh(e,n,s={}){var a;const o=Xc(e,n,s.type==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:c=e.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(c=s.transitionOverride);const u=o?()=>Promise.all(_2(e,o,s)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=c;return $5(e,n,p+y,g,x,s)}:()=>Promise.resolve(),{when:m}=c;if(m){const[y,p]=m==="beforeChildren"?[u,d]:[d,u];return y().then(()=>p())}else return Promise.all([u(),d(s.delay)])}function $5(e,n,s=0,a=0,o=1,c){const u=[],d=(e.variantChildren.size-1)*a,m=o===1?(y=0)=>y*a:(y=0)=>d-y*a;return Array.from(e.variantChildren).sort(_5).forEach((y,p)=>{y.notify("AnimationStart",n),u.push(fh(y,n,{...c,delay:s+m(p)}).then(()=>y.notify("AnimationComplete",n)))}),Promise.all(u)}function _5(e,n){return e.sortNodePosition(n)}function F5(e,n,s={}){e.notify("AnimationStart",n);let a;if(Array.isArray(n)){const o=n.map(c=>fh(e,c,s));a=Promise.all(o)}else if(typeof n=="string")a=fh(e,n,s);else{const o=typeof n=="function"?Xc(e,n,s.custom):n;a=Promise.all(_2(e,o,s))}return a.then(()=>{e.notify("AnimationComplete",n)})}const H5=Jh.length;function F2(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?F2(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const n={};for(let s=0;s<H5;s++){const a=Jh[s],o=e.props[a];(So(o)||o===!1)&&(n[a]=o)}return n}const G5=[...Qh].reverse(),q5=Qh.length;function Y5(e){return n=>Promise.all(n.map(({animation:s,options:a})=>F5(e,s,a)))}function X5(e){let n=Y5(e),s=Hx(),a=!0;const o=m=>(y,p)=>{var g;const x=Xc(e,p,m==="exit"?(g=e.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(x){const{transition:b,transitionEnd:S,...T}=x;y={...y,...T,...S}}return y};function c(m){n=m(e)}function u(m){const{props:y}=e,p=F2(e.parent)||{},g=[],x=new Set;let b={},S=1/0;for(let M=0;M<q5;M++){const C=G5[M],L=s[C],z=y[C]!==void 0?y[C]:p[C],O=So(z),_=C===m?L.isActive:null;_===!1&&(S=M);let D=z===p[C]&&z!==y[C]&&O;if(D&&a&&e.manuallyAnimateOnMount&&(D=!1),L.protectedKeys={...b},!L.isActive&&_===null||!z&&!L.prevProp||qc(z)||typeof z=="boolean")continue;const q=I5(L.prevProp,z);let j=q||C===m&&L.isActive&&!D&&O||M>S&&O,N=!1;const V=Array.isArray(z)?z:[z];let B=V.reduce(o(C),{});_===!1&&(B={});const{prevResolvedValues:$={}}=L,H={...$,...B},F=A=>{j=!0,x.has(A)&&(N=!0,x.delete(A)),L.needsAnimating[A]=!0;const P=e.getValue(A);P&&(P.liveStyle=!1)};for(const A in H){const P=B[A],U=$[A];if(b.hasOwnProperty(A))continue;let I=!1;nh(P)&&nh(U)?I=!t2(P,U):I=P!==U,I?P!=null?F(A):x.add(A):P!==void 0&&x.has(A)?F(A):L.protectedKeys[A]=!0}L.prevProp=z,L.prevResolvedValues=B,L.isActive&&(b={...b,...B}),a&&e.blockInitialAnimation&&(j=!1),j&&(!(D&&q)||N)&&g.push(...V.map(A=>({animation:A,options:{type:C}})))}if(x.size){const M={};x.forEach(C=>{const L=e.getBaseTarget(C),z=e.getValue(C);z&&(z.liveStyle=!0),M[C]=L??null}),g.push({animation:M})}let T=!!g.length;return a&&(y.initial===!1||y.initial===y.animate)&&!e.manuallyAnimateOnMount&&(T=!1),a=!1,T?n(g):Promise.resolve()}function d(m,y){var p;if(s[m].isActive===y)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(x=>{var b;return(b=x.animationState)===null||b===void 0?void 0:b.setActive(m,y)}),s[m].isActive=y;const g=u(m);for(const x in s)s[x].protectedKeys={};return g}return{animateChanges:u,setActive:d,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Hx(),a=!0}}}function I5(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!t2(n,e):!1}function Ps(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hx(){return{animate:Ps(!0),whileInView:Ps(),whileHover:Ps(),whileTap:Ps(),whileDrag:Ps(),whileFocus:Ps(),exit:Ps()}}let gs=class{constructor(n){this.isMounted=!1,this.node=n}update(){}},K5=class extends gs{constructor(n){super(n),n.animationState||(n.animationState=X5(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();qc(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}},W5=0,Z5=class extends gs{constructor(){super(...arguments),this.id=W5++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===a)return;const o=this.node.animationState.setActive("exit",!n);s&&!n&&o.then(()=>s(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}};const Q5={animation:{Feature:K5},exit:{Feature:Z5}};function Ao(e,n,s,a={passive:!0}){return e.addEventListener(n,s,a),()=>e.removeEventListener(n,s)}function Lo(e){return{point:{x:e.pageX,y:e.pageY}}}const J5=e=>n=>mm(n)&&e(n,Lo(n));function mo(e,n,s,a){return Ao(e,n,J5(s),a)}const Gx=(e,n)=>Math.abs(e-n);function e4(e,n){const s=Gx(e.x,n.x),a=Gx(e.y,n.y);return Math.sqrt(s**2+a**2)}let H2=class{constructor(n,s,{transformPagePoint:a,contextWindow:o,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Cf(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=e4(g.offset,{x:0,y:0})>=3;if(!x&&!b)return;const{point:S}=g,{timestamp:T}=Yt;this.history.push({...S,timestamp:T});const{onStart:M,onMove:C}=this.handlers;x||(M&&M(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Af(x,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:b,onSessionEnd:S,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Cf(g.type==="pointercancel"?this.lastMoveEventInfo:Af(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,M),S&&S(g,M)},!mm(n))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=a,this.contextWindow=o||window;const u=Lo(n),d=Af(u,this.transformPagePoint),{point:m}=d,{timestamp:y}=Yt;this.history=[{...m,timestamp:y}];const{onSessionStart:p}=s;p&&p(n,Cf(d,this.history)),this.removeListeners=Vo(mo(this.contextWindow,"pointermove",this.handlePointerMove),mo(this.contextWindow,"pointerup",this.handlePointerUp),mo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}};function Af(e,n){return n?{point:n(e.point)}:e}function qx(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Cf({point:e},n){return{point:e,delta:qx(e,G2(n)),offset:qx(e,t4(n)),velocity:n4(n,.1)}}function t4(e){return e[0]}function G2(e){return e[e.length-1]}function n4(e,n){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const o=G2(e);for(;s>=0&&(a=e[s],!(o.timestamp-a.timestamp>Ri(n)));)s--;if(!a)return{x:0,y:0};const c=ki(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const q2=1e-4,i4=1-q2,s4=1+q2,Y2=.01,a4=0-Y2,r4=0+Y2;function Tn(e){return e.max-e.min}function o4(e,n,s){return Math.abs(e-n)<=s}function Yx(e,n,s,a=.5){e.origin=a,e.originPoint=ft(n.min,n.max,e.origin),e.scale=Tn(s)/Tn(n),e.translate=ft(s.min,s.max,e.origin)-e.originPoint,(e.scale>=i4&&e.scale<=s4||isNaN(e.scale))&&(e.scale=1),(e.translate>=a4&&e.translate<=r4||isNaN(e.translate))&&(e.translate=0)}function po(e,n,s,a){Yx(e.x,n.x,s.x,a?a.originX:void 0),Yx(e.y,n.y,s.y,a?a.originY:void 0)}function Xx(e,n,s){e.min=s.min+n.min,e.max=e.min+Tn(n)}function l4(e,n,s){Xx(e.x,n.x,s.x),Xx(e.y,n.y,s.y)}function Ix(e,n,s){e.min=n.min-s.min,e.max=e.min+Tn(n)}function go(e,n,s){Ix(e.x,n.x,s.x),Ix(e.y,n.y,s.y)}function c4(e,{min:n,max:s},a){return n!==void 0&&e<n?e=a?ft(n,e,a.min):Math.max(e,n):s!==void 0&&e>s&&(e=a?ft(s,e,a.max):Math.min(e,s)),e}function Kx(e,n,s){return{min:n!==void 0?e.min+n:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function u4(e,{top:n,left:s,bottom:a,right:o}){return{x:Kx(e.x,s,o),y:Kx(e.y,n,a)}}function Wx(e,n){let s=n.min-e.min,a=n.max-e.max;return n.max-n.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function d4(e,n){return{x:Wx(e.x,n.x),y:Wx(e.y,n.y)}}function f4(e,n){let s=.5;const a=Tn(e),o=Tn(n);return o>a?s=tr(n.min,n.max-a,e.min):a>o&&(s=tr(e.min,e.max-o,n.min)),Vi(0,1,s)}function h4(e,n){const s={};return n.min!==void 0&&(s.min=n.min-e.min),n.max!==void 0&&(s.max=n.max-e.min),s}const hh=.35;function m4(e=hh){return e===!1?e=0:e===!0&&(e=hh),{x:Zx(e,"left","right"),y:Zx(e,"top","bottom")}}function Zx(e,n,s){return{min:Qx(e,n),max:Qx(e,s)}}function Qx(e,n){return typeof e=="number"?e:e[n]||0}const Jx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fa=()=>({x:Jx(),y:Jx()}),ev=()=>({min:0,max:0}),jt=()=>({x:ev(),y:ev()});function Bn(e){return[e("x"),e("y")]}function X2({top:e,left:n,right:s,bottom:a}){return{x:{min:n,max:s},y:{min:e,max:a}}}function p4({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function g4(e,n){if(!n)return e;const s=n({x:e.left,y:e.top}),a=n({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Ef(e){return e===void 0||e===1}function mh({scale:e,scaleX:n,scaleY:s}){return!Ef(e)||!Ef(n)||!Ef(s)}function _s(e){return mh(e)||I2(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function I2(e){return tv(e.x)||tv(e.y)}function tv(e){return e&&e!=="0%"}function Dc(e,n,s){const a=e-s,o=n*a;return s+o}function nv(e,n,s,a,o){return o!==void 0&&(e=Dc(e,o,a)),Dc(e,s,a)+n}function ph(e,n=0,s=1,a,o){e.min=nv(e.min,n,s,a,o),e.max=nv(e.max,n,s,a,o)}function K2(e,{x:n,y:s}){ph(e.x,n.translate,n.scale,n.originPoint),ph(e.y,s.translate,s.scale,s.originPoint)}const iv=.999999999999,sv=1.0000000000001;function y4(e,n,s,a=!1){const o=s.length;if(!o)return;n.x=n.y=1;let c,u;for(let d=0;d<o;d++){c=s[d],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ga(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(n.x*=u.x.scale,n.y*=u.y.scale,K2(e,u)),a&&_s(c.latestValues)&&Ga(e,c.latestValues))}n.x<sv&&n.x>iv&&(n.x=1),n.y<sv&&n.y>iv&&(n.y=1)}function Ha(e,n){e.min=e.min+n,e.max=e.max+n}function av(e,n,s,a,o=.5){const c=ft(e.min,e.max,o);ph(e,n,s,c,a)}function Ga(e,n){av(e.x,n.x,n.scaleX,n.scale,n.originX),av(e.y,n.y,n.scaleY,n.scale,n.originY)}function W2(e,n){return X2(g4(e.getBoundingClientRect(),n))}function x4(e,n,s){const a=W2(e,s),{scroll:o}=n;return o&&(Ha(a.x,o.offset.x),Ha(a.y,o.offset.y)),a}const Z2=({current:e})=>e?e.ownerDocument.defaultView:null,v4=new WeakMap;let b4=class{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jt(),this.visualElement=n}start(n,{snapToCursor:s=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Lo(p).point)},c=(p,g)=>{const{drag:x,dragPropagation:b,onDragStart:S}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fC(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(M=>{let C=this.getAxisMotionValue(M).get()||0;if(ai.test(C)){const{projection:L}=this.visualElement;if(L&&L.layout){const z=L.layout.layoutBox[M];z&&(C=Tn(z)*(parseFloat(C)/100))}}this.originPoint[M]=C}),S&&lt.postRender(()=>S(p,g)),ah(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},u=(p,g)=>{const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:S,onDrag:T}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:M}=g;if(b&&this.currentDirection===null){this.currentDirection=S4(M),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",g.point,M),this.updateAxis("y",g.point,M),this.visualElement.render(),T&&T(p,g)},d=(p,g)=>this.stop(p,g),m=()=>Bn(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new H2(n,{onSessionStart:o,onStart:c,onMove:u,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,contextWindow:Z2(this.visualElement)})}stop(n,s){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&lt.postRender(()=>c(n,s))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,a){const{drag:o}=this.getProps();if(!a||!ic(n,o,this.currentDirection))return;const c=this.getAxisMotionValue(n);let u=this.originPoint[n]+a[n];this.constraints&&this.constraints[n]&&(u=c4(u,this.constraints[n],this.elastic[n])),c.set(u)}resolveConstraints(){var n;const{dragConstraints:s,dragElastic:a}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,c=this.constraints;s&&$a(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&o?this.constraints=u4(o.layoutBox,s):this.constraints=!1,this.elastic=m4(a),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Bn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=h4(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!$a(n))return!1;const a=n.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=x4(a,o.root,this.visualElement.getTransformPagePoint());let u=d4(o.layout.layoutBox,c);if(s){const d=s(p4(u));this.hasMutatedConstraints=!!d,d&&(u=X2(d))}return u}startAnimation(n){const{drag:s,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},y=Bn(p=>{if(!ic(p,s,this.currentDirection))return;let g=m&&m[p]||{};u&&(g={min:0,max:0});const x=o?200:1e6,b=o?40:1e7,S={type:"inertia",velocity:a?n[p]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(y).then(d)}startAxisValueAnimation(n,s){const a=this.getAxisMotionValue(n);return ah(this.visualElement,n),a.start(Cm(n,a,0,s,this.visualElement,!1))}stopAnimation(){Bn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Bn(n=>{var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,a=this.visualElement.getProps(),o=a[s];return o||this.visualElement.getValue(n,(a.initial?a.initial[n]:void 0)||0)}snapToCursor(n){Bn(s=>{const{drag:a}=this.getProps();if(!ic(s,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[s];c.set(n[s]-ft(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!$a(s)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Bn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();o[u]=f4({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Bn(u=>{if(!ic(u,n,null))return;const d=this.getAxisMotionValue(u),{min:m,max:y}=this.constraints[u];d.set(ft(m,y,o[u]))})}addListeners(){if(!this.visualElement.current)return;v4.set(this.visualElement,this);const n=this.visualElement.current,s=mo(n,"pointerdown",m=>{const{drag:y,dragListener:p=!0}=this.getProps();y&&p&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();$a(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),lt.read(a);const u=Ao(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Bn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=m[p].translate,g.set(g.get()+m[p].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),d&&d()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=hh,dragMomentum:d=!0}=n;return{...n,drag:s,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:d}}};function ic(e,n,s){return(n===!0||n===e)&&(s===null||s===e)}function S4(e,n=10){let s=null;return Math.abs(e.y)>n?s="y":Math.abs(e.x)>n&&(s="x"),s}let w4=class extends gs{constructor(n){super(n),this.removeGroupControls=jn,this.removeListeners=jn,this.controls=new b4(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jn}unmount(){this.removeGroupControls(),this.removeListeners()}};const rv=e=>(n,s)=>{e&&lt.postRender(()=>e(n,s))};let j4=class extends gs{constructor(){super(...arguments),this.removePointerDownListener=jn}onPointerDown(n){this.session=new H2(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z2(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:rv(n),onStart:rv(s),onMove:a,onEnd:(c,u)=>{delete this.session,o&&lt.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=mo(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const hc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ov(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const io={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(we.test(e))e=parseFloat(e);else return e;const s=ov(e,n.target.x),a=ov(e,n.target.y);return`${s}% ${a}%`}},T4={correct:(e,{treeScale:n,projectionDelta:s})=>{const a=e,o=hs.parse(e);if(o.length>5)return a;const c=hs.createTransformer(e),u=typeof o[0]!="number"?1:0,d=s.x.scale*n.x,m=s.y.scale*n.y;o[0+u]/=d,o[1+u]/=m;const y=ft(d,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=y),typeof o[3+u]=="number"&&(o[3+u]/=y),c(o)}};let A4=class extends k.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=n;q6(C4),c&&(s.group&&s.group.add(c),a&&a.register&&o&&a.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),hc.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:a,drag:o,isPresent:c}=this.props,u=a.projection;return u&&(u.isPresent=c,o||n.layoutDependency!==s||s===void 0?u.willUpdate():this.safeToRemove(),n.isPresent!==c&&(c?u.promote():u.relegate()||lt.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),tm.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:o}=n;o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}};function Q2(e){const[n,s]=r6(),a=k.useContext(V1);return f.jsx(A4,{...e,layoutGroup:a,switchLayoutGroup:k.useContext(F1),isPresent:n,safeToRemove:s})}const C4={borderRadius:{...io,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:io,borderTopRightRadius:io,borderBottomLeftRadius:io,borderBottomRightRadius:io,boxShadow:T4};function E4(e,n,s){const a=Qt(e)?e:jo(e);return a.start(Cm("",a,n,s)),a.animation}function M4(e){return e instanceof SVGElement&&e.tagName!=="svg"}const N4=(e,n)=>e.depth-n.depth;let D4=class{constructor(){this.children=[],this.isDirty=!1}add(n){pm(this.children,n),this.isDirty=!0}remove(n){gm(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(N4),this.isDirty=!1,this.children.forEach(n)}};function R4(e,n){const s=ri.now(),a=({timestamp:o})=>{const c=o-s;c>=n&&(fs(a),e(c-n))};return lt.read(a,!0),()=>fs(a)}const J2=["TopLeft","TopRight","BottomLeft","BottomRight"],k4=J2.length,lv=e=>typeof e=="string"?parseFloat(e):e,cv=e=>typeof e=="number"||we.test(e);function z4(e,n,s,a,o,c){o?(e.opacity=ft(0,s.opacity!==void 0?s.opacity:1,V4(a)),e.opacityExit=ft(n.opacity!==void 0?n.opacity:1,0,L4(a))):c&&(e.opacity=ft(n.opacity!==void 0?n.opacity:1,s.opacity!==void 0?s.opacity:1,a));for(let u=0;u<k4;u++){const d=`border${J2[u]}Radius`;let m=uv(n,d),y=uv(s,d);if(m===void 0&&y===void 0)continue;m||(m=0),y||(y=0),m===0||y===0||cv(m)===cv(y)?(e[d]=Math.max(ft(lv(m),lv(y),a),0),(ai.test(y)||ai.test(m))&&(e[d]+="%")):e[d]=y}(n.rotate||s.rotate)&&(e.rotate=ft(n.rotate||0,s.rotate||0,a))}function uv(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const V4=eS(0,.5,x2),L4=eS(.5,.95,jn);function eS(e,n,s){return a=>a<e?0:a>n?1:s(tr(e,n,a))}function dv(e,n){e.min=n.min,e.max=n.max}function Pn(e,n){dv(e.x,n.x),dv(e.y,n.y)}function fv(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}function hv(e,n,s,a,o){return e-=n,e=Dc(e,1/s,a),o!==void 0&&(e=Dc(e,1/o,a)),e}function O4(e,n=0,s=1,a=.5,o,c=e,u=e){if(ai.test(n)&&(n=parseFloat(n),n=ft(u.min,u.max,n/100)-u.min),typeof n!="number")return;let d=ft(c.min,c.max,a);e===c&&(d-=n),e.min=hv(e.min,n,s,d,o),e.max=hv(e.max,n,s,d,o)}function mv(e,n,[s,a,o],c,u){O4(e,n[s],n[a],n[o],n.scale,c,u)}const P4=["x","scaleX","originX"],B4=["y","scaleY","originY"];function pv(e,n,s,a){mv(e.x,n,P4,s?s.x:void 0,a?a.x:void 0),mv(e.y,n,B4,s?s.y:void 0,a?a.y:void 0)}function gv(e){return e.translate===0&&e.scale===1}function tS(e){return gv(e.x)&&gv(e.y)}function yv(e,n){return e.min===n.min&&e.max===n.max}function U4(e,n){return yv(e.x,n.x)&&yv(e.y,n.y)}function xv(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function nS(e,n){return xv(e.x,n.x)&&xv(e.y,n.y)}function vv(e){return Tn(e.x)/Tn(e.y)}function bv(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}let $4=class{constructor(){this.members=[]}add(n){pm(this.members,n),n.scheduleRender()}remove(n){if(gm(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(o=>n===o);if(s===0)return!1;let a;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(n,s){const a=this.lead;if(n!==a&&(this.prevLead=a,this.lead=n,n.show(),a)){a.instance&&a.scheduleRender(),n.scheduleRender(),n.resumeFrom=a,s&&(n.resumeFrom.preserveOpacity=!0),a.snapshot&&(n.snapshot=a.snapshot,n.snapshot.latestValues=a.animationValues||a.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:o}=n.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:a}=n;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function _4(e,n,s){let a="";const o=e.x.translate/n.x,c=e.y.translate/n.y,u=(s==null?void 0:s.z)||0;if((o||c||u)&&(a=`translate3d(${o}px, ${c}px, ${u}px) `),(n.x!==1||n.y!==1)&&(a+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:y,rotate:p,rotateX:g,rotateY:x,skewX:b,skewY:S}=s;y&&(a=`perspective(${y}px) ${a}`),p&&(a+=`rotate(${p}deg) `),g&&(a+=`rotateX(${g}deg) `),x&&(a+=`rotateY(${x}deg) `),b&&(a+=`skewX(${b}deg) `),S&&(a+=`skewY(${S}deg) `)}const d=e.x.scale*n.x,m=e.y.scale*n.y;return(d!==1||m!==1)&&(a+=`scale(${d}, ${m})`),a||"none"}const Fs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},lo=typeof window<"u"&&window.MotionDebug!==void 0,Mf=["","X","Y","Z"],F4={visibility:"hidden"},Sv=1e3;let H4=0;function Nf(e,n,s,a){const{latestValues:o}=n;o[e]&&(s[e]=o[e],n.setStaticValue(e,0),a&&(a[e]=0))}function iS(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const s=d2(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",lt,!(o||c))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&iS(a)}function sS({attachResizeListener:e,defaultParent:n,measureScroll:s,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(u={},d=n==null?void 0:n()){this.id=H4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,lo&&(Fs.totalNodes=Fs.resolvedTargetDeltas=Fs.recalculatedProjection=0),this.nodes.forEach(Y4),this.nodes.forEach(Z4),this.nodes.forEach(Q4),this.nodes.forEach(X4),lo&&window.MotionDebug.record(Fs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new D4)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ym),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=M4(u),this.instance=u;const{layoutId:m,layout:y,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(y||m)&&(this.isLayoutDirty=!0),e){let g;const x=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=R4(x,250),hc.hasAnimatedSinceResize&&(hc.hasAnimatedSinceResize=!1,this.nodes.forEach(jv))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&p&&(m||y)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeTargetChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||p.getDefaultTransition()||iE,{onLayoutAnimationStart:M,onLayoutAnimationComplete:C}=p.getProps(),L=!this.targetLayout||!nS(this.targetLayout,S)||b,z=!x&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||x&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,z);const O={...dm(T,"layout"),onPlay:M,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else x||jv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(J4),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wv);return}this.isUpdating||this.nodes.forEach(K4),this.isUpdating=!1,this.nodes.forEach(W4),this.nodes.forEach(G4),this.nodes.forEach(q4),this.clearAllSnapshots();const d=ri.now();Yt.delta=Vi(0,1e3/60,d-Yt.timestamp),Yt.timestamp=d,Yt.isProcessing=!0,vf.update.process(Yt),vf.preRender.process(Yt),vf.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(I4),this.sharedNodes.forEach(eE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!tS(this.projectionDelta),m=this.getTransformTemplate(),y=m?m(this.latestValues,""):void 0,p=y!==this.prevTransformTemplateValue;u&&(d||_s(this.latestValues)||p)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),sE(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return jt();const m=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(aE))){const{scroll:p}=this.root;p&&(Ha(m.x,p.offset.x),Ha(m.y,p.offset.y))}return m}removeElementScroll(u){var d;const m=jt();if(Pn(m,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return m;for(let y=0;y<this.path.length;y++){const p=this.path[y],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&Pn(m,u),Ha(m.x,g.offset.x),Ha(m.y,g.offset.y))}return m}applyTransform(u,d=!1){const m=jt();Pn(m,u);for(let y=0;y<this.path.length;y++){const p=this.path[y];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ga(m,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),_s(p.latestValues)&&Ga(m,p.latestValues)}return _s(this.latestValues)&&Ga(m,this.latestValues),m}removeTransform(u){const d=jt();Pn(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];if(!y.instance||!_s(y.latestValues))continue;mh(y.latestValues)&&y.updateSnapshot();const p=jt(),g=y.measurePageBox();Pn(p,g),pv(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,p)}return _s(this.latestValues)&&pv(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const y=!!this.resumingFrom||this!==m;if(!(u||y&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),go(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jt(),this.targetWithTransforms=jt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),l4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),K2(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jt(),this.relativeTargetOrigin=jt(),go(this.relativeTargetOrigin,this.target,b.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}lo&&Fs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mh(this.parent.latestValues)||I2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let y=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(y=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(y=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(y=!1),y)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Pn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;y4(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=jt());const{target:S}=d;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fv(this.prevProjectionDelta.x,this.projectionDelta.x),fv(this.prevProjectionDelta.y,this.projectionDelta.y)),po(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!bv(this.projectionDelta.x,this.prevProjectionDelta.x)||!bv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),lo&&Fs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fa(),this.projectionDelta=Fa(),this.projectionDeltaWithTransform=Fa()}setAnimationOrigin(u,d=!1){const m=this.snapshot,y=m?m.latestValues:{},p={...this.latestValues},g=Fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=jt(),b=m?m.source:void 0,S=this.layout?this.layout.source:void 0,T=b!==S,M=this.getStack(),C=!M||M.members.length<=1,L=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(nE));this.animationProgress=0;let z;this.mixTargetDelta=O=>{const _=O/1e3;Tv(g.x,u.x,_),Tv(g.y,u.y,_),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(go(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tE(this.relativeTarget,this.relativeTargetOrigin,x,_),z&&U4(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=jt()),Pn(z,this.relativeTarget)),T&&(this.animationValues=p,z4(p,y,this.latestValues,_,L,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{hc.hasAnimatedSinceResize=!0,this.currentAnimation=E4(0,Sv,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:y,latestValues:p}=u;if(!(!d||!m||!y)){if(this!==u&&this.layout&&y&&aS(this.options.animationType,this.layout.layoutBox,y.layoutBox)){m=this.target||jt();const g=Tn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+g;const x=Tn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+x}Pn(d,m),Ga(d,p),po(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new $4),this.sharedNodes.get(u).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const y=this.getStack();y&&y.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const y={};m.z&&Nf("z",u,y,this.animationValues);for(let p=0;p<Mf.length;p++)Nf(`rotate${Mf[p]}`,u,y,this.animationValues),Nf(`skew${Mf[p]}`,u,y,this.animationValues);u.render();for(const p in y)u.setStaticValue(p,y[p]),this.animationValues&&(this.animationValues[p]=y[p]);u.scheduleRender()}getProjectionStyles(u){var d,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return F4;const y={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,y.opacity="",y.pointerEvents=dc(u==null?void 0:u.pointerEvents)||"",y.transform=p?p(this.latestValues,""):"none",y;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=dc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!_s(this.latestValues)&&(T.transform=p?p({},""):"none",this.hasProjected=!1),T}const x=g.animationValues||g.latestValues;this.applyTransformsToTarget(),y.transform=_4(this.projectionDeltaWithTransform,this.treeScale,x),p&&(y.transform=p(x,y.transform));const{x:b,y:S}=this.projectionDelta;y.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?y.opacity=g===this?(m=(d=x.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:y.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const T in Ac){if(x[T]===void 0)continue;const{correct:M,applyTo:C}=Ac[T],L=y.transform==="none"?x[T]:M(x[T],g);if(C){const z=C.length;for(let O=0;O<z;O++)y[C[O]]=L}else y[T]=L}return this.options.layoutId&&(y.pointerEvents=g===this?dc(u==null?void 0:u.pointerEvents)||"":"none"),y}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(wv),this.root.sharedNodes.clear()}}}function G4(e){e.updateLayout()}function q4(e){var n;const s=((n=e.resumeFrom)===null||n===void 0?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&s&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=e.layout,{animationType:c}=e.options,u=s.source!==e.layout.source;c==="size"?Bn(g=>{const x=u?s.measuredBox[g]:s.layoutBox[g],b=Tn(x);x.min=a[g].min,x.max=x.min+b}):aS(c,s.layoutBox,a)&&Bn(g=>{const x=u?s.measuredBox[g]:s.layoutBox[g],b=Tn(a[g]);x.max=x.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const d=Fa();po(d,a,s.layoutBox);const m=Fa();u?po(m,e.applyTransform(o,!0),s.measuredBox):po(m,a,s.layoutBox);const y=!tS(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const S=jt();go(S,s.layoutBox,x.layoutBox);const T=jt();go(T,a,b.layoutBox),nS(S,T)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:m,layoutDelta:d,hasLayoutChanged:y,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function Y4(e){lo&&Fs.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function X4(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function I4(e){e.clearSnapshot()}function wv(e){e.clearMeasurements()}function K4(e){e.isLayoutDirty=!1}function W4(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function jv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z4(e){e.resolveTargetDelta()}function Q4(e){e.calcProjection()}function J4(e){e.resetSkewAndRotation()}function eE(e){e.removeLeadSnapshot()}function Tv(e,n,s){e.translate=ft(n.translate,0,s),e.scale=ft(n.scale,1,s),e.origin=n.origin,e.originPoint=n.originPoint}function Av(e,n,s,a){e.min=ft(n.min,s.min,a),e.max=ft(n.max,s.max,a)}function tE(e,n,s,a){Av(e.x,n.x,s.x,a),Av(e.y,n.y,s.y,a)}function nE(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const iE={duration:.45,ease:[.4,0,.1,1]},Cv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Ev=Cv("applewebkit/")&&!Cv("chrome/")?Math.round:jn;function Mv(e){e.min=Ev(e.min),e.max=Ev(e.max)}function sE(e){Mv(e.x),Mv(e.y)}function aS(e,n,s){return e==="position"||e==="preserve-aspect"&&!o4(vv(n),vv(s),.2)}function aE(e){var n;return e!==e.root&&((n=e.scroll)===null||n===void 0?void 0:n.wasRoot)}const rE=sS({attachResizeListener:(e,n)=>Ao(e,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Df={current:void 0},rS=sS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Df.current){const e=new rE({});e.mount(window),e.setOptions({layoutScroll:!0}),Df.current=e}return Df.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oE={pan:{Feature:j4},drag:{Feature:w4,ProjectionNode:rS,MeasureLayout:Q2}};function Nv(e,n,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=a[o];c&&lt.postRender(()=>c(n,Lo(n)))}let lE=class extends gs{mount(){const{current:n}=this.node;n&&(this.unmount=oC(n,s=>(Nv(this.node,s,"Start"),a=>Nv(this.node,a,"End"))))}unmount(){}},cE=class extends gs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vo(Ao(this.node.current,"focus",()=>this.onFocus()),Ao(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function Dv(e,n,s){const{props:a}=e;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=a[o];c&&lt.postRender(()=>c(n,Lo(n)))}let uE=class extends gs{mount(){const{current:n}=this.node;n&&(this.unmount=dC(n,s=>(Dv(this.node,s,"Start"),(a,{success:o})=>Dv(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const gh=new WeakMap,Rf=new WeakMap,dE=e=>{const n=gh.get(e.target);n&&n(e)},fE=e=>{e.forEach(dE)};function hE({root:e,...n}){const s=e||document;Rf.has(s)||Rf.set(s,{});const a=Rf.get(s),o=JSON.stringify(n);return a[o]||(a[o]=new IntersectionObserver(fE,{root:e,...n})),a[o]}function mE(e,n,s){const a=hE(n);return gh.set(e,s),a.observe(e),()=>{gh.delete(e),a.unobserve(e)}}const pE={some:0,all:1};let gE=class extends gs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:a,amount:o="some",once:c}=n,u={root:s?s.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:pE[o]},d=m=>{const{isIntersecting:y}=m;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=y?p:g;x&&x(m)};return mE(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(yE(n,s))&&this.startObserver()}unmount(){}};function yE({viewport:e={}},{viewport:n={}}={}){return s=>e[s]!==n[s]}const xE={inView:{Feature:gE},tap:{Feature:uE},focus:{Feature:cE},hover:{Feature:lE}},vE={layout:{ProjectionNode:rS,MeasureLayout:Q2}},yh={current:null},oS={current:!1};function bE(){if(oS.current=!0,!!Wh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>yh.current=e.matches;e.addListener(n),n()}else yh.current=!1}const SE=[...k2,Wt,hs],wE=e=>SE.find(R2(e)),Rv=new WeakMap;function jE(e,n,s){for(const a in n){const o=n[a],c=s[a];if(Qt(o))e.addValue(a,o);else if(Qt(c))e.addValue(a,jo(o,{owner:e}));else if(c!==o)if(e.hasValue(a)){const u=e.getValue(a);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(a);e.addValue(a,jo(u!==void 0?u:o,{owner:e}))}}for(const a in s)n[a]===void 0&&e.removeValue(a);return n}const kv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let TE=class{scrapeMotionValuesFromProps(n,s,a){return{}}constructor({parent:n,props:s,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ri.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,lt.render(this.render,!1,!0))};const{latestValues:m,renderState:y,onUpdate:p}=u;this.onUpdate=p,this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=y,this.parent=n,this.props=s,this.presenceContext=a,this.depth=n?n.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=Yc(s),this.isVariantNode=$1(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const b in x){const S=x[b];m[b]!==void 0&&Qt(S)&&S.set(m[b],!1)}}mount(n){this.current=n,Rv.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,a)=>this.bindToMotionValue(a,s)),oS.current||bE(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Rv.delete(this.current),this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const a=Zs.has(n),o=s.on("change",d=>{this.latestValues[n]=d,this.props.onUpdate&&lt.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{o(),c(),u&&u(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in nr){const s=nr[n];if(!s)continue;const{isEnabled:a,Feature:o}=s;if(!this.features[n]&&o&&a(this.props)&&(this.features[n]=new o(this)),this.features[n]){const c=this.features[n];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jt()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<kv.length;a++){const o=kv[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=n[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=jE(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const a=this.values.get(n);s!==a&&(a&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let a=this.values.get(n);return a===void 0&&s!==void 0&&(a=jo(s===null?void 0:s,{owner:this}),this.addValue(n,a)),a}readValue(n,s){var a;let o=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(a=this.getBaseTargetFromProps(this.props,n))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,n,this.options);return o!=null&&(typeof o=="string"&&(N2(o)||b2(o))?o=parseFloat(o):!wE(o)&&hs.test(s)&&(o=C2(n,s)),this.setBaseTarget(n,Qt(o)?o.get():o)),Qt(o)?o.get():o}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var s;const{initial:a}=this.props;let o;if(typeof a=="string"||typeof a=="object"){const u=im(this.props,a,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);u&&(o=u[n])}if(a&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,n);return c!==void 0&&!Qt(c)?c:this.initialValues[n]!==void 0&&o===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new ym),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}},lS=class extends TE{constructor(){super(...arguments),this.KeyframeResolver=z2}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:a}){delete s[n],delete a[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Qt(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}};function AE(e){return window.getComputedStyle(e)}let CE=class extends lS{constructor(){super(...arguments),this.type="html",this.renderInstance=K1}readValueFromInstance(n,s){if(Zs.has(s)){const a=wm(s);return a&&a.default||0}else{const a=AE(n),o=(Y1(s)?a.getPropertyValue(s):a[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(n,{transformPagePoint:s}){return W2(n,s)}build(n,s,a){rm(n,s,a.transformTemplate)}scrapeMotionValuesFromProps(n,s,a){return um(n,s,a)}},EE=class extends lS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jt}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(Zs.has(s)){const a=wm(s);return a&&a.default||0}return s=W1.has(s)?s:em(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,a){return J1(n,s,a)}build(n,s,a){om(n,s,this.isSVGTag,a.transformTemplate)}renderInstance(n,s,a,o){Z1(n,s,a,o)}mount(n){this.isSVGTag=cm(n.tagName),super.mount(n)}};const ME=(e,n)=>nm(e)?new EE(n):new CE(n,{allowProjection:e!==k.Fragment}),NE=eC({...Q5,...xE,...oE,...vE},ME),cS=p6(NE);function co({children:e,className:n="",hover:s=!0,...a}){return f.jsx(cS.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:s?{scale:1.02,y:-2}:void 0,className:`glass-card p-6 ${n}`,...a,children:e})}function uS({className:e="",lines:n=3}){return f.jsx("div",{className:`space-y-4 ${e}`,children:Array.from({length:n}).map((s,a)=>f.jsx("div",{className:"skeleton h-4",style:{width:a===0?"33%":a===n-1?"83%":"100%"}},a))})}function Oo({message:e="Loading...",size:n="md",fullPage:s=!1,className:a="",showSpinner:o=!0}){const c={sm:"text-sm py-4",md:"text-base py-8",lg:"text-lg py-12"},u={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"},d=s?"flex items-center justify-center min-h-screen":`text-center ${c[n]} ${a}`;return f.jsx("div",{className:d,children:f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o&&f.jsx(cS.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:`${u[n]} border-2 border-gray-300 border-t-emerald-500 rounded-full`}),f.jsx("p",{className:"text-gray-600 animate-pulse",children:e})]})})}const xh={apiKey:"AIzaSyAqfUspCXI4-IESvMHeu-7CV-BWjpWLSZ8",authDomain:"gosenderr-6773f.firebaseapp.com",projectId:"gosenderr-6773f",storageBucket:"gosenderr-6773f.firebasestorage.app",messagingSenderId:"92006199493",appId:"1:92006199493:web:6342270d7a40a312aa00ac"},zv=typeof window<"u",DE=xh.apiKey&&xh.apiKey.startsWith("AIza");let qa,RE,kE,zE;if(zv&&DE)try{qa=f1().length?qh():h1(xh),RE=m1(qa),kE=g1(qa),zE=A1(qa),console.log("Firebase initialized successfully")}catch(e){console.error("Failed to initialize Firebase:",e)}else zv&&console.error("Firebase config is invalid or missing. Check your .env.local file");function VE(){if(typeof window>"u")return console.warn("Firebase Auth: not in browser context"),null;if(!qa)return console.error("Firebase Auth: app not initialized. Check environment variables."),null;try{return p1(qa)}catch(e){return console.error("Failed to initialize Firebase Auth:",e),null}}const Qs=VE;function ys(){const[e,n]=k.useState(void 0);return k.useEffect(()=>{const s=Qs();if(!s){n(null);return}const a=y1(s,o=>{n(o)});return()=>a()},[]),{user:e,loading:e===void 0,uid:e==null?void 0:e.uid}}function Kc(){const{uid:e,loading:n}=ys(),[s,a]=k.useState(void 0),[o,c]=k.useState(!0);return k.useEffect(()=>{if(n){c(!0);return}if(!e){a(null),c(!1);return}const u=Ro(xt(Xe,"users",e),d=>{d.exists()?a(d.data()):a(null),c(!1)},d=>{console.error("Error fetching user doc:",d),a(null),c(!1)});return()=>u()},[e,n]),{userDoc:s,loading:o,uid:e}}function LE(){const[e,n]=k.useState([]),[s,a]=k.useState(!0),{uid:o,loading:c}=ys();return k.useEffect(()=>{if(c)return;if(!o){n([]),a(!1);return}const u=vc(Xe,"jobs"),d=bc(u,l3(Is("status","==","open"),Is("courierUid","==",o))),m=Ro(d,y=>{const p=y.docs.map(g=>({id:g.id,...g.data()}));n(p),a(!1)});return()=>m()},[o,c]),{jobs:e,loading:s}}const OE="modulepreload",PE=function(e){return"/"+e},Vv={},dS=function(n,s,a){let o=Promise.resolve();if(s&&s.length>0){let u=function(y){return Promise.all(y.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));o=u(s.map(y=>{if(y=PE(y),y in Vv)return;Vv[y]=!0;const p=y.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":OE,p||(x.as="script"),x.crossOrigin="",x.href=y,m&&x.setAttribute("nonce",m),document.head.appendChild(x),p)return new Promise((b,S)=>{x.addEventListener("load",b),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&c(d.reason);return n().catch(c)})},Po=k.forwardRef(({pickup:e,dropoff:n,courierLocation:s,height:a="400px",routeSegments:o=[],onMapLoad:c},u)=>{const d=k.useRef(null),m=k.useRef(null),y=k.useRef({}),[p,g]=k.useState(!1);return k.useImperativeHandle(u,()=>({getMap:()=>m.current}),[]),k.useEffect(()=>{const x="pk.eyJ1IjoiZ29zZW5kZXJyIiwiYSI6ImNtZjFlc2pkMTJheHIya29ub251YjZjMzQifQ.Oav2gJB_Z1sSPjOzjTPCzA";return typeof window>"u"?void 0:((async()=>{if(!window.mapboxgl){const T=await dS(()=>import("./mapbox-gl-Cmfnf5Ea.js").then(M=>M.m),__vite__mapDeps([0,1,2]));window.mapboxgl=T.default}const S=window.mapboxgl;if(S.accessToken=x,!m.current&&d.current){const T=s?[s.lng,s.lat]:e?[e.lng,e.lat]:[-77.4182,38.9493],M=new S.Map({container:d.current,style:"mapbox://styles/mapbox/streets-v12",center:T,zoom:12});m.current=M,M.on("load",()=>{if(e&&n){y.current.pickup=new S.Marker({color:"#16a34a"}).setLngLat([e.lng,e.lat]).setPopup(new S.Popup().setHTML(`<strong>Pickup</strong>${e.label?`<br/>${e.label}`:""}`)).addTo(M),y.current.dropoff=new S.Marker({color:"#dc2626"}).setLngLat([n.lng,n.lat]).setPopup(new S.Popup().setHTML(`<strong>Dropoff</strong>${n.label?`<br/>${n.label}`:""}`)).addTo(M);const C=new S.LngLatBounds;C.extend([e.lng,e.lat]),C.extend([n.lng,n.lat]),M.fitBounds(C,{padding:50})}g(!0),c&&c(M)})}})(),()=>{m.current&&(m.current.remove(),m.current=null)})},[c]),k.useEffect(()=>{if(console.log(" Courier marker effect - courierLocation:",s,"mapReady:",p),!p||!m.current){console.log(" Map not ready yet");return}const x=window.mapboxgl;if(!x){console.log(" No mapboxgl");return}if(s&&s.lat&&s.lng)if(console.log(" Has location, creating/updating marker"),y.current.courier&&(y.current.courier.getElement().classList.contains("courier-location-marker")||(console.log(" Removing old default marker"),y.current.courier.remove(),y.current.courier=null)),y.current.courier)console.log(" Updating existing marker position"),y.current.courier.setLngLat([s.lng,s.lat]);else{console.log(" Creating new custom marker");const b=document.createElement("div");b.className="courier-location-marker",b.style.cssText=`
          width: 50px;
          height: 50px;
          position: relative;
        `;const S=document.createElement("div");S.style.cssText=`
          width: 24px;
          height: 24px;
          background: #3b82f6;
          border: 4px solid white;
          border-radius: 50%;
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          box-shadow: 0 0 12px rgba(59, 130, 246, 0.8), 0 3px 6px rgba(0, 0, 0, 0.3);
          z-index: 10000;
        `;const T=document.createElement("div");T.style.cssText=`
          width: 100%;
          height: 100%;
          background: rgba(59, 130, 246, 0.4);
          border-radius: 50%;
          position: absolute;
          top: 0;
          left: 0;
          animation: pulse-halo 2s ease-out infinite;
          z-index: 9999;
        `;const M=document.createElement("style");M.textContent=`
          @keyframes pulse-halo {
            0% {
              transform: scale(0.8);
              opacity: 1;
            }
            100% {
              transform: scale(2.5);
              opacity: 0;
            }
          }
        `,document.querySelector("#courier-marker-styles")||(M.id="courier-marker-styles",document.head.appendChild(M)),b.appendChild(T),b.appendChild(S),console.log(" Adding marker to map with element:",b),y.current.courier=new x.Marker({element:b,anchor:"center"}).setLngLat([s.lng,s.lat]).addTo(m.current),console.log(" Courier marker added successfully:",y.current.courier)}else console.log(" No courierLocation, removing marker if exists"),y.current.courier&&(y.current.courier.remove(),y.current.courier=null)},[s,p]),k.useEffect(()=>{if(!p||!m.current)return;const x=window.mapboxgl;x&&(y.current.pickup&&(y.current.pickup.remove(),y.current.pickup=null),y.current.dropoff&&(y.current.dropoff.remove(),y.current.dropoff=null),e&&n&&(y.current.pickup=new x.Marker({color:"#16a34a"}).setLngLat([e.lng,e.lat]).setPopup(new x.Popup().setHTML(`<strong>Pickup</strong>${e.label?`<br/>${e.label}`:""}`)).addTo(m.current),y.current.dropoff=new x.Marker({color:"#dc2626"}).setLngLat([n.lng,n.lat]).setPopup(new x.Popup().setHTML(`<strong>Dropoff</strong>${n.label?`<br/>${n.label}`:""}`)).addTo(m.current)))},[e,n,p]),k.useEffect(()=>{var T;if(console.log(" MapboxMap route effect triggered:",{hasMap:!!m.current,styleLoaded:(T=m.current)==null?void 0:T.isStyleLoaded(),mapReady:p,numSegments:o.length,segments:o.map(M=>({type:M.type,numCoords:M.coordinates.length}))}),!m.current||!p){console.log(" Map not ready yet, waiting...");return}const x=m.current;if(!window.mapboxgl)return;if(["route-to-pickup","route-pickup-to-dropoff","route-navigation"].forEach(M=>{x.getLayer(M)&&x.removeLayer(M),x.getSource(M)&&x.removeSource(M)}),o.length===0){console.log(" No route segments to display");return}console.log(" Adding route segments to map:",o.length),o.forEach(M=>{const C=`route-${M.type}`,L=`route-${M.type}`;console.log("  Adding route layer:",L,"with",M.coordinates.length,"coordinates"),x.addSource(C,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:M.coordinates}}}),x.addLayer({id:L,type:"line",source:C,layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":M.color,"line-width":6,"line-opacity":.9}})})},[o,p]),f.jsx("div",{ref:d,style:{height:a,borderRadius:"8px"}})});Po.displayName="MapboxMap";function Ya(e,n){const a=e.lat*Math.PI/180,o=n.lat*Math.PI/180,c=(n.lat-e.lat)*Math.PI/180,u=(n.lng-e.lng)*Math.PI/180,d=Math.sin(c/2)*Math.sin(c/2)+Math.cos(a)*Math.cos(o)*Math.sin(u/2)*Math.sin(u/2);return 3959*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)))}function fS(e,n,s){return"maxRadiusMiles"in e&&e.maxRadiusMiles!==void 0&&s>e.maxRadiusMiles?{eligible:!1,reason:`Outside service area (${e.maxRadiusMiles}mi max)`}:"maxPickupDistanceMiles"in e&&e.maxPickupDistanceMiles!==void 0&&s>e.maxPickupDistanceMiles?{eligible:!1,reason:`Too far to pickup (${e.maxPickupDistanceMiles}mi max)`}:"maxPickupMiles"in e&&e.maxPickupMiles!==void 0&&s>e.maxPickupMiles?{eligible:!1,reason:`Too far to pickup (${e.maxPickupMiles}mi max)`}:"maxDeliveryDistanceMiles"in e&&e.maxDeliveryDistanceMiles!==void 0&&n>e.maxDeliveryDistanceMiles?{eligible:!1,reason:`Trip too long (${e.maxDeliveryDistanceMiles}mi max)`}:"maxJobMiles"in e&&e.maxJobMiles!==void 0&&n>e.maxJobMiles?{eligible:!1,reason:`Trip too long (${e.maxJobMiles}mi max)`}:{eligible:!0}}const BE={open:null,assigned:"enroute_pickup",enroute_pickup:"arrived_pickup",arrived_pickup:"picked_up",picked_up:"enroute_dropoff",enroute_dropoff:"arrived_dropoff",arrived_dropoff:"completed",completed:null,cancelled:null,disputed:null,expired:null,failed:null};function UE(e){return BE[e]}async function hS(e,n,s){const a=xt(Xe,"jobs",e),o=xt(Xe,"users",n);await x1(Xe,async c=>{var L;const u=await c.get(a),d=await c.get(o);if(!u.exists())throw new Error("Job not found");if(!d.exists())throw new Error("Courier not found");const m=u.data(),y=d.data();if(m.status!=="open"||m.courierUid!==null)throw new Error("Job already claimed or not available");if(!((L=y.courierProfile)!=null&&L.currentLocation))throw new Error("Senderr location not available");const p=m.isFoodItem||!1,g=p?y.courierProfile.foodRateCard:y.courierProfile.packageRateCard;if(!g)throw new Error(`Senderr ${p?"food":"package"} rate card not configured`);const x=y.courierProfile.currentLocation,b=m.pickup,S=m.dropoff,T=Ya(x,b),M=Ya(b,S),C=fS(g,M,T);if(!C.eligible)throw new Error(`not-eligible: ${C.reason||"Job exceeds distance limits"}`);c.update(a,{courierUid:n,agreedFee:s,status:"assigned",updatedAt:si()})})}async function $E(e,n,s){const a=xt(Xe,"jobs",e);await x1(Xe,async o=>{const c=await o.get(a);if(!c.exists())throw new Error("Job not found");const u=c.data(),d=UE(u.status);if(!d)throw new Error(`Cannot advance from status: ${u.status}`);if(n!==d)throw new Error(`Invalid status transition. Expected: ${d}, Received: ${n}`);o.update(a,{status:n,updatedAt:si()})})}function mS(){const{userDoc:e,loading:n,uid:s}=Kc();return k.useEffect(()=>{console.log(" [useUserRole] Hook state:",{uid:s,role:e==null?void 0:e.role,loading:n,userDoc:e})},[s,e,n]),{role:e==null?void 0:e.role,loading:n,uid:s,userDoc:e}}var kf,Lv;function _E(){if(Lv)return kf;Lv=1;for(var e="0123456789bcdefghjkmnpqrstuvwxyz",n={},s=0;s<e.length;s++)n[e.charAt(s)]=s;var a="auto",o=-90,c=90,u=-180,d=180,m=[0,5,7,8,11,12,13,15,16,17,18],y=function(N,V,B){if(B===a){if(typeof N=="number"||typeof V=="number")throw new Error("string notation required for auto precision.");var $=N.split(".")[1].length,H=V.split(".")[1].length,F=Math.max($,H);B=m[F]}else B===void 0&&(B=9);for(var Y=[],E=0,A=0,P=0,U=c,I=o,oe=d,te=u,ie;Y.length<B;)if(A%2===0?(ie=(oe+te)/2,V>ie?(P=(P<<1)+1,te=ie):(P=(P<<1)+0,oe=ie)):(ie=(U+I)/2,N>ie?(P=(P<<1)+1,I=ie):(P=(P<<1)+0,U=ie)),E++,A++,E===5){var Q=e[P];Y.push(Q),E=0,P=0}return Y.join("")},p=function(N,V,B){B=B||52;for(var $=0,H=c,F=o,Y=d,E=u,A,P=0;$<B;)P*=2,$%2===0?(A=(Y+E)/2,V>A?(P+=1,E=A):Y=A):(A=(H+F)/2,N>A?(P+=1,F=A):H=A),$++;return P},g=function(N){for(var V=!0,B=c,$=o,H=d,F=u,Y,E=0,A=0,P=N.length;A<P;A++){var U=N[A].toLowerCase();E=n[U];for(var I=4;I>=0;I--){var oe=E>>I&1;V?(Y=(H+F)/2,oe===1?F=Y:H=Y):(Y=(B+$)/2,oe===1?$=Y:B=Y),V=!V}}return[$,F,B,H]},x=function(N,V){V=V||52;for(var B=c,$=o,H=d,F=u,Y=0,E=0,A=V/2,P=0;P<A;P++)E=b(N,(A-P)*2-1),Y=b(N,(A-P)*2-2),Y===0?B=(B+$)/2:$=(B+$)/2,E===0?H=(H+F)/2:F=(H+F)/2;return[$,F,B,H]};function b(N,V){return N/Math.pow(2,V)&1}var S=function(N){var V=g(N),B=(V[0]+V[2])/2,$=(V[1]+V[3])/2,H=V[2]-B,F=V[3]-$;return{latitude:B,longitude:$,error:{latitude:H,longitude:F}}},T=function(N,V){var B=x(N,V),$=(B[0]+B[2])/2,H=(B[1]+B[3])/2,F=B[2]-$,Y=B[3]-H;return{latitude:$,longitude:H,error:{latitude:F,longitude:Y}}},M=function(N,V){var B=S(N),$=B.latitude+V[0]*B.error.latitude*2,H=B.longitude+V[1]*B.error.longitude*2;return H=D(H),$=q($),y($,H,N.length)},C=function(N,V,B){B=B||52;var $=T(N,B),H=$.latitude+V[0]*$.error.latitude*2,F=$.longitude+V[1]*$.error.longitude*2;return F=D(F),H=q(H),p(H,F,B)},L=function(N){var V=N.length,B=S(N),$=B.latitude,H=B.longitude,F=B.error.latitude*2,Y=B.error.longitude*2,E,A,P=[U(1,0),U(1,1),U(0,1),U(-1,1),U(-1,0),U(-1,-1),U(0,-1),U(1,-1)];function U(I,oe){return E=$+I*F,A=H+oe*Y,A=D(A),E=q(E),y(E,A,V)}return P},z=function(N,V){V=V||52;var B=T(N,V),$=B.latitude,H=B.longitude,F=B.error.latitude*2,Y=B.error.longitude*2,E,A,P=[U(1,0),U(1,1),U(0,1),U(-1,1),U(-1,0),U(-1,-1),U(0,-1),U(1,-1)];function U(I,oe){return E=$+I*F,A=H+oe*Y,A=D(A),E=q(E),p(E,A,V)}return P},O=function(N,V,B,$,H){H=H||9;for(var F=y(N,V,H),Y=y(B,$,H),E=S(F),A=E.error.latitude*2,P=E.error.longitude*2,U=g(F),I=g(Y),oe=Math.round((I[0]-U[0])/A),te=Math.round((I[1]-U[1])/P),ie=[],Q=0;Q<=oe;Q++)for(var ee=0;ee<=te;ee++)ie.push(M(F,[Q,ee]));return ie},_=function(N,V,B,$,H){H=H||52;for(var F=p(N,V,H),Y=p(B,$,H),E=T(F,H),A=E.error.latitude*2,P=E.error.longitude*2,U=x(F,H),I=x(Y,H),oe=Math.round((I[0]-U[0])/A),te=Math.round((I[1]-U[1])/P),ie=[],Q=0;Q<=oe;Q++)for(var ee=0;ee<=te;ee++)ie.push(C(F,[Q,ee],H));return ie};function D(N){return N>d?u+N%d:N<u?d+N%d:N}function q(N){return N>c?c:N<o?o:N}var j={ENCODE_AUTO:a,encode:y,encode_uint64:p,encode_int:p,decode:S,decode_int:T,decode_uint64:T,decode_bbox:g,decode_bbox_uint64:x,decode_bbox_int:x,neighbor:M,neighbor_int:C,neighbors:L,neighbors_int:z,bboxes:O,bboxes_int:_};return kf=j,kf}var FE=_E();const HE=c1(FE),GE=5e3,qE=25;function YE(e,n,s,a){const c=e*Math.PI/180,u=s*Math.PI/180,d=(s-e)*Math.PI/180,m=(a-n)*Math.PI/180,y=Math.sin(d/2)*Math.sin(d/2)+Math.cos(c)*Math.cos(u)*Math.sin(m/2)*Math.sin(m/2);return 6371e3*(2*Math.atan2(Math.sqrt(y),Math.sqrt(1-y)))}function XE(){var p;const{role:e,uid:n,userDoc:s}=mS(),[a,o]=k.useState(!1),[c,u]=k.useState(!1),d=k.useRef(null),m=k.useRef(0),y=k.useRef(null);return k.useEffect(()=>{var x;if(!(e==="courier"&&n&&((x=s==null?void 0:s.courierProfile)==null?void 0:x.isOnline)===!0)){d.current!==null&&(navigator.geolocation.clearWatch(d.current),d.current=null,u(!1));return}return d.current===null&&(u(!0),o(!1),d.current=navigator.geolocation.watchPosition(async b=>{const{latitude:S,longitude:T,heading:M}=b.coords,C=Date.now();let z=C-m.current>=GE;if(!z&&y.current&&(z=YE(y.current.lat,y.current.lng,S,T)>=qE),z&&n)try{const O=HE.encode(S,T,6);await ii(xt(Xe,"users",n),{"courierProfile.currentLocation.lat":S,"courierProfile.currentLocation.lng":T,"courierProfile.currentLocation.geohash":O,...M!==null&&{"courierProfile.currentLocation.heading":M},"courierProfile.currentLocation.timestamp":si()}),m.current=C,y.current={lat:S,lng:T}}catch(O){console.error("Failed to update courier location:",O)}},b=>{console.error("Geolocation error:",b),b.code===b.PERMISSION_DENIED&&o(!0)},{enableHighAccuracy:!0,maximumAge:0,timeout:1e4})),()=>{d.current!==null&&(navigator.geolocation.clearWatch(d.current),d.current=null,u(!1))}},[e,n,(p=s==null?void 0:s.courierProfile)==null?void 0:p.isOnline]),{isTracking:c,permissionDenied:a}}const IE="https://api.mapbox.com/directions/v5/mapbox";async function pS(e,n={}){var d,m,y,p,g,x;const s="pk.eyJ1IjoiZ29zZW5kZXJyIiwiYSI6ImNtZjFlc2pkMTJheHIya29ub251YjZjMzQifQ.Oav2gJB_Z1sSPjOzjTPCzA";if(e.length<2)throw new Error("At least 2 coordinates required for directions");const a={profile:"driving-traffic",geometries:"geojson",steps:!0,bannerInstructions:!0,voiceInstructions:!1,alternatives:!1,overview:"full",...n},o=e.map(([b,S])=>`${b},${S}`).join(";"),c=new URLSearchParams({access_token:s,geometries:a.geometries,steps:String(a.steps),banner_instructions:String(a.bannerInstructions),voice_instructions:String(a.voiceInstructions),alternatives:String(a.alternatives),overview:a.overview}),u=`${IE}/${a.profile}/${o}?${c}`;try{const b=await fetch(u);if(!b.ok){const T=await b.json();throw new Error(`Mapbox API error: ${T.message||b.statusText}`)}const S=await b.json();if(console.log(" Mapbox Directions API response:",{code:S.code,numRoutes:(d=S.routes)==null?void 0:d.length,firstRoute:(m=S.routes)!=null&&m[0]?{hasGeometry:!!S.routes[0].geometry,geometryType:(y=S.routes[0].geometry)==null?void 0:y.type,numCoordinates:(g=(p=S.routes[0].geometry)==null?void 0:p.coordinates)==null?void 0:g.length,distance:S.routes[0].distance,duration:S.routes[0].duration,numLegs:(x=S.routes[0].legs)==null?void 0:x.length}:null}),S.code!=="Ok")throw new Error(`Directions API returned code: ${S.code}`);if(!S.routes||S.routes.length===0)throw new Error("No routes found");return S}catch(b){throw console.error("Failed to fetch directions:",b),b}}async function gS(e,n,s){return pS([e,n,s],{profile:"driving-traffic",steps:!0})}const KE=Object.freeze(Object.defineProperty({__proto__:null,fetchDirections:pS,fetchJobRoute:gS},Symbol.toStringTag,{value:"Module"}));function yS(e={}){var S,T,M,C,L,z;const{cacheRoutes:n=!0}=e,[s,a]=k.useState(null),[o,c]=k.useState(!1),[u,d]=k.useState(null),m=k.useRef(new Map),y=k.useCallback((O,_,D)=>`${O[0]},${O[1]};${_[0]},${_[1]};${D[0]},${D[1]}`,[]),p=k.useCallback(async(O,_,D)=>{const q=y(O,_,D);if(n&&m.current.has(q)){const N=m.current.get(q).routes[0];return a(N),d(null),N}c(!0),d(null);try{const j=await gS(O,_,D);if(j.routes&&j.routes.length>0){const N=j.routes[0];return a(N),n&&m.current.set(q,j),N}else throw new Error("No route found")}catch(j){const N=j instanceof Error?j:new Error("Failed to fetch route");d(N),a(null),console.error("Failed to fetch route:",N)}finally{c(!1)}},[n,y]),g=k.useCallback(async(O,_)=>{const D=`${O[0]},${O[1]};${_[0]},${_[1]}`;if(n&&m.current.has(D)){const j=m.current.get(D).routes[0];return a(j),d(null),j}c(!0),d(null);try{const{fetchDirections:q}=await dS(async()=>{const{fetchDirections:N}=await Promise.resolve().then(()=>KE);return{fetchDirections:N}},void 0),j=await q([O,_]);if(j.routes&&j.routes.length>0){const N=j.routes[0];return a(N),n&&m.current.set(D,j),N}else throw new Error("No route found")}catch(q){const j=q instanceof Error?q:new Error("Failed to fetch route");d(j),a(null),console.error("Failed to fetch route:",j)}finally{c(!1)}},[n]),x=k.useCallback(()=>{a(null),d(null)},[]),b=s?[{coordinates:((T=(S=s.legs[0])==null?void 0:S.geometry)==null?void 0:T.coordinates)||((M=s.legs[0])==null?void 0:M.steps.flatMap(O=>O.geometry.coordinates))||[],color:"#3b82f6",type:"to-pickup"},{coordinates:((L=(C=s.legs[1])==null?void 0:C.geometry)==null?void 0:L.coordinates)||((z=s.legs[1])==null?void 0:z.steps.flatMap(O=>O.geometry.coordinates))||[],color:"#10b981",type:"pickup-to-dropoff"}].filter(O=>O.coordinates.length>0):[];return k.useEffect(()=>()=>{m.current.clear()},[]),{route:s,routeSegments:b,loading:o,error:u,fetchRoute:g,fetchJobRoute:p,clearRoute:x}}function WE(e){const n=k.useCallback((c,u=14)=>{e&&e.flyTo({center:c,zoom:u,duration:1500,essential:!0})},[e]),s=k.useCallback((c,u={})=>{if(!e||c.length===0)return;const d={padding:80,maxZoom:15,duration:1e3,...u},m=c.reduce((y,p)=>y.extend(p),new window.mapboxgl.LngLatBounds(c[0],c[0]));e.fitBounds(m,d)},[e]),a=k.useCallback(c=>{s(c,{padding:{top:100,right:60,bottom:320,left:60},maxZoom:13})},[s]),o=k.useCallback(c=>{n(c,13)},[n]);return{flyToLocation:n,fitBounds:s,fitRoute:a,recenterOnDriver:o}}function ZE({job:e,isSelected:n,onClick:s,map:a}){var d;const[o,c]=k.useState(null),u=k.useRef(void 0);return k.useEffect(()=>{if(!a)return;const m=()=>{u.current&&cancelAnimationFrame(u.current),u.current=requestAnimationFrame(()=>{const y=a.project([e.pickup.lng,e.pickup.lat]);c({x:y.x,y:y.y})})};return m(),a.on("move",m),a.on("zoom",m),a.on("rotate",m),a.on("pitch",m),()=>{u.current&&cancelAnimationFrame(u.current),a.off("move",m),a.off("zoom",m),a.off("rotate",m),a.off("pitch",m)}},[a,e.pickup.lat,e.pickup.lng]),o?f.jsxs("div",{onClick:s,style:{position:"absolute",left:`${o.x}px`,top:`${o.y}px`,transform:"translate(-50%, -100%)",zIndex:n?30:20,willChange:"transform"},className:`cursor-pointer transition-all duration-200 ${n?"scale-110":"hover:scale-105"}`,children:[f.jsxs("div",{className:`px-3 py-2 rounded-lg shadow-lg backdrop-blur-sm ${n?"bg-emerald-500 text-white border-2 border-white":"bg-white text-gray-900 border border-gray-200"}`,children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold whitespace-nowrap",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["$",((d=e.fee)==null?void 0:d.toFixed(2))||"0.00"]})]}),f.jsx("div",{className:"text-xs mt-0.5 opacity-90",children:e.deliverySize||"Package"})]}),f.jsx("div",{className:`w-0 h-0 mx-auto ${n?"border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-emerald-500":"border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-white"}`})]}):null}function QE(){var st,Ye,vt,We,Te,Ot,an,Kn,ct,Cn,bt,It,$t,Pt,nt,Dt,Tt,Js,Oi,vs;const e=An(),{uid:n}=ys(),{userDoc:s,loading:a}=Kc(),{jobs:o,loading:c}=LE(),[u,d]=k.useState(null),[m,y]=k.useState(!1),[p,g]=k.useState(!0),[x,b]=k.useState(!1),{isTracking:S,permissionDenied:T}=XE(),[M,C]=k.useState(!0),[L,z]=k.useState(!1),[O,_]=k.useState(0),[D,q]=k.useState(0),j=k.useRef(null),[N,V]=k.useState(72),B=56,$=120,H=k.useRef(null),F=k.useRef(0),Y=k.useRef(null);k.useRef(null),k.useRef(0);const E=k.useRef(0),A=k.useRef(null),{routeSegments:P,loading:U,fetchJobRoute:I,clearRoute:oe}=yS(),te=(st=A.current)==null?void 0:st.getMap(),{fitRoute:ie,recenterOnDriver:Q}=WE(te);pn.log("render","Dashboard render start",{userLoading:a,jobsLoading:c,jobsCount:o.length,hasUserDoc:!!s}),k.useEffect(()=>{pn.log("render","DashboardPage mounted",{userLoading:a,jobsLoading:c,jobsCount:o.length})},[]),k.useEffect(()=>{if(!Y.current)return;const ce=()=>{var Rt;const Ue=((Rt=Y.current)==null?void 0:Rt.scrollHeight)??0,dt=typeof window<"u"?Math.round(window.innerHeight*.6):400,Ze=Ue>0?Ue:dt,en=Math.max($,Ze-B);console.log("updateOffsets - contentHeight:",Ue,"fallbackHeight:",dt,"sheetHeight:",Ze,"nextOffset:",en),q(en);const $e=document.querySelector('[data-bottom-nav="true"]');$e&&V($e.getBoundingClientRect().height)},Re=setTimeout(ce,100),Ge=new ResizeObserver(ce);return Ge.observe(Y.current),window.addEventListener("resize",ce),()=>{clearTimeout(Re),Ge.disconnect(),window.removeEventListener("resize",ce)}},[o.length]);const ee=async()=>{var ce;if(!(!n||x)){b(!0);try{const Re=!((ce=s==null?void 0:s.courierProfile)!=null&&ce.isOnline);await ii(xt(Xe,"users",n),{"courierProfile.isOnline":Re})}catch(Re){console.error("Failed to toggle online status:",Re),alert("Failed to update status. Please try again.")}finally{b(!1)}}},ue=k.useMemo(()=>{var dt,Ze,en;const ce=(dt=s==null?void 0:s.courierProfile)==null?void 0:dt.packageRateCard,Re=(Ze=s==null?void 0:s.courierProfile)==null?void 0:Ze.foodRateCard;if(!((en=s==null?void 0:s.courierProfile)!=null&&en.currentLocation)||!ce&&!Re)return o.map($e=>({job:$e,eligible:!0,reason:void 0,pickupMiles:void 0,jobMiles:$e.pickup&&$e.dropoff?Ya($e.pickup,$e.dropoff):0}));const Ge=s.courierProfile.currentLocation,Ue=ce?s.courierProfile.packageRateCard:s.courierProfile.foodRateCard;return o.map($e=>{if(!$e.pickup||!$e.dropoff)return{job:$e,eligible:!1,reason:"Missing location data",pickupMiles:void 0,jobMiles:0};const Rt=Ya(Ge,$e.pickup),Wn=Ya($e.pickup,$e.dropoff),Fo=fS(Ue,Wn,Rt);return{job:$e,eligible:Fo.eligible,reason:Fo.reason,pickupMiles:Rt,jobMiles:Wn}})},[o,s]),de=k.useMemo(()=>n&&o.find(ce=>ce.courierUid===n&&ce.status!=="completed"&&ce.status!=="cancelled")||null,[o,n]),je=k.useMemo(()=>ue.filter(ce=>ce.job.status==="open"),[ue]),xe=k.useMemo(()=>p?je.filter(ce=>ce.eligible):je,[je,p]);k.useEffect(()=>{var ce,Re;!a&&s&&((ce=s.courierProfile)!=null&&ce.packageRateCard||(Re=s.courierProfile)!=null&&Re.foodRateCard||e("/rate-cards"))},[a,s,e]),k.useEffect(()=>{de?d(de):xe.length>0&&!u?d(xe[0].job):xe.length===0&&!de&&d(null)},[de,xe,u]),k.useEffect(()=>{var Re;if(!u||!((Re=s==null?void 0:s.courierProfile)!=null&&Re.currentLocation)){oe();return}if(!u.pickup||!u.dropoff){oe();return}const ce=s.courierProfile.currentLocation;I([ce.lng,ce.lat],[u.pickup.lng,u.pickup.lat],[u.dropoff.lng,u.dropoff.lat])},[u,(Ye=s==null?void 0:s.courierProfile)==null?void 0:Ye.currentLocation,I,oe]),k.useEffect(()=>{if(P.length>0&&te){const ce=P.flatMap(Re=>Re.coordinates);ie(ce)}},[P,te,ie]),k.useEffect(()=>{var Re,Ge;if(console.log("Auto-follow check:",{hasMap:!!te,isTracking:S,hasSelectedJob:!!u,hasLocation:!!((Re=s==null?void 0:s.courierProfile)!=null&&Re.currentLocation)}),!te||!S||u)return;const ce=(Ge=s==null?void 0:s.courierProfile)==null?void 0:Ge.currentLocation;ce&&(console.log("Recentering on driver at:",[ce.lng,ce.lat]),Q([ce.lng,ce.lat]))},[te,S,u,(vt=s==null?void 0:s.courierProfile)==null?void 0:vt.currentLocation,Q]);const Ee=async(ce,Re)=>{var Ge;if(n){y(!0);try{await hS(ce,n,Re),e(`/jobs/${ce}`)}catch(Ue){console.error("Failed to claim job:",Ue),(Ge=Ue.message)!=null&&Ge.includes("not-eligible")?alert("You are not eligible for this job. It may exceed your distance limits."):alert(Ue.message||"Failed to claim job. It may have been claimed by another courier."),y(!1),d(null)}}};if(a||c)return f.jsx(Oo,{fullPage:!0,message:"Loading dashboard..."});if(!(((We=s==null?void 0:s.courierProfile)==null?void 0:We.packageRateCard)||((Te=s==null?void 0:s.courierProfile)==null?void 0:Te.foodRateCard)))return f.jsx("div",{className:"min-h-screen bg-[#F8F9FF] flex items-center justify-center",children:f.jsx("p",{children:"Setting up..."})});const fe=((Ot=s.courierProfile)==null?void 0:Ot.packageRateCard)||((an=s.courierProfile)==null?void 0:an.foodRateCard),ve=(ct=(Kn=s.courierProfile)==null?void 0:Kn.workModes)==null?void 0:ct.packagesEnabled,Ae=(bt=(Cn=s.courierProfile)==null?void 0:Cn.workModes)==null?void 0:bt.foodEnabled,Ve=!ve&&!Ae,Me=ce=>{ce.preventDefault(),ce.stopPropagation(),ce.currentTarget.setPointerCapture(ce.pointerId),z(!0),j.current=ce.clientY,F.current=M?0:D,E.current=0;const Re=Ue=>{if(j.current===null||!H.current)return;const dt=Ue.clientY-j.current,Ze=F.current,en=Math.min(Math.max(Ze+dt,0),D);E.current=en-Ze;const $e=Math.min(Math.max(Ze+E.current,0),D);H.current.style.transform=`translateY(${$e}px)`},Ge=()=>{try{ce.currentTarget.releasePointerCapture(ce.pointerId)}catch{}const Ue=F.current,Ze=Math.min(Math.max(Ue+E.current,0),D)>D*.4;C(!Ze),z(!1),_(0),E.current=0,j.current=null,document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Ge)};document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Ge)},He=()=>{},Be=()=>{},tt=()=>{};return f.jsxs("div",{className:"fixed inset-0 w-screen h-screen overflow-hidden bg-gray-100",children:[f.jsx("div",{className:"absolute inset-0",style:{touchAction:"pan-x pan-y"},children:u||(It=s==null?void 0:s.courierProfile)!=null&&It.currentLocation?f.jsxs(f.Fragment,{children:[f.jsx(Po,{ref:A,pickup:u==null?void 0:u.pickup,dropoff:u==null?void 0:u.dropoff,courierLocation:(($t=s==null?void 0:s.courierProfile)==null?void 0:$t.currentLocation)||null,routeSegments:P,height:"100%"}),te&&xe.map(({job:ce})=>f.jsx(ZE,{job:ce,isSelected:(u==null?void 0:u.id)===ce.id,onClick:()=>d(ce),map:te},ce.id))]}):f.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-6xl mb-4",children:""}),f.jsx("p",{className:"text-gray-600 font-medium",children:"Loading map..."})]})})}),U&&f.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 z-20 px-4 py-2 bg-white rounded-lg shadow-lg",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-emerald-600"}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Loading route..."})]})}),f.jsx("button",{onClick:ee,disabled:x,className:`absolute top-safe-16 right-4 z-20 px-4 py-2.5 rounded-xl font-semibold text-sm shadow-lg transition-all ${(Pt=s==null?void 0:s.courierProfile)!=null&&Pt.isOnline?"bg-emerald-500 text-white":"bg-gray-700 text-white"} ${x?"opacity-60":"hover:scale-105"}`,style:{marginTop:"max(env(safe-area-inset-top), 16px)"},children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${(nt=s==null?void 0:s.courierProfile)!=null&&nt.isOnline?"bg-white":"bg-gray-400"}`}),x?"Updating...":(Dt=s==null?void 0:s.courierProfile)!=null&&Dt.isOnline?"Online":"Offline"]})}),f.jsx("button",{onClick:()=>g(!p),className:"absolute top-safe-16 left-4 z-20 px-4 py-2.5 bg-white rounded-xl font-semibold text-sm shadow-lg hover:scale-105 transition-transform",style:{marginTop:"max(env(safe-area-inset-top), 16px)"},children:p?"Show All":"Hide Ineligible"}),((Tt=s==null?void 0:s.courierProfile)==null?void 0:Tt.currentLocation)&&f.jsx("button",{onClick:()=>{var Re;const ce=(Re=s.courierProfile)==null?void 0:Re.currentLocation;ce&&Q([ce.lng,ce.lat])},className:"absolute bottom-32 right-4 z-20 w-12 h-12 bg-white rounded-full shadow-lg flex items-center justify-center hover:scale-110 transition-transform",children:f.jsx("span",{className:"text-2xl",children:""})}),Ve&&f.jsx("div",{className:"absolute top-20 left-4 right-4 z-20 p-4 bg-yellow-50 border-2 border-yellow-400 rounded-xl shadow-lg",children:f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"font-semibold text-yellow-900 text-sm mb-1",children:" Setup Required"}),f.jsx("p",{className:"text-xs text-yellow-800",children:"Enable at least one work mode to start accepting sends."})]}),f.jsx(Zt,{to:"/rate-cards",className:"px-3 py-2 bg-yellow-500 text-white rounded-lg text-xs font-bold whitespace-nowrap hover:bg-yellow-600",children:"Setup "})]})}),((Js=s==null?void 0:s.courierProfile)==null?void 0:Js.isOnline)&&f.jsx("div",{className:`absolute top-4 left-1/2 -translate-x-1/2 z-20 px-3 py-2 rounded-lg text-xs font-medium shadow-lg ${S?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-yellow-50 text-yellow-700 border border-yellow-200"}`,children:S?" Tracking Active":T?" Location Denied":" Tracking Inactive"}),f.jsx("div",{ref:H,className:"absolute left-0 right-0 z-30 bg-white rounded-t-3xl shadow-2xl max-h-[60vh] overflow-hidden pointer-events-none",style:{bottom:0,transform:`translateY(${Math.min(Math.max((M?0:D)+O,0),D)}px)`,transition:L?"none":"transform 200ms ease",willChange:"transform",paddingBottom:`var(--bottom-nav-height, ${N}px)`},children:f.jsxs("div",{ref:Y,className:"pointer-events-auto overflow-y-auto",style:{touchAction:"pan-y"},children:[f.jsx("div",{className:"flex justify-center pt-3 pb-2 cursor-grab active:cursor-grabbing select-none",onPointerDown:Me,onTouchStart:He,onTouchMove:Be,onTouchEnd:tt,style:{touchAction:"none"},children:f.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),f.jsxs("div",{className:"px-6 pb-3 border-b border-gray-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900",children:de?"Active Send":`Available Sends (${xe.length})`}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>{L||(C(ce=>!ce),_(0),j.current=null)},className:"text-xs text-gray-500 hover:text-gray-700",children:M?"Close":"Open"}),f.jsx(Zt,{to:"/settings",className:"text-xs text-gray-500 hover:text-gray-700",children:"Settings"})]})]}),!de&&f.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[f.jsxs("div",{className:"bg-emerald-50 rounded-lg p-2 text-center",children:[f.jsx("p",{className:"text-xs text-emerald-600 font-medium",children:"Available"}),f.jsx("p",{className:"text-lg font-bold text-emerald-700",children:xe.length})]}),f.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 text-center",children:[f.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Today"}),f.jsx("p",{className:"text-lg font-bold text-blue-700",children:((Oi=s==null?void 0:s.courierProfile)==null?void 0:Oi.todayJobs)||0})]}),f.jsxs("div",{className:"bg-purple-50 rounded-lg p-2 text-center",children:[f.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Total"}),f.jsx("p",{className:"text-lg font-bold text-purple-700",children:((vs=s==null?void 0:s.courierProfile)==null?void 0:vs.completedJobs)||0})]})]})]}),f.jsx("div",{className:"overflow-y-auto max-h-[calc(60vh-80px)] pb-6",children:de?f.jsx("div",{className:"px-4 pt-4",children:f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border-2 border-blue-300 shadow-md",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"ACTIVE"}),f.jsx("span",{className:"text-sm text-gray-600",children:de.status.replace(/-/g," ").replace(/\b\w/g,ce=>ce.toUpperCase())})]}),f.jsxs("div",{className:"mb-2",children:[f.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1 mb-1",children:[f.jsx("span",{className:"text-green-600",children:""}),f.jsx("span",{className:"font-medium",children:"Pickup:"})," ",de.pickup.label]}),f.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:[f.jsx("span",{className:"text-red-600",children:""}),f.jsx("span",{className:"font-medium",children:"Dropoff:"})," ",de.dropoff.label]})]}),f.jsx("button",{onClick:()=>e(`/jobs/${de.id}`),className:"w-full mt-3 bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700",children:"View Job Details"})]})}):xe.length===0?f.jsx("div",{className:"text-center py-12 px-6",children:ue.length===0?f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"text-gray-700 font-medium",children:"No open sends right now"}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Check back soon or make sure you're online"})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{className:"text-4xl mb-3",children:""}),f.jsx("p",{className:"text-gray-700 font-medium",children:"All sends outside your area"}),f.jsx("button",{onClick:()=>g(!1),className:"mt-4 px-4 py-2 bg-emerald-500 text-white rounded-lg text-sm font-medium hover:bg-emerald-600",children:"Show All Sends"})]})}):f.jsx("div",{className:"px-4 pt-4 space-y-3",children:xe.map(({job:ce,eligible:Re,reason:Ge,pickupMiles:Ue,jobMiles:dt})=>{var Ze,en,$e;return f.jsxs("div",{onClick:()=>d(ce),className:`p-4 rounded-2xl cursor-pointer transition-all ${(u==null?void 0:u.id)===ce.id?"bg-emerald-50 border-2 border-emerald-500 shadow-md":Re?"bg-white border-2 border-gray-200 hover:border-gray-300":"bg-red-50 border-2 border-red-300"}`,children:[!Re&&f.jsxs("div",{className:"mb-3 inline-block px-3 py-1 bg-red-100 border border-red-200 rounded-lg",children:[f.jsx("p",{className:"text-xs font-semibold text-red-700",children:" Not Eligible"}),Ge&&f.jsx("p",{className:"text-xs text-red-600 mt-0.5",children:Ge})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-xs text-gray-500",children:(($e=(en=(Ze=ce.createdAt)==null?void 0:Ze.toDate)==null?void 0:en.call(Ze))==null?void 0:$e.toLocaleString())||"Just now"}),f.jsxs("div",{className:"space-y-1.5",children:[f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-base",children:""}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:ce.pickup.label||`${ce.pickup.lat.toFixed(4)}, ${ce.pickup.lng.toFixed(4)}`}),Ue&&f.jsxs("p",{className:"text-xs text-gray-500",children:[Ue.toFixed(1)," mi away"]})]})]}),f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-base",children:""}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-900",children:ce.dropoff.label||`${ce.dropoff.lat.toFixed(4)}, ${ce.dropoff.lng.toFixed(4)}`}),dt&&f.jsxs("p",{className:"text-xs text-gray-500",children:[dt.toFixed(1)," mi trip"]})]})]})]}),(u==null?void 0:u.id)===ce.id&&Re&&f.jsx("button",{onClick:Rt=>{Rt.stopPropagation();const Wn=fe?Ya(ce.pickup,ce.dropoff)*fe.perMile:0;Ee(ce.id,Wn)},disabled:m,className:`w-full mt-3 py-3 bg-emerald-500 text-white rounded-xl font-semibold shadow-lg ${m?"opacity-60":"hover:bg-emerald-600"}`,children:m?"Accepting...":"Accept Job"})]})]},ce.id)})})})]})})]})}function JE(){const[e,n]=k.useState(""),[s,a]=k.useState(""),[o,c]=k.useState(""),[u,d]=k.useState(!1),m=An(),y=async p=>{p.preventDefault(),c(""),d(!0);try{if(!Ni)throw new Error("Firebase not initialized");await c3(Ni,e,s),m("/dashboard")}catch(g){c(g.message||"Failed to sign in")}finally{d(!1)}};return f.jsx("div",{className:"min-h-screen overflow-y-auto py-8 px-4 sm:px-6 lg:px-8",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:f.jsxs("div",{className:"max-w-md w-full mx-auto",children:[f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",style:{boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[f.jsxs("div",{className:"px-6 py-8 text-center text-white",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:[f.jsx("div",{className:"text-5xl mb-2",children:""}),f.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Senderr Portal"}),f.jsx("p",{className:"text-emerald-100 text-sm",children:"Send it. Earn it. Your way."})]}),f.jsxs("div",{className:"px-6 py-6",children:[f.jsxs("a",{href:"https://gosenderr-6773f.web.app",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-xs font-medium",children:"Back to role selection"})]}),f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Local Deliveries"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Sign in to your courier account"}),f.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&f.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:f.jsxs("p",{className:"text-sm text-red-800 flex items-center gap-2",children:[f.jsx("span",{children:""}),o]})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),f.jsx("input",{type:"email",required:!0,autoComplete:"email",value:e,onChange:p=>n(p.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 transition text-sm",placeholder:"courier@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),f.jsx("input",{type:"password",required:!0,autoComplete:"current-password",value:s,onChange:p=>a(p.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 transition text-sm",placeholder:""})]}),f.jsx("button",{type:"submit",disabled:u,className:"w-full py-2.5 px-4 text-white font-semibold rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",style:{background:u?"#9ca3af":"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:u?" Signing in...":" Sign In as Senderr"})]}),f.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:f.jsxs("p",{children:["New courier?"," ",f.jsx(Zt,{to:"/signup",className:"text-emerald-600 hover:text-emerald-700 font-semibold",children:"Create an account"})]})})]})]}),f.jsx("div",{className:"text-center mt-4 mb-4 text-white text-xs opacity-90",children:f.jsx("p",{children:" 2026 GoSenderr  Senderr Portal"})})]})})}function eM(){const[e,n]=k.useState(""),[s,a]=k.useState(""),[o,c]=k.useState(""),[u,d]=k.useState(""),[m,y]=k.useState(""),[p,g]=k.useState(""),[x,b]=k.useState(!1),S=An(),T=async M=>{if(M.preventDefault(),g(""),s!==o){g("Passwords do not match");return}if(s.length<6){g("Password must be at least 6 characters");return}b(!0);try{if(!Ni||!Xe)throw new Error("Firebase not initialized");console.log(" Creating user account with email:",e);const L=(await u3(Ni,e,s)).user;console.log(" User account created:",L.uid),console.log(" Creating Firestore user document..."),await v1(xt(Xe,"users",L.uid),{email:e.toLowerCase(),fullName:u,phone:m,role:"courier",createdAt:new Date,courierProfile:{isOnline:!1,workModes:{packagesEnabled:!1,foodEnabled:!1},stats:{totalDeliveries:0,totalEarnings:0,rating:0,completionRate:0}}}),console.log(" Firestore user document created"),console.log(" Navigating to onboarding..."),S("/onboarding")}catch(C){console.error(" Signup error:",C),C.code==="auth/email-already-in-use"?g("This email is already registered. Please sign in instead."):C.code==="auth/invalid-email"?g("Invalid email address"):g(C.message||"Failed to create account")}finally{b(!1)}};return f.jsx("div",{className:"min-h-screen overflow-y-auto py-8 px-4 sm:px-6 lg:px-8",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:f.jsxs("div",{className:"max-w-md w-full mx-auto",children:[f.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",style:{boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[f.jsxs("div",{className:"px-6 py-8 text-center text-white",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:[f.jsx("div",{className:"text-5xl mb-2",children:""}),f.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Become a Senderr"}),f.jsx("p",{className:"text-emerald-100 text-sm",children:"Start earning on your schedule"})]}),f.jsxs("div",{className:"px-6 py-6",children:[f.jsxs(Zt,{to:"/login",className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4 transition-colors",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("span",{className:"text-xs font-medium",children:"Back to sign in"})]}),f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Create Account"}),f.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Join the local courier network"}),f.jsxs("form",{onSubmit:T,className:"space-y-3",children:[p&&f.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4",children:f.jsxs("p",{className:"text-sm text-red-800 flex items-center gap-2",children:[f.jsx("span",{children:""}),p]})}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),f.jsx("input",{type:"text",required:!0,autoComplete:"name",value:u,onChange:M=>d(M.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 transition text-sm",placeholder:"John Doe"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),f.jsx("input",{type:"email",required:!0,autoComplete:"email",value:e,onChange:M=>n(M.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 transition text-sm",placeholder:"courier@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),f.jsx("input",{type:"tel",required:!0,autoComplete:"tel",value:m,onChange:M=>y(M.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 transition text-sm",placeholder:"(555) 123-4567"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),f.jsx("input",{type:"password",required:!0,autoComplete:"new-password",value:s,onChange:M=>a(M.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 transition text-sm",placeholder:"At least 6 characters"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),f.jsx("input",{type:"password",required:!0,autoComplete:"new-password",value:o,onChange:M=>c(M.target.value),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-emerald-500 transition text-sm",placeholder:"Re-enter password"})]}),f.jsx("button",{type:"submit",disabled:x,className:"w-full py-2.5 px-4 text-white font-semibold rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",style:{background:x?"#9ca3af":"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:x?" Creating Account...":" Create Courier Account"})]}),f.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:f.jsxs("p",{children:["Already have an account?"," ",f.jsx(Zt,{to:"/login",className:"text-emerald-600 hover:text-emerald-700 font-semibold",children:"Sign in"})]})})]})]}),f.jsx("div",{className:"text-center mt-4 mb-4 text-white text-xs opacity-90",children:f.jsx("p",{children:" 2026 GoSenderr  Senderr Portal"})})]})})}function tM(e){const[n,s]=k.useState(null),[a,o]=k.useState(!0);return k.useEffect(()=>{if(!e){s(null),o(!1);return}const c=xt(Xe,"jobs",e),u=Ro(c,d=>{d.exists()?s(d.data()):s(null),o(!1)});return()=>u()},[e]),{job:n,loading:a}}const zf=[{status:"open",label:"Send Posted"},{status:"assigned",label:"Senderr Assigned"},{status:"enroute_pickup",label:"En Route to Pickup"},{status:"arrived_pickup",label:"Arrived at Pickup"},{status:"picked_up",label:"Package Picked Up"},{status:"enroute_dropoff",label:"En Route to Dropoff"},{status:"arrived_dropoff",label:"Arrived at Dropoff"},{status:"completed",label:"Completed"}];function nM({currentStatus:e}){const n=zf.findIndex(s=>s.status===e);return f.jsx("div",{style:{padding:"20px 0"},children:f.jsxs("div",{style:{position:"relative"},children:[f.jsx("div",{style:{position:"absolute",top:"15px",left:"15px",right:"15px",height:"2px",background:"#e5e5e5",zIndex:0},children:f.jsx("div",{style:{height:"100%",background:"#6E56CF",width:n>=0?`${n/(zf.length-1)*100}%`:"0%",transition:"width 0.3s ease"}})}),f.jsx("div",{style:{display:"flex",justifyContent:"space-between",position:"relative",zIndex:1},children:zf.map((s,a)=>{const o=a<n,c=a===n;return f.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[f.jsx("div",{style:{width:"30px",height:"30px",borderRadius:"50%",background:o||c?"#6E56CF":"#e5e5e5",border:c?"3px solid #6E56CF":"none",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"600",fontSize:"12px",transition:"all 0.3s ease",boxShadow:c?"0 0 0 4px rgba(110, 86, 207, 0.2)":"none"},children:o?"":c?"":""}),f.jsx("div",{style:{marginTop:"8px",fontSize:"11px",textAlign:"center",color:c?"#6E56CF":o?"#333":"#999",fontWeight:c?"600":"400",maxWidth:"80px",lineHeight:"1.3"},children:s.label})]},s.status)})}),e==="cancelled"&&f.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"#fee",border:"1px solid #fcc",borderRadius:"6px",color:"#c00",textAlign:"center",fontSize:"14px",fontWeight:"600"},children:" Job Cancelled"})]})})}function iM(e,n){return e.courierUid===n.uid?{canSeeExactAddresses:!0,canSeePhotos:!0,canSeeCustomerInfo:!0}:e.status==="open"?{canSeeExactAddresses:!1,canSeePhotos:!0,canSeeCustomerInfo:!1}:{canSeeExactAddresses:!1,canSeePhotos:!1,canSeeCustomerInfo:!1}}function sM(e){const n=e.split(",");return n.length>=2?n.slice(1).join(",").trim():"Approximate location"}function aM(e,n,s,a){return a&&e?e:!a&&e?sM(e):`${n.toFixed(4)}, ${s.toFixed(4)}`}function Ov({label:e,location:n,canSeeExact:s,icon:a=""}){const o=aM(n.label,n.lat,n.lng,s);return f.jsxs("div",{style:{marginBottom:"8px"},children:[f.jsxs("strong",{children:[a," ",e,":"]}),f.jsxs("div",{style:{color:"#666",fontSize:"14px",marginTop:"4px"},children:[o,!s&&f.jsx("span",{style:{display:"inline-block",marginLeft:"8px",padding:"2px 6px",background:"#fef3c7",color:"#92400e",fontSize:"11px",borderRadius:"3px",fontWeight:"600"},children:"Approximate"})]})]})}const rM={small:"Small",medium:"Medium",large:"Large",xl:"Extra Large"},oM={small:"#16a34a",medium:"#2563eb",large:"#ea580c",xl:"#dc2626"};function lM({size:e,flags:n,notes:s,showNotes:a=!1}){return!e&&(!n||Object.keys(n).length===0)?null:f.jsxs("div",{children:[f.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginBottom:s&&a?"8px":0},children:[e&&f.jsxs("span",{style:{display:"inline-block",padding:"4px 10px",background:oM[e],color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:[" ",rM[e]]}),(n==null?void 0:n.needsSuvVan)&&f.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#f59e0b",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:" SUV/Van"}),(n==null?void 0:n.fragile)&&f.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#8b5cf6",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:" Fragile"}),(n==null?void 0:n.heavyTwoPerson)&&f.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#dc2626",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:" 2-Person"}),(n==null?void 0:n.oversized)&&f.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#db2777",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:" Oversized"}),(n==null?void 0:n.stairs)&&f.jsx("span",{style:{display:"inline-block",padding:"4px 10px",background:"#6366f1",color:"white",borderRadius:"4px",fontSize:"12px",fontWeight:"600"},children:" Stairs"})]}),s&&a&&f.jsxs("div",{style:{marginTop:"8px",padding:"8px",background:"#f5f5f5",borderRadius:"4px",fontSize:"13px",color:"#666"},children:[f.jsx("strong",{style:{color:"#333"},children:"Notes:"})," ",s]})]})}function cM({photos:e,maxThumbnails:n=3}){const[s,a]=k.useState(null);return!e||e.length===0?null:f.jsxs(f.Fragment,{children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:`repeat(${n}, 1fr)`,gap:"8px"},children:[e.slice(0,n).map((o,c)=>f.jsx("button",{onClick:()=>a(o),style:{aspectRatio:"1",borderRadius:"6px",overflow:"hidden",border:"1px solid #ddd",background:"#f5f5f5",cursor:"pointer",padding:0},children:f.jsx("img",{src:o.url,alt:`Package photo ${c+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},c)),e.length>n&&f.jsxs("button",{onClick:()=>a(e[n]),style:{aspectRatio:"1",borderRadius:"6px",border:"1px solid #ddd",background:"#f5f5f5",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:"600",color:"#666",cursor:"pointer"},children:["+",e.length-n," more"]})]}),s&&f.jsx("div",{onClick:()=>a(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,cursor:"pointer"},children:f.jsxs("div",{style:{position:"relative",maxWidth:"90%",maxHeight:"90%"},children:[f.jsx("img",{src:s.url,alt:"Full size package photo",style:{maxWidth:"100%",maxHeight:"90vh",objectFit:"contain"}}),f.jsx("button",{onClick:o=>{o.stopPropagation(),a(null)},style:{position:"absolute",top:"16px",right:"16px",background:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]})})]})}function uM({package:e,photos:n,canSeePhotos:s}){return!e&&(!n||n.length===0)?f.jsxs("div",{children:[f.jsx("strong",{style:{display:"block",marginBottom:"8px"},children:" Package Details:"}),f.jsx("div",{style:{fontSize:"14px",color:"#999"},children:"Package details not provided"})]}):f.jsxs("div",{children:[f.jsx("strong",{style:{display:"block",marginBottom:"8px"},children:" Package Details:"}),e&&f.jsx(lM,{size:e.size,flags:e.flags,notes:e.notes,showNotes:!0}),s&&n&&n.length>0&&f.jsxs("div",{style:{marginTop:e?"16px":"0"},children:[f.jsxs("strong",{style:{display:"block",marginBottom:"8px"},children:[" Photos (",n.length,"):"]}),f.jsx(cM,{photos:n,maxThumbnails:3})]})]})}const dM={open:{label:"Open",color:"#059669",background:"#d1fae5"},assigned:{label:"Assigned",color:"#2563eb",background:"#dbeafe"},enroute_pickup:{label:"En Route to Pickup",color:"#7c3aed",background:"#ede9fe"},arrived_pickup:{label:"Arrived at Pickup",color:"#7c3aed",background:"#ede9fe"},picked_up:{label:"Picked Up",color:"#ea580c",background:"#ffedd5"},enroute_dropoff:{label:"En Route to Dropoff",color:"#ea580c",background:"#ffedd5"},arrived_dropoff:{label:"Arrived at Dropoff",color:"#ea580c",background:"#ffedd5"},completed:{label:"Completed",color:"#16a34a",background:"#dcfce7"},cancelled:{label:"Cancelled",color:"#dc2626",background:"#fee2e2"},disputed:{label:"Disputed",color:"#f97316",background:"#ffedd5"},expired:{label:"Expired",color:"#9ca3af",background:"#f3f4f6"},failed:{label:"Failed",color:"#dc2626",background:"#fee2e2"}};function fM({status:e}){const n=dM[e];return n?f.jsx("span",{style:{display:"inline-block",padding:"4px 12px",background:n.background,color:n.color,borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:n.label}):f.jsx("span",{style:{display:"inline-block",padding:"4px 12px",background:"#f3f4f6",color:"#6b7280",borderRadius:"12px",fontSize:"13px",fontWeight:"600"},children:e||"Unknown"})}function hM({job:e,visibility:n,showStatus:s=!0,children:a}){return f.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"8px",border:"1px solid #ddd",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[s&&f.jsx("div",{style:{marginBottom:"16px"},children:f.jsx(fM,{status:e.status})}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx(Ov,{label:"Pickup",location:e.pickup,canSeeExact:n.canSeeExactAddresses}),f.jsx(Ov,{label:"Dropoff",location:e.dropoff,canSeeExact:n.canSeeExactAddresses})]}),f.jsx("div",{style:{marginBottom:"16px"},children:f.jsx(uM,{package:e.package||null,photos:e.photos||null,canSeePhotos:n.canSeePhotos})}),e.courierSnapshot&&e.courierUid&&f.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"#f5f5f5",borderRadius:"6px"},children:[f.jsx("strong",{style:{display:"block",marginBottom:"4px"},children:" Courier:"}),f.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[e.courierSnapshot.displayName||"Courier",e.courierSnapshot.transportMode&&f.jsxs("span",{style:{marginLeft:"8px",textTransform:"capitalize"},children:["(",e.courierSnapshot.transportMode,")"]})]}),e.agreedFee&&f.jsxs("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:[f.jsx("strong",{children:"Agreed Fee:"})," $",e.agreedFee.toFixed(2)]})]}),a&&f.jsx("div",{style:{marginTop:"16px"},children:a})]})}function mM({job:e,courierUid:n,estimatedFee:s,onJobUpdated:a}){const o=e.courierUid===n,c=e.status==="open"&&!e.courierUid,d=o?(p=>({open:null,assigned:"enroute_pickup",enroute_pickup:"arrived_pickup",arrived_pickup:"picked_up",picked_up:"enroute_dropoff",enroute_dropoff:"arrived_dropoff",arrived_dropoff:"completed",completed:null,cancelled:null,disputed:null,expired:null,failed:null})[p])(e.status):null,m=async()=>{if(!s){alert("Cannot accept job: no fee calculated");return}try{await hS(e.id,n,s),alert("Job accepted successfully!"),a==null||a()}catch(p){console.error("Failed to accept job:",p),alert("Failed to accept job. It may have been claimed by another courier.")}},y=async()=>{if(d)try{await $E(e.id,d),a==null||a()}catch(p){console.error("Failed to update job status:",p),alert("Failed to update job status. Please try again.")}};if(c)return f.jsxs("button",{onClick:m,className:"w-full py-4 bg-gradient-to-br from-emerald-500 to-emerald-600 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl active:scale-95 transition-all",children:["Accept Job ",s&&`- $${s.toFixed(2)}`]});if(d){const p={open:"Open",assigned:" Start Heading to Pickup",enroute_pickup:" Mark Arrived at Pickup",arrived_pickup:" Mark Package Picked Up",picked_up:" Start Heading to Dropoff",enroute_dropoff:" Mark Arrived at Dropoff",arrived_dropoff:" Mark Completed",completed:"Completed",cancelled:"Cancelled",disputed:"Disputed",expired:"Expired",failed:"Failed"},g={open:"bg-gray-500",assigned:"bg-blue-600",enroute_pickup:"bg-orange-600",arrived_pickup:"bg-purple-600",picked_up:"bg-blue-600",enroute_dropoff:"bg-orange-600",arrived_dropoff:"bg-emerald-600",completed:"bg-gray-500",cancelled:"bg-gray-500",disputed:"bg-gray-500",expired:"bg-gray-500",failed:"bg-gray-500"};return f.jsx("button",{onClick:y,className:`w-full py-4 ${g[d]} text-white rounded-xl font-semibold shadow-lg hover:shadow-xl active:scale-95 transition-all`,children:p[d]})}return null}function xS(e){var n,s,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(s=xS(e[n]))&&(a&&(a+=" "),a+=s)}else for(s in e)e[s]&&(a&&(a+=" "),a+=s);return a}function pM(){for(var e,n,s=0,a="",o=arguments.length;s<o;s++)(e=arguments[s])&&(n=xS(e))&&(a&&(a+=" "),a+=n);return a}const gM=(e,n)=>{const s=new Array(e.length+n.length);for(let a=0;a<e.length;a++)s[a]=e[a];for(let a=0;a<n.length;a++)s[e.length+a]=n[a];return s},yM=(e,n)=>({classGroupId:e,validator:n}),vS=(e=new Map,n=null,s)=>({nextPart:e,validators:n,classGroupId:s}),Rc="-",Pv=[],xM="arbitrary..",vM=e=>{const n=SM(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return bM(u);const d=u.split(Rc),m=d[0]===""&&d.length>1?1:0;return bS(d,m,n)},getConflictingClassGroupIds:(u,d)=>{if(d){const m=a[u],y=s[u];return m?y?gM(y,m):m:y||Pv}return s[u]||Pv}}},bS=(e,n,s)=>{if(e.length-n===0)return s.classGroupId;const o=e[n],c=s.nextPart.get(o);if(c){const y=bS(e,n+1,c);if(y)return y}const u=s.validators;if(u===null)return;const d=n===0?e.join(Rc):e.slice(n).join(Rc),m=u.length;for(let y=0;y<m;y++){const p=u[y];if(p.validator(d))return p.classGroupId}},bM=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const n=e.slice(1,-1),s=n.indexOf(":"),a=n.slice(0,s);return a?xM+a:void 0})(),SM=e=>{const{theme:n,classGroups:s}=e;return wM(s,n)},wM=(e,n)=>{const s=vS();for(const a in e){const o=e[a];Em(o,s,a,n)}return s},Em=(e,n,s,a)=>{const o=e.length;for(let c=0;c<o;c++){const u=e[c];jM(u,n,s,a)}},jM=(e,n,s,a)=>{if(typeof e=="string"){TM(e,n,s);return}if(typeof e=="function"){AM(e,n,s,a);return}CM(e,n,s,a)},TM=(e,n,s)=>{const a=e===""?n:SS(n,e);a.classGroupId=s},AM=(e,n,s,a)=>{if(EM(e)){Em(e(a),n,s,a);return}n.validators===null&&(n.validators=[]),n.validators.push(yM(s,e))},CM=(e,n,s,a)=>{const o=Object.entries(e),c=o.length;for(let u=0;u<c;u++){const[d,m]=o[u];Em(m,SS(n,d),s,a)}},SS=(e,n)=>{let s=e;const a=n.split(Rc),o=a.length;for(let c=0;c<o;c++){const u=a[c];let d=s.nextPart.get(u);d||(d=vS(),s.nextPart.set(u,d)),s=d}return s},EM=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,MM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,s=Object.create(null),a=Object.create(null);const o=(c,u)=>{s[c]=u,n++,n>e&&(n=0,a=s,s=Object.create(null))};return{get(c){let u=s[c];if(u!==void 0)return u;if((u=a[c])!==void 0)return o(c,u),u},set(c,u){c in s?s[c]=u:o(c,u)}}},vh="!",Bv=":",NM=[],Uv=(e,n,s,a,o)=>({modifiers:e,hasImportantModifier:n,baseClassName:s,maybePostfixModifierPosition:a,isExternal:o}),DM=e=>{const{prefix:n,experimentalParseClassName:s}=e;let a=o=>{const c=[];let u=0,d=0,m=0,y;const p=o.length;for(let T=0;T<p;T++){const M=o[T];if(u===0&&d===0){if(M===Bv){c.push(o.slice(m,T)),m=T+1;continue}if(M==="/"){y=T;continue}}M==="["?u++:M==="]"?u--:M==="("?d++:M===")"&&d--}const g=c.length===0?o:o.slice(m);let x=g,b=!1;g.endsWith(vh)?(x=g.slice(0,-1),b=!0):g.startsWith(vh)&&(x=g.slice(1),b=!0);const S=y&&y>m?y-m:void 0;return Uv(c,b,x,S)};if(n){const o=n+Bv,c=a;a=u=>u.startsWith(o)?c(u.slice(o.length)):Uv(NM,!1,u,void 0,!0)}if(s){const o=a;a=c=>s({className:c,parseClassName:o})}return a},RM=e=>{const n=new Map;return e.orderSensitiveModifiers.forEach((s,a)=>{n.set(s,1e6+a)}),s=>{const a=[];let o=[];for(let c=0;c<s.length;c++){const u=s[c],d=u[0]==="[",m=n.has(u);d||m?(o.length>0&&(o.sort(),a.push(...o),o=[]),a.push(u)):o.push(u)}return o.length>0&&(o.sort(),a.push(...o)),a}},kM=e=>({cache:MM(e.cacheSize),parseClassName:DM(e),sortModifiers:RM(e),...vM(e)}),zM=/\s+/,VM=(e,n)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:c}=n,u=[],d=e.trim().split(zM);let m="";for(let y=d.length-1;y>=0;y-=1){const p=d[y],{isExternal:g,modifiers:x,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:T}=s(p);if(g){m=p+(m.length>0?" "+m:m);continue}let M=!!T,C=a(M?S.substring(0,T):S);if(!C){if(!M){m=p+(m.length>0?" "+m:m);continue}if(C=a(S),!C){m=p+(m.length>0?" "+m:m);continue}M=!1}const L=x.length===0?"":x.length===1?x[0]:c(x).join(":"),z=b?L+vh:L,O=z+C;if(u.indexOf(O)>-1)continue;u.push(O);const _=o(C,M);for(let D=0;D<_.length;++D){const q=_[D];u.push(z+q)}m=p+(m.length>0?" "+m:m)}return m},LM=(...e)=>{let n=0,s,a,o="";for(;n<e.length;)(s=e[n++])&&(a=wS(s))&&(o&&(o+=" "),o+=a);return o},wS=e=>{if(typeof e=="string")return e;let n,s="";for(let a=0;a<e.length;a++)e[a]&&(n=wS(e[a]))&&(s&&(s+=" "),s+=n);return s},OM=(e,...n)=>{let s,a,o,c;const u=m=>{const y=n.reduce((p,g)=>g(p),e());return s=kM(y),a=s.cache.get,o=s.cache.set,c=d,d(m)},d=m=>{const y=a(m);if(y)return y;const p=VM(m,s);return o(m,p),p};return c=u,(...m)=>c(LM(...m))},PM=[],Vt=e=>{const n=s=>s[e]||PM;return n.isThemeGetter=!0,n},jS=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TS=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BM=/^\d+\/\d+$/,UM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$M=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_M=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,FM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ua=e=>BM.test(e),De=e=>!!e&&!Number.isNaN(Number(e)),os=e=>!!e&&Number.isInteger(Number(e)),Vf=e=>e.endsWith("%")&&De(e.slice(0,-1)),Ei=e=>UM.test(e),GM=()=>!0,qM=e=>$M.test(e)&&!_M.test(e),AS=()=>!1,YM=e=>FM.test(e),XM=e=>HM.test(e),IM=e=>!me(e)&&!pe(e),KM=e=>or(e,MS,AS),me=e=>jS.test(e),Bs=e=>or(e,NS,qM),Lf=e=>or(e,eN,De),$v=e=>or(e,CS,AS),WM=e=>or(e,ES,XM),sc=e=>or(e,DS,YM),pe=e=>TS.test(e),so=e=>lr(e,NS),ZM=e=>lr(e,tN),_v=e=>lr(e,CS),QM=e=>lr(e,MS),JM=e=>lr(e,ES),ac=e=>lr(e,DS,!0),or=(e,n,s)=>{const a=jS.exec(e);return a?a[1]?n(a[1]):s(a[2]):!1},lr=(e,n,s=!1)=>{const a=TS.exec(e);return a?a[1]?n(a[1]):s:!1},CS=e=>e==="position"||e==="percentage",ES=e=>e==="image"||e==="url",MS=e=>e==="length"||e==="size"||e==="bg-size",NS=e=>e==="length",eN=e=>e==="number",tN=e=>e==="family-name",DS=e=>e==="shadow",nN=()=>{const e=Vt("color"),n=Vt("font"),s=Vt("text"),a=Vt("font-weight"),o=Vt("tracking"),c=Vt("leading"),u=Vt("breakpoint"),d=Vt("container"),m=Vt("spacing"),y=Vt("radius"),p=Vt("shadow"),g=Vt("inset-shadow"),x=Vt("text-shadow"),b=Vt("drop-shadow"),S=Vt("blur"),T=Vt("perspective"),M=Vt("aspect"),C=Vt("ease"),L=Vt("animate"),z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...O(),pe,me],D=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto","contain","none"],j=()=>[pe,me,m],N=()=>[Ua,"full","auto",...j()],V=()=>[os,"none","subgrid",pe,me],B=()=>["auto",{span:["full",os,pe,me]},os,pe,me],$=()=>[os,"auto",pe,me],H=()=>["auto","min","max","fr",pe,me],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],E=()=>["auto",...j()],A=()=>[Ua,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...j()],P=()=>[e,pe,me],U=()=>[...O(),_v,$v,{position:[pe,me]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],oe=()=>["auto","cover","contain",QM,KM,{size:[pe,me]}],te=()=>[Vf,so,Bs],ie=()=>["","none","full",y,pe,me],Q=()=>["",De,so,Bs],ee=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[De,Vf,_v,$v],je=()=>["","none",S,pe,me],xe=()=>["none",De,pe,me],Ee=()=>["none",De,pe,me],le=()=>[De,pe,me],fe=()=>[Ua,"full",...j()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ei],breakpoint:[Ei],color:[GM],container:[Ei],"drop-shadow":[Ei],ease:["in","out","in-out"],font:[IM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ei],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ei],shadow:[Ei],spacing:["px",De],text:[Ei],"text-shadow":[Ei],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ua,me,pe,M]}],container:["container"],columns:[{columns:[De,me,pe,d]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[os,"auto",pe,me]}],basis:[{basis:[Ua,"full","auto",d,...j()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,Ua,"auto","initial","none",me]}],grow:[{grow:["",De,pe,me]}],shrink:[{shrink:["",De,pe,me]}],order:[{order:[os,"first","last","none",pe,me]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:B()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:B()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":H()}],"auto-rows":[{"auto-rows":H()}],gap:[{gap:j()}],"gap-x":[{"gap-x":j()}],"gap-y":[{"gap-y":j()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:j()}],px:[{px:j()}],py:[{py:j()}],ps:[{ps:j()}],pe:[{pe:j()}],pt:[{pt:j()}],pr:[{pr:j()}],pb:[{pb:j()}],pl:[{pl:j()}],m:[{m:E()}],mx:[{mx:E()}],my:[{my:E()}],ms:[{ms:E()}],me:[{me:E()}],mt:[{mt:E()}],mr:[{mr:E()}],mb:[{mb:E()}],ml:[{ml:E()}],"space-x":[{"space-x":j()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":j()}],"space-y-reverse":["space-y-reverse"],size:[{size:A()}],w:[{w:[d,"screen",...A()]}],"min-w":[{"min-w":[d,"screen","none",...A()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...A()]}],h:[{h:["screen","lh",...A()]}],"min-h":[{"min-h":["screen","lh","none",...A()]}],"max-h":[{"max-h":["screen","lh",...A()]}],"font-size":[{text:["base",s,so,Bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,pe,Lf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vf,me]}],"font-family":[{font:[ZM,me,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,pe,me]}],"line-clamp":[{"line-clamp":[De,"none",pe,Lf]}],leading:[{leading:[c,...j()]}],"list-image":[{"list-image":["none",pe,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:P()}],"text-color":[{text:P()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",pe,Bs]}],"text-decoration-color":[{decoration:P()}],"underline-offset":[{"underline-offset":[De,"auto",pe,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:oe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},os,pe,me],radial:["",pe,me],conic:[os,pe,me]},JM,WM]}],"bg-color":[{bg:P()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:P()}],"gradient-via":[{via:P()}],"gradient-to":[{to:P()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:P()}],"border-color-x":[{"border-x":P()}],"border-color-y":[{"border-y":P()}],"border-color-s":[{"border-s":P()}],"border-color-e":[{"border-e":P()}],"border-color-t":[{"border-t":P()}],"border-color-r":[{"border-r":P()}],"border-color-b":[{"border-b":P()}],"border-color-l":[{"border-l":P()}],"divide-color":[{divide:P()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,pe,me]}],"outline-w":[{outline:["",De,so,Bs]}],"outline-color":[{outline:P()}],shadow:[{shadow:["","none",p,ac,sc]}],"shadow-color":[{shadow:P()}],"inset-shadow":[{"inset-shadow":["none",g,ac,sc]}],"inset-shadow-color":[{"inset-shadow":P()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:P()}],"ring-offset-w":[{"ring-offset":[De,Bs]}],"ring-offset-color":[{"ring-offset":P()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":P()}],"text-shadow":[{"text-shadow":["none",x,ac,sc]}],"text-shadow-color":[{"text-shadow":P()}],opacity:[{opacity:[De,pe,me]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":P()}],"mask-image-linear-to-color":[{"mask-linear-to":P()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":P()}],"mask-image-t-to-color":[{"mask-t-to":P()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":P()}],"mask-image-r-to-color":[{"mask-r-to":P()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":P()}],"mask-image-b-to-color":[{"mask-b-to":P()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":P()}],"mask-image-l-to-color":[{"mask-l-to":P()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":P()}],"mask-image-x-to-color":[{"mask-x-to":P()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":P()}],"mask-image-y-to-color":[{"mask-y-to":P()}],"mask-image-radial":[{"mask-radial":[pe,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":P()}],"mask-image-radial-to-color":[{"mask-radial-to":P()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":P()}],"mask-image-conic-to-color":[{"mask-conic-to":P()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:oe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,me]}],filter:[{filter:["","none",pe,me]}],blur:[{blur:je()}],brightness:[{brightness:[De,pe,me]}],contrast:[{contrast:[De,pe,me]}],"drop-shadow":[{"drop-shadow":["","none",b,ac,sc]}],"drop-shadow-color":[{"drop-shadow":P()}],grayscale:[{grayscale:["",De,pe,me]}],"hue-rotate":[{"hue-rotate":[De,pe,me]}],invert:[{invert:["",De,pe,me]}],saturate:[{saturate:[De,pe,me]}],sepia:[{sepia:["",De,pe,me]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,me]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[De,pe,me]}],"backdrop-contrast":[{"backdrop-contrast":[De,pe,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,pe,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,pe,me]}],"backdrop-invert":[{"backdrop-invert":["",De,pe,me]}],"backdrop-opacity":[{"backdrop-opacity":[De,pe,me]}],"backdrop-saturate":[{"backdrop-saturate":[De,pe,me]}],"backdrop-sepia":[{"backdrop-sepia":["",De,pe,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":j()}],"border-spacing-x":[{"border-spacing-x":j()}],"border-spacing-y":[{"border-spacing-y":j()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",pe,me]}],ease:[{ease:["linear","initial",C,pe,me]}],delay:[{delay:[De,pe,me]}],animate:[{animate:["none",L,pe,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,pe,me]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[pe,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:fe()}],"translate-x":[{"translate-x":fe()}],"translate-y":[{"translate-y":fe()}],"translate-z":[{"translate-z":fe()}],"translate-none":["translate-none"],accent:[{accent:P()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:P()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,me]}],fill:[{fill:["none",...P()]}],"stroke-w":[{stroke:[De,so,Bs,Lf]}],stroke:[{stroke:["none",...P()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iN=OM(nN);function us(...e){return iN(pM(e))}function ti({children:e,variant:n="default",hover:s=!1,padding:a="md",className:o,...c}){const u="bg-white rounded-[20px] transition-all duration-300",d={default:"shadow-[0_4px_20px_rgba(107,78,255,0.08)]",elevated:"shadow-[0_8px_32px_rgba(107,78,255,0.12)] border border-purple-50",gradient:"bg-gradient-to-br from-[#6B4EFF] to-[#9D7FFF] text-white shadow-[0_8px_32px_rgba(107,78,255,0.2)]",outlined:"border border-gray-200 bg-white"},m=s?"hover:shadow-[0_8px_32px_rgba(107,78,255,0.12)] hover:-translate-y-1 cursor-pointer":"",y={none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"};return f.jsx("div",{className:us(u,d[n],m,y[a],o),...c,children:e})}function RS({children:e,action:n,className:s,...a}){return f.jsxs("div",{className:us("flex items-center justify-between mb-4",s),...a,children:[f.jsx("div",{className:"flex-1",children:e}),n&&f.jsx("div",{className:"ml-4",children:n})]})}function kS({children:e,className:n,...s}){return f.jsx("h3",{className:us("text-lg font-semibold text-gray-900",n),...s,children:e})}function Mi({children:e,className:n,...s}){return f.jsx("div",{className:us("",n),...s,children:e})}function Fv({title:e="Page not found",description:n="The page youre looking for doesnt exist or was moved.",actionHref:s,actionLabel:a,emoji:o=""}){return f.jsx("div",{className:"min-h-screen bg-[#F8F9FF] px-6 py-12",children:f.jsxs("div",{className:"max-w-3xl mx-auto",children:[f.jsxs("div",{className:"bg-gradient-to-br from-[#6B4EFF] to-[#9D7FFF] rounded-[32px] p-8 text-white shadow-lg mb-6",children:[f.jsx("div",{className:"text-5xl mb-3",children:o}),f.jsx("h1",{className:"text-3xl font-bold",children:"404"}),f.jsx("p",{className:"text-purple-100 mt-2",children:e})]}),f.jsx(ti,{variant:"elevated",children:f.jsxs(Mi,{children:[f.jsx("p",{className:"text-gray-600 text-sm mb-6",children:n}),f.jsx(Zt,{to:s,className:"inline-flex items-center px-4 py-2 rounded-xl bg-purple-600 text-white font-semibold hover:bg-purple-700 transition",children:a})]})})]})})}function zS(){const e=An(),n=J3(),{fetchRoute:s,loading:a,error:o}=yS(),c=k.useCallback(async(y,p,g)=>{if(!g)throw new Error("Destination location is required");console.log(" Starting navigation for job",{jobId:y.id,destination:g});try{const x=await s([p.lng,p.lat],[g.lng,g.lat]);if(!x)throw new Error("Failed to fetch route");return n.startNavigation(y,x),e("/navigation/active",{state:{jobId:y.id},replace:!1}),{success:!0}}catch(x){throw console.error("Failed to start navigation:",x),x}},[n,s,e]),u=k.useCallback(()=>{var p;const y=(p=n.currentJob)==null?void 0:p.id;n.stopNavigation(),e(y?`/jobs/${y}`:"/dashboard")},[n,e]),d=n.isNavigating,m=n.currentJob;return{isNavigating:d,currentJob:m,currentStep:n.currentStep,remainingSteps:n.remainingSteps,distanceToNextTurn:n.distanceToNextTurn,estimatedTimeRemaining:n.estimatedTimeRemaining,cameraMode:n.cameraMode,currentRoute:n.currentRoute,startNavigation:c,stopNavigation:u,goToNextStep:n.goToNextStep,toggleCameraMode:n.toggleCameraMode,updateDistance:n.updateDistance,updateETA:n.updateETA,isLoadingRoute:a,routeError:o}}function sN(e,n){return{...e,id:n}}function aN(){var x,b,S;const e=qA(),n=An(),s=e==null?void 0:e.jobId,{uid:a}=ys(),{job:o,loading:c}=tM(s),{userDoc:u}=Kc(),{startNavigation:d,isNavigating:m}=zS();if(c)return f.jsx("div",{style:{padding:"30px"},children:f.jsx("p",{children:"Loading job..."})});if(!o||!a)return f.jsx(Fv,{title:"Job not found",description:"We couldn't locate that delivery job.",actionHref:"/dashboard",actionLabel:"Back to Dashboard",emoji:""});const y=sN(o,s);if(y.courierUid!==a)return f.jsx(Fv,{title:"Access denied",description:"This job isn't assigned to your account.",actionHref:"/dashboard",actionLabel:"Back to Dashboard",emoji:""});const p=iM(y,{uid:a}),g=async T=>{if(!(u!=null&&u.location)){alert("Unable to get your current location. Please enable location services.");return}const M=T==="pickup"?y.pickup:y.dropoff;await d(y,u.location,M)};return f.jsxs("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto bg-[#F8F9FF] pb-24 safe-top",children:[f.jsxs("div",{className:"bg-gradient-to-br from-[#6B4EFF] to-[#9D7FFF] p-6 text-white shadow-lg sticky top-0 z-10",children:[f.jsxs(Zt,{to:"/dashboard",className:"inline-flex items-center text-white/90 hover:text-white mb-3 transition-colors text-sm",children:[f.jsx("span",{className:"mr-2",children:""}),"Back to Dashboard"]}),f.jsx("h1",{className:"text-2xl font-bold",children:"Active Delivery"}),f.jsxs("p",{className:"text-purple-100 text-sm mt-1",children:["Accepted: ",((S=(b=(x=y.updatedAt)==null?void 0:x.toDate)==null?void 0:b.call(x))==null?void 0:S.toLocaleString())||"Just now"]})]}),f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 space-y-4",children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Progress"}),f.jsx(nM,{currentStatus:y.status})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[f.jsx("div",{className:"p-4 border-b border-gray-200",children:f.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Live Map"})}),f.jsx(Po,{pickup:y.pickup,dropoff:y.dropoff,courierLocation:(u==null?void 0:u.location)||null,height:"300px"})]}),f.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:f.jsx(hM,{job:y,visibility:p,showStatus:!0,children:f.jsx(mM,{job:y,courierUid:a,onJobUpdated:()=>{y.status==="arrived_dropoff"&&setTimeout(()=>n("/dashboard"),1e3)}})})}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx("button",{onClick:()=>g("pickup"),disabled:m||!(u!=null&&u.location),className:`py-4 px-4 rounded-xl font-semibold text-white shadow-lg transition-all ${m||!(u!=null&&u.location)?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-br from-[#6B4EFF] to-[#9D7FFF] hover:shadow-xl active:scale-95"}`,children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl mb-1",children:""}),f.jsx("div",{className:"text-sm",children:m?"Navigating...":"Navigate to Pickup"})]})}),f.jsx("button",{onClick:()=>g("dropoff"),disabled:m||!(u!=null&&u.location),className:`py-4 px-4 rounded-xl font-semibold text-white shadow-lg transition-all ${m||!(u!=null&&u.location)?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-br from-emerald-500 to-emerald-600 hover:shadow-xl active:scale-95"}`,children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl mb-1",children:""}),f.jsx("div",{className:"text-sm",children:m?"Navigating...":"Navigate to Dropoff"})]})})]})]})]})}function Hv(e){const n=e*3.28084;return n<528?`${Math.round(n)} ft`:`${(e/1609.34).toFixed(1)} mi`}function rN(e){const n=Math.floor(e/60),s=Math.floor(n/60),a=n%60;return s>0?`${s} hr${s>1?"s":""} ${a} min`:`${n} min`}function oN({currentStep:e,distanceToTurn:n,timeRemaining:s,totalDistance:a,onExit:o}){if(!e)return f.jsx("div",{className:"bg-white shadow-lg p-4",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("p",{className:"text-gray-600",children:"No active navigation"}),f.jsx("button",{onClick:o,className:"text-gray-600 hover:text-gray-800 font-medium",children:"Exit"})]})});const c=e.maneuver.instruction,u=e.instruction;return f.jsxs("div",{className:"bg-white shadow-lg safe-top",children:[f.jsx("div",{className:"p-3 sm:p-6 border-b border-gray-200",children:f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("div",{className:"text-3xl sm:text-5xl font-bold text-gray-900 mb-1 sm:mb-2",children:Hv(n)}),f.jsx("div",{className:"text-base sm:text-xl font-medium text-gray-800 line-clamp-2",children:c}),u&&u!==c&&f.jsxs("div",{className:"mt-1 sm:mt-2 text-xs sm:text-sm text-gray-600 line-clamp-1",children:["Then: ",u]})]}),f.jsx("button",{onClick:o,className:"ml-2 sm:ml-4 p-2 text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",children:f.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),f.jsx("div",{className:"px-3 sm:px-6 py-2 sm:py-3 bg-gray-50 flex justify-between items-center text-xs sm:text-sm",children:f.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"ETA:"}),f.jsx("span",{className:"ml-1 sm:ml-2 font-semibold text-gray-900",children:rN(s)})]}),f.jsx("div",{className:"h-3 sm:h-4 w-px bg-gray-300"}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500",children:"Distance:"}),f.jsx("span",{className:"ml-1 sm:ml-2 font-semibold text-gray-900",children:Hv(a)})]})]})})]})}function lN(){var F,Y,E,A,P;const e=An(),n=Hh(),s=k.useRef(null),[a,o]=k.useState(0),[c,u]=k.useState("prompt"),d=k.useRef(!1),m=k.useRef(0),{isNavigating:y,currentJob:p,currentStep:g,distanceToNextTurn:x,estimatedTimeRemaining:b,cameraMode:S,stopNavigation:T,toggleCameraMode:M,currentRoute:C}=zS(),{userDoc:L}=Kc(),z=(F=n.state)==null?void 0:F.jobId,O=k.useMemo(()=>{var I;if(!C)return console.log(" No current route"),[];const U=((I=C.geometry)==null?void 0:I.coordinates)||[];return console.log(" Navigation route segments:",{hasRoute:!!C,hasGeometry:!!C.geometry,numCoordinates:U.length,firstCoord:U[0],lastCoord:U[U.length-1]}),U.length===0?(console.warn(" Route has no coordinates!"),[]):[{coordinates:U,color:"#6E56CF",type:"navigation"}]},[C]),_=k.useRef(0),D=k.useRef(null),q=(U,I,oe={})=>{const te=Date.now(),ie=350,Q=D.current,ee=!Q||Math.hypot(Q[0]-I.lng,Q[1]-I.lat)>5e-5;!oe.force&&!ee&&te-_.current<ie||(_.current=te,D.current=[I.lng,I.lat],U.easeTo({center:[I.lng,I.lat],zoom:19,pitch:65,duration:700,easing:ue=>ue*(2-ue),essential:!0}))},j=U=>{const I=new window.mapboxgl.LngLatBounds;O.length>0&&O.forEach(oe=>{oe.coordinates.forEach(te=>{I.extend(te)})}),I.isEmpty()||U.fitBounds(I,{padding:{top:100,bottom:100,left:80,right:80},duration:800,bearing:0,pitch:0})};k.useEffect(()=>{var I;if(S!=="follow"||!s.current||!((I=L==null?void 0:L.courierProfile)!=null&&I.currentLocation))return;const U=s.current.getMap();U&&q(U,L.courierProfile.currentLocation)},[S,(Y=L==null?void 0:L.courierProfile)==null?void 0:Y.currentLocation]),k.useEffect(()=>{if(S!=="follow"||!s.current)return;const U=s.current.getMap();!U||Math.abs(a-m.current)<1||(m.current=a,U.easeTo({bearing:a,duration:240,easing:oe=>oe*(2-oe),essential:!0}))},[a,S]),k.useEffect(()=>{if(S!=="overview"||!s.current)return;const U=s.current.getMap();U&&j(U)},[S,O]);const N=async()=>{if(console.log(" Requesting device orientation permission..."),typeof(DeviceOrientationEvent==null?void 0:DeviceOrientationEvent.requestPermission)=="function")try{const U=await DeviceOrientationEvent.requestPermission();console.log(" Permission result:",U),u(U),U==="granted"&&V()}catch(U){console.error(" Error requesting permission:",U),u("denied")}else console.log(" No permission needed, starting tracking"),u("granted"),V()},V=()=>{if(d.current)return;const U=I=>{const oe=I.webkitCompassHeading||(I.alpha!==null?360-I.alpha:0);o(oe)};window.addEventListener("deviceorientation",U,!0),d.current=!0,console.log(" Orientation tracking started")};k.useEffect(()=>(console.log(" Orientation effect - permission state:",c),c==="prompt"&&(console.log(" Checking if permission needed..."),typeof(DeviceOrientationEvent==null?void 0:DeviceOrientationEvent.requestPermission)=="function"?console.log(" iOS device detected - permission required, showing prompt"):(console.log(" Non-iOS device - no permission needed"),u("granted"),V())),()=>{d.current&&(window.removeEventListener("deviceorientation",()=>{},!0),d.current=!1)}),[c]),k.useEffect(()=>{!y&&!z&&(console.warn(" Not in navigation mode, redirecting to dashboard"),e("/dashboard",{replace:!0}))},[y,z,e]);const B=()=>{T()},$=U=>{var oe,te;const I=(oe=s.current)==null?void 0:oe.getMap();if(I){if(U==="overview"){j(I),S!=="overview"&&M();return}S!=="follow"&&M(),(te=L==null?void 0:L.courierProfile)!=null&&te.currentLocation&&(q(I,L.courierProfile.currentLocation,{force:!0}),I.easeTo({bearing:a,duration:300,easing:ie=>ie*(2-ie),essential:!0}))}};if(!p)return f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-gray-600 mb-4",children:"Loading navigation..."}),f.jsx("button",{onClick:()=>e("/dashboard"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Back to Dashboard"})]})});const H=(C==null?void 0:C.distance)||0;return console.log(" Rendering navigation page with:",{hasJob:!!p,hasRoute:!!C,numSegments:O.length,segmentCoords:(A=(E=O[0])==null?void 0:E.coordinates)==null?void 0:A.length,orientationPermission:c,needsPermissionPrompt:c==="prompt"}),f.jsxs("div",{className:"fixed inset-0 w-screen h-screen overflow-hidden bg-gray-900",style:{touchAction:"none"},children:[f.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 pointer-events-none",children:f.jsx("div",{className:"pointer-events-auto",children:f.jsx(oN,{currentStep:g,distanceToTurn:x,timeRemaining:b,totalDistance:H,onExit:B})})}),f.jsx("div",{className:"absolute inset-0",children:f.jsx(Po,{ref:s,pickup:p.pickup,dropoff:p.dropoff,courierLocation:((P=L==null?void 0:L.courierProfile)==null?void 0:P.currentLocation)||null,routeSegments:O,height:"100%"})}),f.jsx("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-10",children:f.jsxs("div",{className:"flex items-center gap-1 bg-white/95 backdrop-blur rounded-full shadow-lg p-1",children:[f.jsx("button",{onClick:()=>$("follow"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-colors ${S==="follow"?"bg-emerald-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Follow"}),f.jsx("button",{onClick:()=>$("overview"),className:`px-4 py-2 rounded-full text-sm font-semibold transition-colors ${S==="overview"?"bg-blue-600 text-white":"text-gray-700 hover:bg-gray-100"}`,children:"Overview"})]})}),f.jsx("div",{className:"absolute top-4 left-4 z-10 bg-green-500 text-white px-3 py-1 rounded-full text-sm font-medium shadow-lg",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"Navigating"]})}),c==="prompt"&&f.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 bg-white rounded-2xl shadow-2xl p-6 max-w-sm mx-4",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Enable Compass"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Allow compass access to rotate the map as you turn your phone for better navigation."}),f.jsx("button",{onClick:N,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"Enable Compass"}),f.jsx("button",{onClick:()=>u("denied"),className:"w-full mt-2 px-6 py-2 text-gray-600 text-sm",children:"Skip"})]})}),c==="prompt"&&f.jsx("div",{className:"absolute inset-0 bg-black/50 z-40"})]})}function VS(e={}){const[n,s]=k.useState([]),[a,o]=k.useState(!0),[c,u]=k.useState(null),{uid:d,loading:m}=ys();return k.useEffect(()=>{if(!Xe){o(!1);return}if(m)return;if(!d){s([]),o(!1);return}const y=[];e.status&&y.push(Is("status","==",e.status)),e.courierId&&y.push(Is("courierId","==",e.courierId));const p=bc(vc(Xe,"routes"),...y),g=Ro(p,x=>{const b=x.docs.map(S=>{const T=S.data();return{...T,routeId:T.routeId||S.id}});s(b),o(!1)},x=>{console.error("Error fetching routes:",x),u(x),o(!1)});return()=>g()},[e.status,e.courierId,d,m]),{routes:n,loading:a,error:c}}function cN(){const[e,n]=k.useState(null),[s,a]=k.useState(!0),[o,c]=k.useState(null);return k.useEffect(()=>{const u=Ro(xt(Xe,"featureFlags","config"),d=>{d.exists()?n(d.data()):n({marketplace:{enabled:!0,itemListings:!0,combinedPayments:!0},delivery:{onDemand:!0,routes:!0,longRoutes:!1,longHaul:!1},courier:{rateCards:!0,equipmentBadges:!0,workModes:!0},seller:{stripeConnect:!0,multiplePhotos:!0,foodListings:!0},customer:{liveTracking:!0,proofPhotos:!0,routeDelivery:!1,packageShipping:!0},packageRunner:{enabled:!0,hubNetwork:!0,packageTracking:!0},admin:{courierApproval:!0,equipmentReview:!0,disputeManagement:!0,analytics:!0,featureFlagsControl:!0},advanced:{pushNotifications:!0,ratingEnforcement:!0,autoCancel:!0,refunds:!0},ui:{modernStyling:!0,darkMode:!0,animations:!0}}),a(!1)},d=>{console.error("Error loading feature flags:",d),c(d),a(!1)});return()=>u()},[]),{flags:e,loading:s,error:o}}const Mm=k.createContext({});function Nm(e){const n=k.useRef(null);return n.current===null&&(n.current=e()),n.current}const LS=typeof window<"u",OS=LS?k.useLayoutEffect:k.useEffect,Wc=k.createContext(null);function Dm(e,n){e.indexOf(n)===-1&&e.push(n)}function Rm(e,n){const s=e.indexOf(n);s>-1&&e.splice(s,1)}const li=(e,n,s)=>s>n?n:s<e?e:s;let km=()=>{};const Li={},PS=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function BS(e){return typeof e=="object"&&e!==null}const US=e=>/^0[^.\s]+$/u.test(e);function zm(e){let n;return()=>(n===void 0&&(n=e()),n)}const _n=e=>e,uN=(e,n)=>s=>n(e(s)),Bo=(...e)=>e.reduce(uN),Co=(e,n,s)=>{const a=n-e;return a===0?1:(s-e)/a};class Vm{constructor(){this.subscriptions=[]}add(n){return Dm(this.subscriptions,n),()=>Rm(this.subscriptions,n)}notify(n,s,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](n,s,a);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(n,s,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zi=e=>e*1e3,$n=e=>e/1e3;function $S(e,n){return n?e*(1e3/n):0}const _S=(e,n,s)=>(((1-3*s+3*n)*e+(3*s-6*n))*e+3*n)*e,dN=1e-7,fN=12;function hN(e,n,s,a,o){let c,u,d=0;do u=n+(s-n)/2,c=_S(u,a,o)-e,c>0?s=u:n=u;while(Math.abs(c)>dN&&++d<fN);return u}function Uo(e,n,s,a){if(e===n&&s===a)return _n;const o=c=>hN(c,0,1,e,s);return c=>c===0||c===1?c:_S(o(c),n,a)}const FS=e=>n=>n<=.5?e(2*n)/2:(2-e(2*(1-n)))/2,HS=e=>n=>1-e(1-n),GS=Uo(.33,1.53,.69,.99),Lm=HS(GS),qS=FS(Lm),YS=e=>(e*=2)<1?.5*Lm(e):.5*(2-Math.pow(2,-10*(e-1))),Om=e=>1-Math.sin(Math.acos(e)),XS=HS(Om),IS=FS(Om),mN=Uo(.42,0,1,1),pN=Uo(0,0,.58,1),KS=Uo(.42,0,.58,1),gN=e=>Array.isArray(e)&&typeof e[0]!="number",WS=e=>Array.isArray(e)&&typeof e[0]=="number",yN={linear:_n,easeIn:mN,easeInOut:KS,easeOut:pN,circIn:Om,circInOut:IS,circOut:XS,backIn:Lm,backInOut:qS,backOut:GS,anticipate:YS},xN=e=>typeof e=="string",Gv=e=>{if(WS(e)){km(e.length===4);const[n,s,a,o]=e;return Uo(n,s,a,o)}else if(xN(e))return yN[e];return e},rc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vN(e,n){let s=new Set,a=new Set,o=!1,c=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(p){u.has(p)&&(y.schedule(p),e()),p(d)}const y={schedule:(p,g=!1,x=!1)=>{const S=x&&o?s:a;return g&&u.add(p),S.has(p)||S.add(p),p},cancel:p=>{a.delete(p),u.delete(p)},process:p=>{if(d=p,o){c=!0;return}o=!0,[s,a]=[a,s],s.forEach(m),s.clear(),o=!1,c&&(c=!1,y.process(p))}};return y}const bN=40;function ZS(e,n){let s=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=rc.reduce((z,O)=>(z[O]=vN(c),z),{}),{setup:d,read:m,resolveKeyframes:y,preUpdate:p,update:g,preRender:x,render:b,postRender:S}=u,T=()=>{const z=Li.useManualTiming?o.timestamp:performance.now();s=!1,Li.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(z-o.timestamp,bN),1)),o.timestamp=z,o.isProcessing=!0,d.process(o),m.process(o),y.process(o),p.process(o),g.process(o),x.process(o),b.process(o),S.process(o),o.isProcessing=!1,s&&n&&(a=!1,e(T))},M=()=>{s=!0,a=!0,o.isProcessing||e(T)};return{schedule:rc.reduce((z,O)=>{const _=u[O];return z[O]=(D,q=!1,j=!1)=>(s||M(),_.schedule(D,q,j)),z},{}),cancel:z=>{for(let O=0;O<rc.length;O++)u[rc[O]].cancel(z)},state:o,steps:u}}const{schedule:ot,cancel:ms,state:Xt,steps:Of}=ZS(typeof requestAnimationFrame<"u"?requestAnimationFrame:_n,!0);let mc;function SN(){mc=void 0}const nn={now:()=>(mc===void 0&&nn.set(Xt.isProcessing||Li.useManualTiming?Xt.timestamp:performance.now()),mc),set:e=>{mc=e,queueMicrotask(SN)}},QS=e=>n=>typeof n=="string"&&n.startsWith(e),JS=QS("--"),wN=QS("var(--"),Pm=e=>wN(e)?jN.test(e.split("/*")[0].trim()):!1,jN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function qv(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const cr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Eo={...cr,transform:e=>li(0,1,e)},oc={...cr,default:1},yo=e=>Math.round(e*1e5)/1e5,Bm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function TN(e){return e==null}const AN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Um=(e,n)=>s=>!!(typeof s=="string"&&AN.test(s)&&s.startsWith(e)||n&&!TN(s)&&Object.prototype.hasOwnProperty.call(s,n)),ew=(e,n,s)=>a=>{if(typeof a!="string")return a;const[o,c,u,d]=a.match(Bm);return{[e]:parseFloat(o),[n]:parseFloat(c),[s]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},CN=e=>li(0,255,e),Pf={...cr,transform:e=>Math.round(CN(e))},qs={test:Um("rgb","red"),parse:ew("red","green","blue"),transform:({red:e,green:n,blue:s,alpha:a=1})=>"rgba("+Pf.transform(e)+", "+Pf.transform(n)+", "+Pf.transform(s)+", "+yo(Eo.transform(a))+")"};function EN(e){let n="",s="",a="",o="";return e.length>5?(n=e.substring(1,3),s=e.substring(3,5),a=e.substring(5,7),o=e.substring(7,9)):(n=e.substring(1,2),s=e.substring(2,3),a=e.substring(3,4),o=e.substring(4,5),n+=n,s+=s,a+=a,o+=o),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const bh={test:Um("#"),parse:EN,transform:qs.transform},$o=e=>({test:n=>typeof n=="string"&&n.endsWith(e)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${e}`}),cs=$o("deg"),oi=$o("%"),ge=$o("px"),MN=$o("vh"),NN=$o("vw"),Yv={...oi,parse:e=>oi.parse(e)/100,transform:e=>oi.transform(e*100)},Xa={test:Um("hsl","hue"),parse:ew("hue","saturation","lightness"),transform:({hue:e,saturation:n,lightness:s,alpha:a=1})=>"hsla("+Math.round(e)+", "+oi.transform(yo(n))+", "+oi.transform(yo(s))+", "+yo(Eo.transform(a))+")"},Nt={test:e=>qs.test(e)||bh.test(e)||Xa.test(e),parse:e=>qs.test(e)?qs.parse(e):Xa.test(e)?Xa.parse(e):bh.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?qs.transform(e):Xa.transform(e),getAnimatableNone:e=>{const n=Nt.parse(e);return n.alpha=0,Nt.transform(n)}},DN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RN(e){var n,s;return isNaN(e)&&typeof e=="string"&&(((n=e.match(Bm))==null?void 0:n.length)||0)+(((s=e.match(DN))==null?void 0:s.length)||0)>0}const tw="number",nw="color",kN="var",zN="var(",Xv="${}",VN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mo(e){const n=e.toString(),s=[],a={color:[],number:[],var:[]},o=[];let c=0;const d=n.replace(VN,m=>(Nt.test(m)?(a.color.push(c),o.push(nw),s.push(Nt.parse(m))):m.startsWith(zN)?(a.var.push(c),o.push(kN),s.push(m)):(a.number.push(c),o.push(tw),s.push(parseFloat(m))),++c,Xv)).split(Xv);return{values:s,split:d,indexes:a,types:o}}function iw(e){return Mo(e).values}function sw(e){const{split:n,types:s}=Mo(e),a=n.length;return o=>{let c="";for(let u=0;u<a;u++)if(c+=n[u],o[u]!==void 0){const d=s[u];d===tw?c+=yo(o[u]):d===nw?c+=Nt.transform(o[u]):c+=o[u]}return c}}const LN=e=>typeof e=="number"?0:Nt.test(e)?Nt.getAnimatableNone(e):e;function ON(e){const n=iw(e);return sw(e)(n.map(LN))}const ps={test:RN,parse:iw,createTransformer:sw,getAnimatableNone:ON};function Bf(e,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(n-e)*6*s:s<1/2?n:s<2/3?e+(n-e)*(2/3-s)*6:e}function PN({hue:e,saturation:n,lightness:s,alpha:a}){e/=360,n/=100,s/=100;let o=0,c=0,u=0;if(!n)o=c=u=s;else{const d=s<.5?s*(1+n):s+n-s*n,m=2*s-d;o=Bf(m,d,e+1/3),c=Bf(m,d,e),u=Bf(m,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:a}}function kc(e,n){return s=>s>0?n:e}const ht=(e,n,s)=>e+(n-e)*s,Uf=(e,n,s)=>{const a=e*e,o=s*(n*n-a)+a;return o<0?0:Math.sqrt(o)},BN=[bh,qs,Xa],UN=e=>BN.find(n=>n.test(e));function Iv(e){const n=UN(e);if(!n)return!1;let s=n.parse(e);return n===Xa&&(s=PN(s)),s}const Kv=(e,n)=>{const s=Iv(e),a=Iv(n);if(!s||!a)return kc(e,n);const o={...s};return c=>(o.red=Uf(s.red,a.red,c),o.green=Uf(s.green,a.green,c),o.blue=Uf(s.blue,a.blue,c),o.alpha=ht(s.alpha,a.alpha,c),qs.transform(o))},Sh=new Set(["none","hidden"]);function $N(e,n){return Sh.has(e)?s=>s<=0?e:n:s=>s>=1?n:e}function _N(e,n){return s=>ht(e,n,s)}function $m(e){return typeof e=="number"?_N:typeof e=="string"?Pm(e)?kc:Nt.test(e)?Kv:GN:Array.isArray(e)?aw:typeof e=="object"?Nt.test(e)?Kv:FN:kc}function aw(e,n){const s=[...e],a=s.length,o=e.map((c,u)=>$m(c)(c,n[u]));return c=>{for(let u=0;u<a;u++)s[u]=o[u](c);return s}}function FN(e,n){const s={...e,...n},a={};for(const o in s)e[o]!==void 0&&n[o]!==void 0&&(a[o]=$m(e[o])(e[o],n[o]));return o=>{for(const c in a)s[c]=a[c](o);return s}}function HN(e,n){const s=[],a={color:0,var:0,number:0};for(let o=0;o<n.values.length;o++){const c=n.types[o],u=e.indexes[c][a[c]],d=e.values[u]??0;s[o]=d,a[c]++}return s}const GN=(e,n)=>{const s=ps.createTransformer(n),a=Mo(e),o=Mo(n);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?Sh.has(e)&&!o.values.length||Sh.has(n)&&!a.values.length?$N(e,n):Bo(aw(HN(a,o),o.values),s):kc(e,n)};function rw(e,n,s){return typeof e=="number"&&typeof n=="number"&&typeof s=="number"?ht(e,n,s):$m(e)(e,n)}const qN=e=>{const n=({timestamp:s})=>e(s);return{start:(s=!0)=>ot.update(n,s),stop:()=>ms(n),now:()=>Xt.isProcessing?Xt.timestamp:nn.now()}},ow=(e,n,s=10)=>{let a="";const o=Math.max(Math.round(n/s),2);for(let c=0;c<o;c++)a+=Math.round(e(c/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},zc=2e4;function _m(e){let n=0;const s=50;let a=e.next(n);for(;!a.done&&n<zc;)n+=s,a=e.next(n);return n>=zc?1/0:n}function YN(e,n=100,s){const a=s({...e,keyframes:[0,n]}),o=Math.min(_m(a),zc);return{type:"keyframes",ease:c=>a.next(o*c).value/n,duration:$n(o)}}const XN=5;function lw(e,n,s){const a=Math.max(n-XN,0);return $S(s-e(a),n-a)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$f=.001;function IN({duration:e=yt.duration,bounce:n=yt.bounce,velocity:s=yt.velocity,mass:a=yt.mass}){let o,c,u=1-n;u=li(yt.minDamping,yt.maxDamping,u),e=li(yt.minDuration,yt.maxDuration,$n(e)),u<1?(o=y=>{const p=y*u,g=p*e,x=p-s,b=wh(y,u),S=Math.exp(-g);return $f-x/b*S},c=y=>{const g=y*u*e,x=g*s+s,b=Math.pow(u,2)*Math.pow(y,2)*e,S=Math.exp(-g),T=wh(Math.pow(y,2),u);return(-o(y)+$f>0?-1:1)*((x-b)*S)/T}):(o=y=>{const p=Math.exp(-y*e),g=(y-s)*e+1;return-$f+p*g},c=y=>{const p=Math.exp(-y*e),g=(s-y)*(e*e);return p*g});const d=5/e,m=WN(o,c,d);if(e=zi(e),isNaN(m))return{stiffness:yt.stiffness,damping:yt.damping,duration:e};{const y=Math.pow(m,2)*a;return{stiffness:y,damping:u*2*Math.sqrt(a*y),duration:e}}}const KN=12;function WN(e,n,s){let a=s;for(let o=1;o<KN;o++)a=a-e(a)/n(a);return a}function wh(e,n){return e*Math.sqrt(1-n*n)}const ZN=["duration","bounce"],QN=["stiffness","damping","mass"];function Wv(e,n){return n.some(s=>e[s]!==void 0)}function JN(e){let n={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...e};if(!Wv(e,QN)&&Wv(e,ZN))if(e.visualDuration){const s=e.visualDuration,a=2*Math.PI/(s*1.2),o=a*a,c=2*li(.05,1,1-(e.bounce||0))*Math.sqrt(o);n={...n,mass:yt.mass,stiffness:o,damping:c}}else{const s=IN(e);n={...n,...s,mass:yt.mass},n.isResolvedFromDuration=!0}return n}function Vc(e=yt.visualDuration,n=yt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:n}:e;let{restSpeed:a,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],d={done:!1,value:c},{stiffness:m,damping:y,mass:p,duration:g,velocity:x,isResolvedFromDuration:b}=JN({...s,velocity:-$n(s.velocity||0)}),S=x||0,T=y/(2*Math.sqrt(m*p)),M=u-c,C=$n(Math.sqrt(m/p)),L=Math.abs(M)<5;a||(a=L?yt.restSpeed.granular:yt.restSpeed.default),o||(o=L?yt.restDelta.granular:yt.restDelta.default);let z;if(T<1){const _=wh(C,T);z=D=>{const q=Math.exp(-T*C*D);return u-q*((S+T*C*M)/_*Math.sin(_*D)+M*Math.cos(_*D))}}else if(T===1)z=_=>u-Math.exp(-C*_)*(M+(S+C*M)*_);else{const _=C*Math.sqrt(T*T-1);z=D=>{const q=Math.exp(-T*C*D),j=Math.min(_*D,300);return u-q*((S+T*C*M)*Math.sinh(j)+_*M*Math.cosh(j))/_}}const O={calculatedDuration:b&&g||null,next:_=>{const D=z(_);if(b)d.done=_>=g;else{let q=_===0?S:0;T<1&&(q=_===0?zi(S):lw(z,_,D));const j=Math.abs(q)<=a,N=Math.abs(u-D)<=o;d.done=j&&N}return d.value=d.done?u:D,d},toString:()=>{const _=Math.min(_m(O),zc),D=ow(q=>O.next(_*q).value,_,30);return _+"ms "+D},toTransition:()=>{}};return O}Vc.applyToOptions=e=>{const n=YN(e,100,Vc);return e.ease=n.ease,e.duration=zi(n.duration),e.type="keyframes",e};function jh({keyframes:e,velocity:n=0,power:s=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:d,max:m,restDelta:y=.5,restSpeed:p}){const g=e[0],x={done:!1,value:g},b=j=>d!==void 0&&j<d||m!==void 0&&j>m,S=j=>d===void 0?m:m===void 0||Math.abs(d-j)<Math.abs(m-j)?d:m;let T=s*n;const M=g+T,C=u===void 0?M:u(M);C!==M&&(T=C-g);const L=j=>-T*Math.exp(-j/a),z=j=>C+L(j),O=j=>{const N=L(j),V=z(j);x.done=Math.abs(N)<=y,x.value=x.done?C:V};let _,D;const q=j=>{b(x.value)&&(_=j,D=Vc({keyframes:[x.value,S(x.value)],velocity:lw(z,j,x.value),damping:o,stiffness:c,restDelta:y,restSpeed:p}))};return q(0),{calculatedDuration:null,next:j=>{let N=!1;return!D&&_===void 0&&(N=!0,O(j),q(j)),_!==void 0&&j>=_?D.next(j-_):(!N&&O(j),x)}}}function eD(e,n,s){const a=[],o=s||Li.mix||rw,c=e.length-1;for(let u=0;u<c;u++){let d=o(e[u],e[u+1]);if(n){const m=Array.isArray(n)?n[u]||_n:n;d=Bo(m,d)}a.push(d)}return a}function tD(e,n,{clamp:s=!0,ease:a,mixer:o}={}){const c=e.length;if(km(c===n.length),c===1)return()=>n[0];if(c===2&&n[0]===n[1])return()=>n[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),n=[...n].reverse());const d=eD(n,a,o),m=d.length,y=p=>{if(u&&p<e[0])return n[0];let g=0;if(m>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const x=Co(e[g],e[g+1],p);return d[g](x)};return s?p=>y(li(e[0],e[c-1],p)):y}function nD(e,n){const s=e[e.length-1];for(let a=1;a<=n;a++){const o=Co(0,n,a);e.push(ht(s,1,o))}}function iD(e){const n=[0];return nD(n,e.length-1),n}function sD(e,n){return e.map(s=>s*n)}function aD(e,n){return e.map(()=>n||KS).splice(0,e.length-1)}function xo({duration:e=300,keyframes:n,times:s,ease:a="easeInOut"}){const o=gN(a)?a.map(Gv):Gv(a),c={done:!1,value:n[0]},u=sD(s&&s.length===n.length?s:iD(n),e),d=tD(u,n,{ease:Array.isArray(o)?o:aD(n,o)});return{calculatedDuration:e,next:m=>(c.value=d(m),c.done=m>=e,c)}}const rD=e=>e!==null;function Fm(e,{repeat:n,repeatType:s="loop"},a,o=1){const c=e.filter(rD),d=o<0||n&&s!=="loop"&&n%2===1?0:c.length-1;return!d||a===void 0?c[d]:a}const oD={decay:jh,inertia:jh,tween:xo,keyframes:xo,spring:Vc};function cw(e){typeof e.type=="string"&&(e.type=oD[e.type])}class Hm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,s){return this.finished.then(n,s)}}const lD=e=>e/100;class Gm extends Hm{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,o;const{motionValue:s}=this.options;s&&s.updatedAt!==nn.now()&&this.tick(nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(a=this.options).onStop)==null||o.call(a))},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;cw(n);const{type:s=xo,repeat:a=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=n;let{keyframes:d}=n;const m=s||xo;m!==xo&&typeof d[0]!="number"&&(this.mixKeyframes=Bo(lD,rw(d[0],d[1])),d=[0,100]);const y=m({...n,keyframes:d});c==="mirror"&&(this.mirroredGenerator=m({...n,keyframes:[...d].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=_m(y));const{calculatedDuration:p}=y;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=y}updateTime(n){const s=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(n,s=!1){const{generator:a,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return a.next(0);const{delay:y=0,keyframes:p,repeat:g,repeatType:x,repeatDelay:b,type:S,onUpdate:T,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-o/this.speed,this.startTime)),s?this.currentTime=n:this.updateTime(n);const C=this.currentTime-y*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?C<0:C>o;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let z=this.currentTime,O=a;if(g){const j=Math.min(this.currentTime,o)/d;let N=Math.floor(j),V=j%1;!V&&j>=1&&(V=1),V===1&&N--,N=Math.min(N,g+1),!!(N%2)&&(x==="reverse"?(V=1-V,b&&(V-=b/d)):x==="mirror"&&(O=u)),z=li(0,1,V)*d}const _=L?{done:!1,value:p[0]}:O.next(z);c&&(_.value=c(_.value));let{done:D}=_;!L&&m!==null&&(D=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const q=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return q&&S!==jh&&(_.value=Fm(p,this.options,M,this.speed)),T&&T(_.value),q&&this.finish(),_}then(n,s){return this.finished.then(n,s)}get duration(){return $n(this.calculatedDuration)}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+$n(n)}get time(){return $n(this.currentTime)}set time(n){var s;n=zi(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(nn.now());const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=$n(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:n=qN,startTime:s}=this.options;this.driver||(this.driver=n(u=>this.tick(u))),(c=(o=this.options).onPlay)==null||c.call(o);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=s??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var n,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(n=this.options).onComplete)==null||s.call(n)}cancel(){var n,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(n=this.options).onCancel)==null||s.call(n)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),n.observe(this)}}function cD(e){for(let n=1;n<e.length;n++)e[n]??(e[n]=e[n-1])}const Ys=e=>e*180/Math.PI,Th=e=>{const n=Ys(Math.atan2(e[1],e[0]));return Ah(n)},uD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Th,rotateZ:Th,skewX:e=>Ys(Math.atan(e[1])),skewY:e=>Ys(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ah=e=>(e=e%360,e<0&&(e+=360),e),Zv=Th,Qv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),dD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Qv,scaleY:Jv,scale:e=>(Qv(e)+Jv(e))/2,rotateX:e=>Ah(Ys(Math.atan2(e[6],e[5]))),rotateY:e=>Ah(Ys(Math.atan2(-e[2],e[0]))),rotateZ:Zv,rotate:Zv,skewX:e=>Ys(Math.atan(e[4])),skewY:e=>Ys(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ch(e){return e.includes("scale")?1:0}function Eh(e,n){if(!e||e==="none")return Ch(n);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(s)a=dD,o=s;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=uD,o=d}if(!o)return Ch(n);const c=a[n],u=o[1].split(",").map(hD);return typeof c=="function"?c(u):u[c]}const fD=(e,n)=>{const{transform:s="none"}=getComputedStyle(e);return Eh(s,n)};function hD(e){return parseFloat(e.trim())}const ur=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dr=new Set(ur),eb=e=>e===cr||e===ge,mD=new Set(["x","y","z"]),pD=ur.filter(e=>!mD.has(e));function gD(e){const n=[];return pD.forEach(s=>{const a=e.getValue(s);a!==void 0&&(n.push([s,a.get()]),a.set(s.startsWith("scale")?1:0))}),n}const ds={width:({x:e},{paddingLeft:n="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),height:({y:e},{paddingTop:n="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(n)-parseFloat(s),top:(e,{top:n})=>parseFloat(n),left:(e,{left:n})=>parseFloat(n),bottom:({y:e},{top:n})=>parseFloat(n)+(e.max-e.min),right:({x:e},{left:n})=>parseFloat(n)+(e.max-e.min),x:(e,{transform:n})=>Eh(n,"x"),y:(e,{transform:n})=>Eh(n,"y")};ds.translateX=ds.x;ds.translateY=ds.y;const Ws=new Set;let Mh=!1,Nh=!1,Dh=!1;function uw(){if(Nh){const e=Array.from(Ws).filter(a=>a.needsMeasurement),n=new Set(e.map(a=>a.element)),s=new Map;n.forEach(a=>{const o=gD(a);o.length&&(s.set(a,o),a.render())}),e.forEach(a=>a.measureInitialState()),n.forEach(a=>{a.render();const o=s.get(a);o&&o.forEach(([c,u])=>{var d;(d=a.getValue(c))==null||d.set(u)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}Nh=!1,Mh=!1,Ws.forEach(e=>e.complete(Dh)),Ws.clear()}function dw(){Ws.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Nh=!0)})}function yD(){Dh=!0,dw(),uw(),Dh=!1}class qm{constructor(n,s,a,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=a,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ws.add(this),Mh||(Mh=!0,ot.read(dw),ot.resolveKeyframes(uw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:a,motionValue:o}=this;if(n[0]===null){const c=o==null?void 0:o.get(),u=n[n.length-1];if(c!==void 0)n[0]=c;else if(a&&s){const d=a.readValue(s,u);d!=null&&(n[0]=d)}n[0]===void 0&&(n[0]=u),o&&c===void 0&&o.set(n[0])}cD(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),Ws.delete(this)}cancel(){this.state==="scheduled"&&(Ws.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xD=e=>e.startsWith("--");function vD(e,n,s){xD(n)?e.style.setProperty(n,s):e.style[n]=s}const bD=zm(()=>window.ScrollTimeline!==void 0),SD={};function wD(e,n){const s=zm(e);return()=>SD[n]??s()}const fw=wD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),uo=([e,n,s,a])=>`cubic-bezier(${e}, ${n}, ${s}, ${a})`,tb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:uo([0,.65,.55,1]),circOut:uo([.55,0,1,.45]),backIn:uo([.31,.01,.66,-.59]),backOut:uo([.33,1.53,.69,.99])};function hw(e,n){if(e)return typeof e=="function"?fw()?ow(e,n):"ease-out":WS(e)?uo(e):Array.isArray(e)?e.map(s=>hw(s,n)||tb.easeOut):tb[e]}function jD(e,n,s,{delay:a=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:d="easeOut",times:m}={},y=void 0){const p={[n]:s};m&&(p.offset=m);const g=hw(d,o);Array.isArray(g)&&(p.easing=g);const x={delay:a,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return y&&(x.pseudoElement=y),e.animate(p,x)}function mw(e){return typeof e=="function"&&"applyToOptions"in e}function TD({type:e,...n}){return mw(e)&&fw()?e.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class AD extends Hm{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!n)return;const{element:s,name:a,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:d,onComplete:m}=n;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=n,km(typeof n.type!="string");const y=TD(n);this.animation=jD(s,a,o,y,c),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const p=Fm(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):vD(s,a,p),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var n,s;(s=(n=this.animation).finish)==null||s.call(n)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,s;this.isPseudoElement||(s=(n=this.animation).commitStyles)==null||s.call(n)}get duration(){var s,a;const n=((a=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:a.call(s).duration)||0;return $n(Number(n))}get iterationDuration(){const{delay:n=0}=this.options||{};return this.duration+$n(n)}get time(){return $n(Number(this.animation.currentTime)||0)}set time(n){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=zi(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(n){this.manualStartTime=this.animation.startTime=n}attachTimeline({timeline:n,observe:s}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,n&&bD()?(this.animation.timeline=n,_n):s(this)}}const pw={anticipate:YS,backInOut:qS,circInOut:IS};function CD(e){return e in pw}function ED(e){typeof e.ease=="string"&&CD(e.ease)&&(e.ease=pw[e.ease])}const _f=10;class MD extends AD{constructor(n){ED(n),cw(n),super(n),n.startTime!==void 0&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:s,onUpdate:a,onComplete:o,element:c,...u}=this.options;if(!s)return;if(n!==void 0){s.set(n);return}const d=new Gm({...u,autoplay:!1}),m=Math.max(_f,nn.now()-this.startTime),y=li(0,_f,m-_f);s.setWithVelocity(d.sample(Math.max(0,m-y)).value,d.sample(m).value,y),d.stop()}}const nb=(e,n)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ps.test(e)||e==="0")&&!e.startsWith("url("));function ND(e){const n=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==n)return!0}function DD(e,n,s,a){const o=e[0];if(o===null)return!1;if(n==="display"||n==="visibility")return!0;const c=e[e.length-1],u=nb(o,n),d=nb(c,n);return!u||!d?!1:ND(e)||(s==="spring"||mw(s))&&a}function Rh(e){e.duration=0,e.type="keyframes"}const RD=new Set(["opacity","clipPath","filter","transform"]),kD=zm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function zD(e){var p;const{motionValue:n,name:s,repeatDelay:a,repeatType:o,damping:c,type:u}=e;if(!(((p=n==null?void 0:n.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:y}=n.owner.getProps();return kD()&&s&&RD.has(s)&&(s!=="transform"||!y)&&!m&&!a&&o!=="mirror"&&c!==0&&u!=="inertia"}const VD=40;class LD extends Hm{constructor({autoplay:n=!0,delay:s=0,type:a="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:d,name:m,motionValue:y,element:p,...g}){var S;super(),this.stop=()=>{var T,M;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=nn.now();const x={autoplay:n,delay:s,type:a,repeat:o,repeatDelay:c,repeatType:u,name:m,motionValue:y,element:p,...g},b=(p==null?void 0:p.KeyframeResolver)||qm;this.keyframeResolver=new b(d,(T,M,C)=>this.onKeyframesResolved(T,M,x,!C),m,y,p),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(n,s,a,o){var M,C;this.keyframeResolver=void 0;const{name:c,type:u,velocity:d,delay:m,isHandoff:y,onUpdate:p}=a;this.resolvedAt=nn.now(),DD(n,c,u,d)||((Li.instantAnimations||!m)&&(p==null||p(Fm(n,a,s))),n[0]=n[n.length-1],Rh(a),a.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>VD?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...a,keyframes:n},b=!y&&zD(x),S=(C=(M=x.motionValue)==null?void 0:M.owner)==null?void 0:C.current,T=b?new MD({...x,element:S}):new Gm(x);T.finished.then(()=>{this.notifyFinished()}).catch(_n),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(n,s){return this.finished.finally(n).then(()=>{})}get animation(){var n;return this._animation||((n=this.keyframeResolver)==null||n.resume(),yD()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var n;this._animation&&this.animation.cancel(),(n=this.keyframeResolver)==null||n.cancel()}}function gw(e,n,s,a=0,o=1){const c=Array.from(e).sort((y,p)=>y.sortNodePosition(p)).indexOf(n),u=e.size,d=(u-1)*a;return typeof s=="function"?s(c,u):o===1?c*a:d-c*a}const OD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PD(e){const n=OD.exec(e);if(!n)return[,];const[,s,a,o]=n;return[`--${s??a}`,o]}function yw(e,n,s=1){const[a,o]=PD(e);if(!a)return;const c=window.getComputedStyle(n).getPropertyValue(a);if(c){const u=c.trim();return PS(u)?parseFloat(u):u}return Pm(o)?yw(o,n,s+1):o}const BD={type:"spring",stiffness:500,damping:25,restSpeed:10},UD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$D={type:"keyframes",duration:.8},_D={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FD=(e,{keyframes:n})=>n.length>2?$D:dr.has(e)?e.startsWith("scale")?UD(n[1]):BD:_D,HD=e=>e!==null;function GD(e,{repeat:n,repeatType:s="loop"},a){const o=e.filter(HD),c=n&&s!=="loop"&&n%2===1?0:o.length-1;return o[c]}function Ym(e,n){return(e==null?void 0:e[n])??(e==null?void 0:e.default)??e}function qD({when:e,delay:n,delayChildren:s,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:d,from:m,elapsed:y,...p}){return!!Object.keys(p).length}const Xm=(e,n,s,a={},o,c)=>u=>{const d=Ym(a,e)||{},m=d.delay||a.delay||0;let{elapsed:y=0}=a;y=y-zi(m);const p={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...d,delay:-y,onUpdate:x=>{n.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:e,motionValue:n,element:c?void 0:o};qD(d)||Object.assign(p,FD(e,p)),p.duration&&(p.duration=zi(p.duration)),p.repeatDelay&&(p.repeatDelay=zi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Rh(p),p.delay===0&&(g=!0)),(Li.instantAnimations||Li.skipAnimations)&&(g=!0,Rh(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,g&&!c&&n.get()!==void 0){const x=GD(p.keyframes,d);if(x!==void 0){ot.update(()=>{p.onUpdate(x),p.onComplete()});return}}return d.isSync?new Gm(p):new LD(p)};function ib(e){const n=[{},{}];return e==null||e.values.forEach((s,a)=>{n[0][a]=s.get(),n[1][a]=s.getVelocity()}),n}function Im(e,n,s,a){if(typeof n=="function"){const[o,c]=ib(a);n=n(s!==void 0?s:e.custom,o,c)}if(typeof n=="string"&&(n=e.variants&&e.variants[n]),typeof n=="function"){const[o,c]=ib(a);n=n(s!==void 0?s:e.custom,o,c)}return n}function Qa(e,n,s){const a=e.getProps();return Im(a,n,s!==void 0?s:a.custom,e)}const xw=new Set(["width","height","top","left","right","bottom",...ur]),sb=30,YD=e=>!isNaN(parseFloat(e));class XD{constructor(n,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var c;const o=nn.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=nn.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=YD(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new Vm);const a=this.events[n].add(s);return n==="change"?()=>{a(),ot.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,s,a){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-a}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var n;(n=this.events.change)==null||n.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>sb)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,sb);return $S(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var n,s;(n=this.dependents)==null||n.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sr(e,n){return new XD(e,n)}const kh=e=>Array.isArray(e);function ID(e,n,s){e.hasValue(n)?e.getValue(n).set(s):e.addValue(n,sr(s))}function KD(e){return kh(e)?e[e.length-1]||0:e}function WD(e,n){const s=Qa(e,n);let{transitionEnd:a={},transition:o={},...c}=s||{};c={...c,...a};for(const u in c){const d=KD(c[u]);ID(e,u,d)}}const Jt=e=>!!(e&&e.getVelocity);function ZD(e){return!!(Jt(e)&&e.add)}function zh(e,n){const s=e.getValue("willChange");if(ZD(s))return s.add(n);if(!s&&Li.WillChange){const a=new Li.WillChange("auto");e.addValue("willChange",a),a.add(n)}}function Km(e){return e.replace(/([A-Z])/g,n=>`-${n.toLowerCase()}`)}const QD="framerAppearId",vw="data-"+Km(QD);function bw(e){return e.props[vw]}function JD({protectedKeys:e,needsAnimating:n},s){const a=e.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,a}function Sw(e,n,{delay:s=0,transitionOverride:a,type:o}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:u,...d}=n;a&&(c=a);const m=[],y=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const g=e.getValue(p,e.latestValues[p]??null),x=d[p];if(x===void 0||y&&JD(y,p))continue;const b={delay:s,...Ym(c||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===S&&!b.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const C=bw(e);if(C){const L=window.MotionHandoffAnimation(C,p,ot);L!==null&&(b.startTime=L,T=!0)}}zh(e,p),g.start(Xm(p,g,x,e.shouldReduceMotion&&xw.has(p)?{type:!1}:b,e,T));const M=g.animation;M&&m.push(M)}return u&&Promise.all(m).then(()=>{ot.update(()=>{u&&WD(e,u)})}),m}function Vh(e,n,s={}){var m;const a=Qa(e,n,s.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=a||{};s.transitionOverride&&(o=s.transitionOverride);const c=a?()=>Promise.all(Sw(e,a,s)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(y=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:x}=o;return eR(e,n,y,p,g,x,s)}:()=>Promise.resolve(),{when:d}=o;if(d){const[y,p]=d==="beforeChildren"?[c,u]:[u,c];return y().then(()=>p())}else return Promise.all([c(),u(s.delay)])}function eR(e,n,s=0,a=0,o=0,c=1,u){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",n),d.push(Vh(m,n,{...u,delay:s+(typeof a=="function"?0:a)+gw(e.variantChildren,m,a,o,c)}).then(()=>m.notify("AnimationComplete",n)));return Promise.all(d)}function tR(e,n,s={}){e.notify("AnimationStart",n);let a;if(Array.isArray(n)){const o=n.map(c=>Vh(e,c,s));a=Promise.all(o)}else if(typeof n=="string")a=Vh(e,n,s);else{const o=typeof n=="function"?Qa(e,n,s.custom):n;a=Promise.all(Sw(e,o,s))}return a.then(()=>{e.notify("AnimationComplete",n)})}const nR={test:e=>e==="auto",parse:e=>e},ww=e=>n=>n.test(e),jw=[cr,ge,oi,cs,NN,MN,nR],ab=e=>jw.find(ww(e));function iR(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||US(e):!0}const sR=new Set(["brightness","contrast","saturate","opacity"]);function aR(e){const[n,s]=e.slice(0,-1).split("(");if(n==="drop-shadow")return e;const[a]=s.match(Bm)||[];if(!a)return e;const o=s.replace(a,"");let c=sR.has(n)?1:0;return a!==s&&(c*=100),n+"("+c+o+")"}const rR=/\b([a-z-]*)\(.*?\)/gu,Lh={...ps,getAnimatableNone:e=>{const n=e.match(rR);return n?n.map(aR).join(" "):e}},rb={...cr,transform:Math.round},oR={rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:oc,scaleX:oc,scaleY:oc,scaleZ:oc,skew:cs,skewX:cs,skewY:cs,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:Eo,originX:Yv,originY:Yv,originZ:ge},Wm={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,radius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,backgroundPositionX:ge,backgroundPositionY:ge,...oR,zIndex:rb,fillOpacity:Eo,strokeOpacity:Eo,numOctaves:rb},lR={...Wm,color:Nt,backgroundColor:Nt,outlineColor:Nt,fill:Nt,stroke:Nt,borderColor:Nt,borderTopColor:Nt,borderRightColor:Nt,borderBottomColor:Nt,borderLeftColor:Nt,filter:Lh,WebkitFilter:Lh},Tw=e=>lR[e];function Aw(e,n){let s=Tw(e);return s!==Lh&&(s=ps),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const cR=new Set(["auto","none","0"]);function uR(e,n,s){let a=0,o;for(;a<e.length&&!o;){const c=e[a];typeof c=="string"&&!cR.has(c)&&Mo(c).values.length&&(o=e[a]),a++}if(o&&s)for(const c of n)e[c]=Aw(s,o)}class dR extends qm{constructor(n,s,a,o,c){super(n,s,a,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:a}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<n.length;p++){let g=n[p];if(typeof g=="string"&&(g=g.trim(),Pm(g))){const x=yw(g,s.current);x!==void 0&&(n[p]=x),p===n.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!xw.has(a)||n.length!==2)return;const[o,c]=n,u=ab(o),d=ab(c),m=qv(o),y=qv(c);if(m!==y&&ds[a]){this.needsMeasurement=!0;return}if(u!==d)if(eb(u)&&eb(d))for(let p=0;p<n.length;p++){const g=n[p];typeof g=="string"&&(n[p]=parseFloat(g))}else ds[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,a=[];for(let o=0;o<n.length;o++)(n[o]===null||iR(n[o]))&&a.push(o);a.length&&uR(n,a,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:a}=this;if(!n||!n.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[a](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&n.getValue(a,o).jump(o,!1)}measureEndState(){var d;const{element:n,name:s,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const o=n.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=ds[s](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,y])=>{n.getValue(m).set(y)}),this.resolveNoneKeyframes()}}function fR(e,n,s){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let a=document;const o=(s==null?void 0:s[e])??a.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e).filter(a=>a!=null)}const Cw=(e,n)=>n&&typeof e=="number"?n.transform(e):e;function Oh(e){return BS(e)&&"offsetHeight"in e}const{schedule:Zm}=ZS(queueMicrotask,!1),In={x:!1,y:!1};function Ew(){return In.x||In.y}function hR(e){return e==="x"||e==="y"?In[e]?null:(In[e]=!0,()=>{In[e]=!1}):In.x||In.y?null:(In.x=In.y=!0,()=>{In.x=In.y=!1})}function Mw(e,n){const s=fR(e),a=new AbortController,o={passive:!0,...n,signal:a.signal};return[s,o,()=>a.abort()]}function ob(e){return!(e.pointerType==="touch"||Ew())}function mR(e,n,s={}){const[a,o,c]=Mw(e,s),u=d=>{if(!ob(d))return;const{target:m}=d,y=n(m,d);if(typeof y!="function"||!m)return;const p=g=>{ob(g)&&(y(g),m.removeEventListener("pointerleave",p))};m.addEventListener("pointerleave",p,o)};return a.forEach(d=>{d.addEventListener("pointerenter",u,o)}),c}const Nw=(e,n)=>n?e===n?!0:Nw(e,n.parentElement):!1,Qm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,pR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Dw(e){return pR.has(e.tagName)||e.isContentEditable===!0}const pc=new WeakSet;function lb(e){return n=>{n.key==="Enter"&&e(n)}}function Ff(e,n){e.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const gR=(e,n)=>{const s=e.currentTarget;if(!s)return;const a=lb(()=>{if(pc.has(s))return;Ff(s,"down");const o=lb(()=>{Ff(s,"up")}),c=()=>Ff(s,"cancel");s.addEventListener("keyup",o,n),s.addEventListener("blur",c,n)});s.addEventListener("keydown",a,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",a),n)};function cb(e){return Qm(e)&&!Ew()}function yR(e,n,s={}){const[a,o,c]=Mw(e,s),u=d=>{const m=d.currentTarget;if(!cb(d))return;pc.add(m);const y=n(m,d),p=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),pc.has(m)&&pc.delete(m),cb(b)&&typeof y=="function"&&y(b,{success:S})},g=b=>{p(b,m===window||m===document||s.useGlobalTarget||Nw(m,b.target))},x=b=>{p(b,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return a.forEach(d=>{(s.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),Oh(d)&&(d.addEventListener("focus",y=>gR(y,o)),!Dw(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),c}function Rw(e){return BS(e)&&"ownerSVGElement"in e}function xR(e){return Rw(e)&&e.tagName==="svg"}const vR=[...jw,Nt,ps],bR=e=>vR.find(ww(e)),ub=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ia=()=>({x:ub(),y:ub()}),db=()=>({min:0,max:0}),Lt=()=>({x:db(),y:db()}),Ph={current:null},kw={current:!1},SR=typeof window<"u";function wR(){if(kw.current=!0,!!SR)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),n=()=>Ph.current=e.matches;e.addEventListener("change",n),n()}else Ph.current=!1}const jR=new WeakMap;function Zc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function No(e){return typeof e=="string"||Array.isArray(e)}const Jm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ep=["initial",...Jm];function Qc(e){return Zc(e.animate)||ep.some(n=>No(e[n]))}function zw(e){return!!(Qc(e)||e.variants)}function TR(e,n,s){for(const a in n){const o=n[a],c=s[a];if(Jt(o))e.addValue(a,o);else if(Jt(c))e.addValue(a,sr(o,{owner:e}));else if(c!==o)if(e.hasValue(a)){const u=e.getValue(a);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(a);e.addValue(a,sr(u!==void 0?u:o,{owner:e}))}}for(const a in s)n[a]===void 0&&e.removeValue(a);return n}const fb=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Lc={};function Vw(e){Lc=e}function AR(){return Lc}class CR{scrapeMotionValuesFromProps(n,s,a){return{}}constructor({parent:n,props:s,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=nn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ot.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=y,this.parent=n,this.props=s,this.presenceContext=a,this.depth=n?n.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!c,this.isControllingVariants=Qc(s),this.isVariantNode=zw(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(s,{},this);for(const x in g){const b=g[x];m[x]!==void 0&&Jt(b)&&b.set(m[x])}}mount(n){var s;this.current=n,jR.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,o)=>this.bindToMotionValue(o,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(kw.current||wR(),this.shouldReduceMotion=Ph.current),(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var n;this.projection&&this.projection.unmount(),ms(this.notifyUpdate),ms(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(n=this.parent)==null||n.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const a=dr.has(n);a&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[n]=u,this.props.onUpdate&&ot.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in Lc){const s=Lc[n];if(!s)continue;const{isEnabled:a,Feature:o}=s;if(!this.features[n]&&o&&a(this.props)&&(this.features[n]=new o(this)),this.features[n]){const c=this.features[n];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lt()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let a=0;a<fb.length;a++){const o=fb[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=n[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=TR(this,this.scrapeMotionValuesFromProps(n,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const a=this.values.get(n);s!==a&&(a&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let a=this.values.get(n);return a===void 0&&s!==void 0&&(a=sr(s===null?void 0:s,{owner:this}),this.addValue(n,a)),a}readValue(n,s){let a=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return a!=null&&(typeof a=="string"&&(PS(a)||US(a))?a=parseFloat(a):!bR(a)&&ps.test(s)&&(a=Aw(n,s)),this.setBaseTarget(n,Jt(a)?a.get():a)),Jt(a)?a.get():a}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var c;const{initial:s}=this.props;let a;if(typeof s=="string"||typeof s=="object"){const u=Im(this.props,s,(c=this.presenceContext)==null?void 0:c.custom);u&&(a=u[n])}if(s&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,n);return o!==void 0&&!Jt(o)?o:this.initialValues[n]!==void 0&&a===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new Vm),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}scheduleRenderMicrotask(){Zm.render(this.render)}}class Lw extends CR{constructor(){super(...arguments),this.KeyframeResolver=dR}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){const a=n.style;return a?a[s]:void 0}removeValueFromRenderState(n,{vars:s,style:a}){delete s[n],delete a[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Jt(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class xs{constructor(n){this.isMounted=!1,this.node=n}update(){}}function Ow({top:e,left:n,right:s,bottom:a}){return{x:{min:n,max:s},y:{min:e,max:a}}}function ER({x:e,y:n}){return{top:n.min,right:e.max,bottom:n.max,left:e.min}}function MR(e,n){if(!n)return e;const s=n({x:e.left,y:e.top}),a=n({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:a.y,right:a.x}}function Hf(e){return e===void 0||e===1}function Bh({scale:e,scaleX:n,scaleY:s}){return!Hf(e)||!Hf(n)||!Hf(s)}function Hs(e){return Bh(e)||Pw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Pw(e){return hb(e.x)||hb(e.y)}function hb(e){return e&&e!=="0%"}function Oc(e,n,s){const a=e-s,o=n*a;return s+o}function mb(e,n,s,a,o){return o!==void 0&&(e=Oc(e,o,a)),Oc(e,s,a)+n}function Uh(e,n=0,s=1,a,o){e.min=mb(e.min,n,s,a,o),e.max=mb(e.max,n,s,a,o)}function Bw(e,{x:n,y:s}){Uh(e.x,n.translate,n.scale,n.originPoint),Uh(e.y,s.translate,s.scale,s.originPoint)}const pb=.999999999999,gb=1.0000000000001;function NR(e,n,s,a=!1){const o=s.length;if(!o)return;n.x=n.y=1;let c,u;for(let d=0;d<o;d++){c=s[d],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Wa(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(n.x*=u.x.scale,n.y*=u.y.scale,Bw(e,u)),a&&Hs(c.latestValues)&&Wa(e,c.latestValues))}n.x<gb&&n.x>pb&&(n.x=1),n.y<gb&&n.y>pb&&(n.y=1)}function Ka(e,n){e.min=e.min+n,e.max=e.max+n}function yb(e,n,s,a,o=.5){const c=ht(e.min,e.max,o);Uh(e,n,s,c,a)}function Wa(e,n){yb(e.x,n.x,n.scaleX,n.scale,n.originX),yb(e.y,n.y,n.scaleY,n.scale,n.originY)}function Uw(e,n){return Ow(MR(e.getBoundingClientRect(),n))}function DR(e,n,s){const a=Uw(e,s),{scroll:o}=n;return o&&(Ka(a.x,o.offset.x),Ka(a.y,o.offset.y)),a}const RR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},kR=ur.length;function zR(e,n,s){let a="",o=!0;for(let c=0;c<kR;c++){const u=ur[c],d=e[u];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(u.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||s){const y=Cw(d,Wm[u]);if(!m){o=!1;const p=RR[u]||u;a+=`${p}(${y}) `}s&&(n[u]=y)}}return a=a.trim(),s?a=s(n,o?"":a):o&&(a="none"),a}function tp(e,n,s){const{style:a,vars:o,transformOrigin:c}=e;let u=!1,d=!1;for(const m in n){const y=n[m];if(dr.has(m)){u=!0;continue}else if(JS(m)){o[m]=y;continue}else{const p=Cw(y,Wm[m]);m.startsWith("origin")?(d=!0,c[m]=p):a[m]=p}}if(n.transform||(u||s?a.transform=zR(n,e.transform,s):a.transform&&(a.transform="none")),d){const{originX:m="50%",originY:y="50%",originZ:p=0}=c;a.transformOrigin=`${m} ${y} ${p}`}}function $w(e,{style:n,vars:s},a,o){const c=e.style;let u;for(u in n)c[u]=n[u];o==null||o.applyProjectionStyles(c,a);for(u in s)c.setProperty(u,s[u])}function xb(e,n){return n.max===n.min?0:e/(n.max-n.min)*100}const ao={correct:(e,n)=>{if(!n.target)return e;if(typeof e=="string")if(ge.test(e))e=parseFloat(e);else return e;const s=xb(e,n.target.x),a=xb(e,n.target.y);return`${s}% ${a}%`}},VR={correct:(e,{treeScale:n,projectionDelta:s})=>{const a=e,o=ps.parse(e);if(o.length>5)return a;const c=ps.createTransformer(e),u=typeof o[0]!="number"?1:0,d=s.x.scale*n.x,m=s.y.scale*n.y;o[0+u]/=d,o[1+u]/=m;const y=ht(d,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=y),typeof o[3+u]=="number"&&(o[3+u]/=y),c(o)}},$h={borderRadius:{...ao,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ao,borderTopRightRadius:ao,borderBottomLeftRadius:ao,borderBottomRightRadius:ao,boxShadow:VR};function _w(e,{layout:n,layoutId:s}){return dr.has(e)||e.startsWith("origin")||(n||s!==void 0)&&(!!$h[e]||e==="opacity")}function np(e,n,s){var u;const a=e.style,o=n==null?void 0:n.style,c={};if(!a)return c;for(const d in a)(Jt(a[d])||o&&Jt(o[d])||_w(d,e)||((u=s==null?void 0:s.getValue(d))==null?void 0:u.liveStyle)!==void 0)&&(c[d]=a[d]);return c}function LR(e){return window.getComputedStyle(e)}class OR extends Lw{constructor(){super(...arguments),this.type="html",this.renderInstance=$w}readValueFromInstance(n,s){var a;if(dr.has(s))return(a=this.projection)!=null&&a.isProjecting?Ch(s):fD(n,s);{const o=LR(n),c=(JS(s)?o.getPropertyValue(s):o[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:s}){return Uw(n,s)}build(n,s,a){tp(n,s,a.transformTemplate)}scrapeMotionValuesFromProps(n,s,a){return np(n,s,a)}}const PR={offset:"stroke-dashoffset",array:"stroke-dasharray"},BR={offset:"strokeDashoffset",array:"strokeDasharray"};function UR(e,n,s=1,a=0,o=!0){e.pathLength=1;const c=o?PR:BR;e[c.offset]=`${-a}`,e[c.array]=`${n} ${s}`}const $R=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Fw(e,{attrX:n,attrY:s,attrScale:a,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...d},m,y,p){if(tp(e,d,y),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x}=e;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox);for(const b of $R)g[b]!==void 0&&(x[b]=g[b],delete g[b]);n!==void 0&&(g.x=n),s!==void 0&&(g.y=s),a!==void 0&&(g.scale=a),o!==void 0&&UR(g,o,c,u,!1)}const Hw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Gw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _R(e,n,s,a){$w(e,n,void 0,a);for(const o in n.attrs)e.setAttribute(Hw.has(o)?o:Km(o),n.attrs[o])}function qw(e,n,s){const a=np(e,n,s);for(const o in e)if(Jt(e[o])||Jt(n[o])){const c=ur.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[c]=e[o]}return a}class FR extends Lw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lt}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(dr.has(s)){const a=Tw(s);return a&&a.default||0}return s=Hw.has(s)?s:Km(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,a){return qw(n,s,a)}build(n,s,a){Fw(n,s,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(n,s,a,o){_R(n,s,a,o)}mount(n){this.isSVGTag=Gw(n.tagName),super.mount(n)}}const HR=ep.length;function Yw(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Yw(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const n={};for(let s=0;s<HR;s++){const a=ep[s],o=e.props[a];(No(o)||o===!1)&&(n[a]=o)}return n}function Xw(e,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==e.length)return!1;for(let a=0;a<s;a++)if(n[a]!==e[a])return!1;return!0}const GR=[...Jm].reverse(),qR=Jm.length;function YR(e){return n=>Promise.all(n.map(({animation:s,options:a})=>tR(e,s,a)))}function XR(e){let n=YR(e),s=vb(),a=!0;const o=m=>(y,p)=>{var x;const g=Qa(e,p,m==="exit"?(x=e.presenceContext)==null?void 0:x.custom:void 0);if(g){const{transition:b,transitionEnd:S,...T}=g;y={...y,...T,...S}}return y};function c(m){n=m(e)}function u(m){const{props:y}=e,p=Yw(e.parent)||{},g=[],x=new Set;let b={},S=1/0;for(let M=0;M<qR;M++){const C=GR[M],L=s[C],z=y[C]!==void 0?y[C]:p[C],O=No(z),_=C===m?L.isActive:null;_===!1&&(S=M);let D=z===p[C]&&z!==y[C]&&O;if(D&&a&&e.manuallyAnimateOnMount&&(D=!1),L.protectedKeys={...b},!L.isActive&&_===null||!z&&!L.prevProp||Zc(z)||typeof z=="boolean")continue;const q=IR(L.prevProp,z);let j=q||C===m&&L.isActive&&!D&&O||M>S&&O,N=!1;const V=Array.isArray(z)?z:[z];let B=V.reduce(o(C),{});_===!1&&(B={});const{prevResolvedValues:$={}}=L,H={...$,...B},F=A=>{j=!0,x.has(A)&&(N=!0,x.delete(A)),L.needsAnimating[A]=!0;const P=e.getValue(A);P&&(P.liveStyle=!1)};for(const A in H){const P=B[A],U=$[A];if(b.hasOwnProperty(A))continue;let I=!1;kh(P)&&kh(U)?I=!Xw(P,U):I=P!==U,I?P!=null?F(A):x.add(A):P!==void 0&&x.has(A)?F(A):L.protectedKeys[A]=!0}L.prevProp=z,L.prevResolvedValues=B,L.isActive&&(b={...b,...B}),a&&e.blockInitialAnimation&&(j=!1);const Y=D&&q;j&&(!Y||N)&&g.push(...V.map(A=>{const P={type:C};if(typeof A=="string"&&a&&!Y&&e.manuallyAnimateOnMount&&e.parent){const{parent:U}=e,I=Qa(U,A);if(U.enteringChildren&&I){const{delayChildren:oe}=I.transition||{};P.delay=gw(U.enteringChildren,e,oe)}}return{animation:A,options:P}}))}if(x.size){const M={};if(typeof y.initial!="boolean"){const C=Qa(e,Array.isArray(y.initial)?y.initial[0]:y.initial);C&&C.transition&&(M.transition=C.transition)}x.forEach(C=>{const L=e.getBaseTarget(C),z=e.getValue(C);z&&(z.liveStyle=!0),M[C]=L??null}),g.push({animation:M})}let T=!!g.length;return a&&(y.initial===!1||y.initial===y.animate)&&!e.manuallyAnimateOnMount&&(T=!1),a=!1,T?n(g):Promise.resolve()}function d(m,y){var g;if(s[m].isActive===y)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(x=>{var b;return(b=x.animationState)==null?void 0:b.setActive(m,y)}),s[m].isActive=y;const p=u(m);for(const x in s)s[x].protectedKeys={};return p}return{animateChanges:u,setActive:d,setAnimateFunction:c,getState:()=>s,reset:()=>{s=vb()}}}function IR(e,n){return typeof n=="string"?n!==e:Array.isArray(n)?!Xw(n,e):!1}function Us(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vb(){return{animate:Us(!0),whileInView:Us(),whileHover:Us(),whileTap:Us(),whileDrag:Us(),whileFocus:Us(),exit:Us()}}function bb(e,n){e.min=n.min,e.max=n.max}function qn(e,n){bb(e.x,n.x),bb(e.y,n.y)}function Sb(e,n){e.translate=n.translate,e.scale=n.scale,e.originPoint=n.originPoint,e.origin=n.origin}const Iw=1e-4,KR=1-Iw,WR=1+Iw,Kw=.01,ZR=0-Kw,QR=0+Kw;function sn(e){return e.max-e.min}function JR(e,n,s){return Math.abs(e-n)<=s}function wb(e,n,s,a=.5){e.origin=a,e.originPoint=ht(n.min,n.max,e.origin),e.scale=sn(s)/sn(n),e.translate=ht(s.min,s.max,e.origin)-e.originPoint,(e.scale>=KR&&e.scale<=WR||isNaN(e.scale))&&(e.scale=1),(e.translate>=ZR&&e.translate<=QR||isNaN(e.translate))&&(e.translate=0)}function vo(e,n,s,a){wb(e.x,n.x,s.x,a?a.originX:void 0),wb(e.y,n.y,s.y,a?a.originY:void 0)}function jb(e,n,s){e.min=s.min+n.min,e.max=e.min+sn(n)}function ek(e,n,s){jb(e.x,n.x,s.x),jb(e.y,n.y,s.y)}function Tb(e,n,s){e.min=n.min-s.min,e.max=e.min+sn(n)}function Pc(e,n,s){Tb(e.x,n.x,s.x),Tb(e.y,n.y,s.y)}function Ab(e,n,s,a,o){return e-=n,e=Oc(e,1/s,a),o!==void 0&&(e=Oc(e,1/o,a)),e}function tk(e,n=0,s=1,a=.5,o,c=e,u=e){if(oi.test(n)&&(n=parseFloat(n),n=ht(u.min,u.max,n/100)-u.min),typeof n!="number")return;let d=ht(c.min,c.max,a);e===c&&(d-=n),e.min=Ab(e.min,n,s,d,o),e.max=Ab(e.max,n,s,d,o)}function Cb(e,n,[s,a,o],c,u){tk(e,n[s],n[a],n[o],n.scale,c,u)}const nk=["x","scaleX","originX"],ik=["y","scaleY","originY"];function Eb(e,n,s,a){Cb(e.x,n,nk,s?s.x:void 0,a?a.x:void 0),Cb(e.y,n,ik,s?s.y:void 0,a?a.y:void 0)}function Mb(e){return e.translate===0&&e.scale===1}function Ww(e){return Mb(e.x)&&Mb(e.y)}function Nb(e,n){return e.min===n.min&&e.max===n.max}function sk(e,n){return Nb(e.x,n.x)&&Nb(e.y,n.y)}function Db(e,n){return Math.round(e.min)===Math.round(n.min)&&Math.round(e.max)===Math.round(n.max)}function Zw(e,n){return Db(e.x,n.x)&&Db(e.y,n.y)}function Rb(e){return sn(e.x)/sn(e.y)}function kb(e,n){return e.translate===n.translate&&e.scale===n.scale&&e.originPoint===n.originPoint}function Un(e){return[e("x"),e("y")]}function ak(e,n,s){let a="";const o=e.x.translate/n.x,c=e.y.translate/n.y,u=(s==null?void 0:s.z)||0;if((o||c||u)&&(a=`translate3d(${o}px, ${c}px, ${u}px) `),(n.x!==1||n.y!==1)&&(a+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:y,rotate:p,rotateX:g,rotateY:x,skewX:b,skewY:S}=s;y&&(a=`perspective(${y}px) ${a}`),p&&(a+=`rotate(${p}deg) `),g&&(a+=`rotateX(${g}deg) `),x&&(a+=`rotateY(${x}deg) `),b&&(a+=`skewX(${b}deg) `),S&&(a+=`skewY(${S}deg) `)}const d=e.x.scale*n.x,m=e.y.scale*n.y;return(d!==1||m!==1)&&(a+=`scale(${d}, ${m})`),a||"none"}const Qw=["TopLeft","TopRight","BottomLeft","BottomRight"],rk=Qw.length,zb=e=>typeof e=="string"?parseFloat(e):e,Vb=e=>typeof e=="number"||ge.test(e);function ok(e,n,s,a,o,c){o?(e.opacity=ht(0,s.opacity??1,lk(a)),e.opacityExit=ht(n.opacity??1,0,ck(a))):c&&(e.opacity=ht(n.opacity??1,s.opacity??1,a));for(let u=0;u<rk;u++){const d=`border${Qw[u]}Radius`;let m=Lb(n,d),y=Lb(s,d);if(m===void 0&&y===void 0)continue;m||(m=0),y||(y=0),m===0||y===0||Vb(m)===Vb(y)?(e[d]=Math.max(ht(zb(m),zb(y),a),0),(oi.test(y)||oi.test(m))&&(e[d]+="%")):e[d]=y}(n.rotate||s.rotate)&&(e.rotate=ht(n.rotate||0,s.rotate||0,a))}function Lb(e,n){return e[n]!==void 0?e[n]:e.borderRadius}const lk=Jw(0,.5,XS),ck=Jw(.5,.95,_n);function Jw(e,n,s){return a=>a<e?0:a>n?1:s(Co(e,n,a))}function uk(e,n,s){const a=Jt(e)?e:sr(e);return a.start(Xm("",a,n,s)),a.animation}function Do(e,n,s,a={passive:!0}){return e.addEventListener(n,s,a),()=>e.removeEventListener(n,s)}const dk=(e,n)=>e.depth-n.depth;class fk{constructor(){this.children=[],this.isDirty=!1}add(n){Dm(this.children,n),this.isDirty=!0}remove(n){Rm(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(dk),this.isDirty=!1,this.children.forEach(n)}}function hk(e,n){const s=nn.now(),a=({timestamp:o})=>{const c=o-s;c>=n&&(ms(a),e(c-n))};return ot.setup(a,!0),()=>ms(a)}function gc(e){return Jt(e)?e.get():e}class mk{constructor(){this.members=[]}add(n){Dm(this.members,n),n.scheduleRender()}remove(n){if(Rm(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(o=>n===o);if(s===0)return!1;let a;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(n,s){const a=this.lead;if(n!==a&&(this.prevLead=a,this.lead=n,n.show(),a)){a.instance&&a.scheduleRender(),n.scheduleRender(),n.resumeFrom=a,s&&(n.resumeFrom.preserveOpacity=!0),a.snapshot&&(n.snapshot=a.snapshot,n.snapshot.latestValues=a.animationValues||a.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:o}=n.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:a}=n;s.onExitComplete&&s.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Gf=["","X","Y","Z"],pk=1e3;let gk=0;function qf(e,n,s,a){const{latestValues:o}=n;o[e]&&(s[e]=o[e],n.setStaticValue(e,0),a&&(a[e]=0))}function ej(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:n}=e.options;if(!n)return;const s=bw(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",ot,!(o||c))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&ej(a)}function tj({attachResizeListener:e,defaultParent:n,measureScroll:s,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(u={},d=n==null?void 0:n()){this.id=gk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vk),this.nodes.forEach(jk),this.nodes.forEach(Tk),this.nodes.forEach(bk)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new fk)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Vm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Rw(u)&&!xR(u),this.instance=u;const{layoutId:d,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let p,g=0;const x=()=>this.root.updateBlockedByResize=!1;ot.read(()=>{g=window.innerWidth}),e(u,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,p&&p(),p=hk(x,250),yc.hasAnimatedSinceResize&&(yc.hasAnimatedSinceResize=!1,this.nodes.forEach(Bb)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&y&&(d||m)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||y.getDefaultTransition()||Nk,{onLayoutAnimationStart:T,onLayoutAnimationComplete:M}=y.getProps(),C=!this.targetLayout||!Zw(this.targetLayout,b),L=!g&&x;if(this.options.layoutRoot||this.resumeFrom||L||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const z={...Ym(S,"layout"),onPlay:T,onComplete:M};(y.shouldReduceMotion||this.options.layoutRoot)&&(z.delay=0,z.type=!1),this.startAnimation(z),this.setAnimationOrigin(p,L)}else g||Bb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ms(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ak),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ej(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ob);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Pb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wk),this.nodes.forEach(yk),this.nodes.forEach(xk)):this.nodes.forEach(Pb),this.clearAllSnapshots();const d=nn.now();Xt.delta=li(0,1e3/60,d-Xt.timestamp),Xt.timestamp=d,Xt.isProcessing=!0,Of.update.process(Xt),Of.preRender.process(Xt),Of.render.process(Xt),Xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Zm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sk),this.sharedNodes.forEach(Ck)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Lt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&this.instance){const m=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Ww(this.projectionDelta),m=this.getTransformTemplate(),y=m?m(this.latestValues,""):void 0,p=y!==this.prevTransformTemplateValue;u&&this.instance&&(d||Hs(this.latestValues)||p)&&(o(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),Dk(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var y;const{visualElement:u}=this.options;if(!u)return Lt();const d=u.measureViewportBox();if(!(((y=this.scroll)==null?void 0:y.wasRoot)||this.path.some(Rk))){const{scroll:p}=this.root;p&&(Ka(d.x,p.offset.x),Ka(d.y,p.offset.y))}return d}removeElementScroll(u){var m;const d=Lt();if(qn(d,u),(m=this.scroll)!=null&&m.wasRoot)return d;for(let y=0;y<this.path.length;y++){const p=this.path[y],{scroll:g,options:x}=p;p!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&qn(d,u),Ka(d.x,g.offset.x),Ka(d.y,g.offset.y))}return d}applyTransform(u,d=!1){const m=Lt();qn(m,u);for(let y=0;y<this.path.length;y++){const p=this.path[y];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Wa(m,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Hs(p.latestValues)&&Wa(m,p.latestValues)}return Hs(this.latestValues)&&Wa(m,this.latestValues),m}removeTransform(u){const d=Lt();qn(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];if(!y.instance||!Hs(y.latestValues))continue;Bh(y.latestValues)&&y.updateSnapshot();const p=Lt(),g=y.measurePageBox();qn(p,g),Eb(d,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,p)}return Hs(this.latestValues)&&Eb(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=Xt.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lt(),this.targetWithTransforms=Lt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ek(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qn(this.target,this.layout.layoutBox),Bw(this.target,this.targetDelta)):qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Bh(this.parent.latestValues)||Pw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,d,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lt(),this.relativeTargetOrigin=Lt(),Pc(this.relativeTargetOrigin,d,m),qn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var S;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Xt.timestamp&&(m=!1),m)return;const{layout:y,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||p))return;qn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;NR(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Lt());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sb(this.prevProjectionDelta.x,this.projectionDelta.x),Sb(this.prevProjectionDelta.y,this.projectionDelta.y)),vo(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!kb(this.projectionDelta.x,this.prevProjectionDelta.x)||!kb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ia(),this.projectionDelta=Ia(),this.projectionDeltaWithTransform=Ia()}setAnimationOrigin(u,d=!1){const m=this.snapshot,y=m?m.latestValues:{},p={...this.latestValues},g=Ia();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Lt(),b=m?m.source:void 0,S=this.layout?this.layout.source:void 0,T=b!==S,M=this.getStack(),C=!M||M.members.length<=1,L=!!(T&&!C&&this.options.crossfade===!0&&!this.path.some(Mk));this.animationProgress=0;let z;this.mixTargetDelta=O=>{const _=O/1e3;Ub(g.x,u.x,_),Ub(g.y,u.y,_),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Pc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ek(this.relativeTarget,this.relativeTargetOrigin,x,_),z&&sk(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Lt()),qn(z,this.relativeTarget)),T&&(this.animationValues=p,ok(p,y,this.latestValues,_,L,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var d,m,y;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(y=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||y.stop(),this.pendingAnimation&&(ms(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ot.update(()=>{yc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sr(0)),this.currentAnimation=uk(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:y,latestValues:p}=u;if(!(!d||!m||!y)){if(this!==u&&this.layout&&y&&nj(this.options.animationType,this.layout.layoutBox,y.layoutBox)){m=this.target||Lt();const g=sn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+g;const x=sn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+x}qn(d,m),Wa(d,p),vo(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new mk),this.sharedNodes.get(u).add(d);const y=d.options.initialPromotionConfig;d.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var d;const{layoutId:u}=this.options;return u?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:u}=this.options;return u?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const y=this.getStack();y&&y.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const y={};m.z&&qf("z",u,y,this.animationValues);for(let p=0;p<Gf.length;p++)qf(`rotate${Gf[p]}`,u,y,this.animationValues),qf(`skew${Gf[p]}`,u,y,this.animationValues);u.render();for(const p in y)u.setStaticValue(p,y[p]),this.animationValues&&(this.animationValues[p]=y[p]);u.scheduleRender()}applyProjectionStyles(u,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=gc(d==null?void 0:d.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=gc(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Hs(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const p=y.animationValues||y.latestValues;this.applyTransformsToTarget();let g=ak(this.projectionDeltaWithTransform,this.treeScale,p);m&&(g=m(p,g)),u.transform=g;const{x,y:b}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,y.animationValues?u.opacity=y===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=y===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in $h){if(p[S]===void 0)continue;const{correct:T,applyTo:M,isCSSVariable:C}=$h[S],L=g==="none"?p[S]:T(p[S],y);if(M){const z=M.length;for(let O=0;O<z;O++)u[M[O]]=L}else C?this.options.visualElement.renderState.vars[S]=L:u[S]=L}this.options.layoutId&&(u.pointerEvents=y===this?gc(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(Ob),this.root.sharedNodes.clear()}}}function yk(e){e.updateLayout()}function xk(e){var s;const n=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=e.layout,{animationType:c}=e.options,u=n.source!==e.layout.source;c==="size"?Un(g=>{const x=u?n.measuredBox[g]:n.layoutBox[g],b=sn(x);x.min=a[g].min,x.max=x.min+b}):nj(c,n.layoutBox,a)&&Un(g=>{const x=u?n.measuredBox[g]:n.layoutBox[g],b=sn(a[g]);x.max=x.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+b)});const d=Ia();vo(d,a,n.layoutBox);const m=Ia();u?vo(m,e.applyTransform(o,!0),n.measuredBox):vo(m,a,n.layoutBox);const y=!Ww(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:b}=g;if(x&&b){const S=Lt();Pc(S,n.layoutBox,x.layoutBox);const T=Lt();Pc(T,a,b.layoutBox),Zw(S,T)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=S,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:n,delta:m,layoutDelta:d,hasLayoutChanged:y,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function vk(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Sk(e){e.clearSnapshot()}function Ob(e){e.clearMeasurements()}function Pb(e){e.isLayoutDirty=!1}function wk(e){const{visualElement:n}=e.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bb(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function jk(e){e.resolveTargetDelta()}function Tk(e){e.calcProjection()}function Ak(e){e.resetSkewAndRotation()}function Ck(e){e.removeLeadSnapshot()}function Ub(e,n,s){e.translate=ht(n.translate,0,s),e.scale=ht(n.scale,1,s),e.origin=n.origin,e.originPoint=n.originPoint}function $b(e,n,s,a){e.min=ht(n.min,s.min,a),e.max=ht(n.max,s.max,a)}function Ek(e,n,s,a){$b(e.x,n.x,s.x,a),$b(e.y,n.y,s.y,a)}function Mk(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Nk={duration:.45,ease:[.4,0,.1,1]},_b=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Fb=_b("applewebkit/")&&!_b("chrome/")?Math.round:_n;function Hb(e){e.min=Fb(e.min),e.max=Fb(e.max)}function Dk(e){Hb(e.x),Hb(e.y)}function nj(e,n,s){return e==="position"||e==="preserve-aspect"&&!JR(Rb(n),Rb(s),.2)}function Rk(e){var n;return e!==e.root&&((n=e.scroll)==null?void 0:n.wasRoot)}const kk=tj({attachResizeListener:(e,n)=>Do(e,"resize",n),measureScroll:()=>{var e,n;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((n=document.body)==null?void 0:n.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Yf={current:void 0},ij=tj({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yf.current){const e=new kk({});e.mount(window),e.setOptions({layoutScroll:!0}),Yf.current=e}return Yf.current},resetTransform:(e,n)=>{e.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ip=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Gb(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function zk(...e){return n=>{let s=!1;const a=e.map(o=>{const c=Gb(o,n);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():Gb(e[o],null)}}}}function Vk(...e){return k.useCallback(zk(...e),e)}class Lk extends k.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const a=s.offsetParent,o=Oh(a)&&a.offsetWidth||0,c=Oh(a)&&a.offsetHeight||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=o-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Ok({children:e,isPresent:n,anchorX:s,anchorY:a,root:o}){var g;const c=k.useId(),u=k.useRef(null),d=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=k.useContext(ip),y=((g=e.props)==null?void 0:g.ref)??(e==null?void 0:e.ref),p=Vk(u,y);return k.useInsertionEffect(()=>{const{width:x,height:b,top:S,left:T,right:M,bottom:C}=d.current;if(n||!u.current||!x||!b)return;const L=s==="left"?`left: ${T}`:`right: ${M}`,z=a==="bottom"?`bottom: ${C}`:`top: ${S}`;u.current.dataset.motionPopId=c;const O=document.createElement("style");m&&(O.nonce=m);const _=o??document.head;return _.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${b}px !important;
            ${L}px !important;
            ${z}px !important;
          }
        `),()=>{_.contains(O)&&_.removeChild(O)}},[n]),f.jsx(Lk,{isPresent:n,childRef:u,sizeRef:d,children:k.cloneElement(e,{ref:p})})}const Pk=({children:e,initial:n,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:u,anchorX:d,anchorY:m,root:y})=>{const p=Nm(Bk),g=k.useId();let x=!0,b=k.useMemo(()=>(x=!1,{id:g,initial:n,isPresent:s,custom:o,onExitComplete:S=>{p.set(S,!0);for(const T of p.values())if(!T)return;a&&a()},register:S=>(p.set(S,!1),()=>p.delete(S))}),[s,p,a]);return c&&x&&(b={...b}),k.useMemo(()=>{p.forEach((S,T)=>p.set(T,!1))},[s]),k.useEffect(()=>{!s&&!p.size&&a&&a()},[s]),u==="popLayout"&&(e=f.jsx(Ok,{isPresent:s,anchorX:d,anchorY:m,root:y,children:e})),f.jsx(Wc.Provider,{value:b,children:e})};function Bk(){return new Map}function sj(e=!0){const n=k.useContext(Wc);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:a,register:o}=n,c=k.useId();k.useEffect(()=>{if(e)return o(c)},[e]);const u=k.useCallback(()=>e&&a&&a(c),[c,a,e]);return!s&&a?[!1,u]:[!0]}const lc=e=>e.key||"";function qb(e){const n=[];return k.Children.forEach(e,s=>{k.isValidElement(s)&&n.push(s)}),n}const Uk=({children:e,custom:n,initial:s=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:d="left",anchorY:m="top",root:y})=>{const[p,g]=sj(u),x=k.useMemo(()=>qb(e),[e]),b=u&&!p?[]:x.map(lc),S=k.useRef(!0),T=k.useRef(x),M=Nm(()=>new Map),C=k.useRef(new Set),[L,z]=k.useState(x),[O,_]=k.useState(x);OS(()=>{S.current=!1,T.current=x;for(let j=0;j<O.length;j++){const N=lc(O[j]);b.includes(N)?(M.delete(N),C.current.delete(N)):M.get(N)!==!0&&M.set(N,!1)}},[O,b.length,b.join("-")]);const D=[];if(x!==L){let j=[...x];for(let N=0;N<O.length;N++){const V=O[N],B=lc(V);b.includes(B)||(j.splice(N,0,V),D.push(V))}return c==="wait"&&D.length&&(j=D),_(qb(j)),z(x),null}const{forceRender:q}=k.useContext(Mm);return f.jsx(f.Fragment,{children:O.map(j=>{const N=lc(j),V=u&&!p?!1:x===O||b.includes(N),B=()=>{if(C.current.has(N))return;if(C.current.add(N),M.has(N))M.set(N,!0);else return;let $=!0;M.forEach(H=>{H||($=!1)}),$&&(q==null||q(),_(T.current),u&&(g==null||g()),a&&a())};return f.jsx(Pk,{isPresent:V,initial:!S.current||s?void 0:!1,custom:n,presenceAffectsLayout:o,mode:c,root:y,onExitComplete:V?void 0:B,anchorX:d,anchorY:m,children:j},N)})})},aj=k.createContext({strict:!1}),Yb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Xb=!1;function $k(){if(Xb)return;const e={};for(const n in Yb)e[n]={isEnabled:s=>Yb[n].some(a=>!!s[a])};Vw(e),Xb=!0}function rj(){return $k(),AR()}function _k(e){const n=rj();for(const s in e)n[s]={...n[s],...e[s]};Vw(n)}const Fk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Fk.has(e)}let oj=e=>!Bc(e);function Hk(e){typeof e=="function"&&(oj=n=>n.startsWith("on")?!Bc(n):e(n))}try{Hk(require("@emotion/is-prop-valid").default)}catch{}function Gk(e,n,s){const a={};for(const o in e)o==="values"&&typeof e.values=="object"||(oj(o)||s===!0&&Bc(o)||!n&&!Bc(o)||e.draggable&&o.startsWith("onDrag"))&&(a[o]=e[o]);return a}const Jc=k.createContext({});function qk(e,n){if(Qc(e)){const{initial:s,animate:a}=e;return{initial:s===!1||No(s)?s:void 0,animate:No(a)?a:void 0}}return e.inherit!==!1?n:{}}function Yk(e){const{initial:n,animate:s}=qk(e,k.useContext(Jc));return k.useMemo(()=>({initial:n,animate:s}),[Ib(n),Ib(s)])}function Ib(e){return Array.isArray(e)?e.join(" "):e}const sp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lj(e,n,s){for(const a in n)!Jt(n[a])&&!_w(a,s)&&(e[a]=n[a])}function Xk({transformTemplate:e},n){return k.useMemo(()=>{const s=sp();return tp(s,n,e),Object.assign({},s.vars,s.style)},[n])}function Ik(e,n){const s=e.style||{},a={};return lj(a,s,e),Object.assign(a,Xk(e,n)),a}function Kk(e,n){const s={},a=Ik(e,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=a,s}const cj=()=>({...sp(),attrs:{}});function Wk(e,n,s,a){const o=k.useMemo(()=>{const c=cj();return Fw(c,n,Gw(a),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[n]);if(e.style){const c={};lj(c,e.style,e),o.style={...c,...o.style}}return o}const Zk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ap(e){return typeof e!="string"||e.includes("-")?!1:!!(Zk.indexOf(e)>-1||/[A-Z]/u.test(e))}function Qk(e,n,s,{latestValues:a},o,c=!1,u){const m=(u??ap(e)?Wk:Kk)(n,a,o,e),y=Gk(n,typeof e=="string",c),p=e!==k.Fragment?{...y,...m,ref:s}:{},{children:g}=n,x=k.useMemo(()=>Jt(g)?g.get():g,[g]);return k.createElement(e,{...p,children:x})}function Jk({scrapeMotionValuesFromProps:e,createRenderState:n},s,a,o){return{latestValues:e8(s,a,o,e),renderState:n()}}function e8(e,n,s,a){const o={},c=a(e,{});for(const x in c)o[x]=gc(c[x]);let{initial:u,animate:d}=e;const m=Qc(e),y=zw(e);n&&y&&!m&&e.inherit!==!1&&(u===void 0&&(u=n.initial),d===void 0&&(d=n.animate));let p=s?s.initial===!1:!1;p=p||u===!1;const g=p?d:u;if(g&&typeof g!="boolean"&&!Zc(g)){const x=Array.isArray(g)?g:[g];for(let b=0;b<x.length;b++){const S=Im(e,x[b]);if(S){const{transitionEnd:T,transition:M,...C}=S;for(const L in C){let z=C[L];if(Array.isArray(z)){const O=p?z.length-1:0;z=z[O]}z!==null&&(o[L]=z)}for(const L in T)o[L]=T[L]}}}return o}const uj=e=>(n,s)=>{const a=k.useContext(Jc),o=k.useContext(Wc),c=()=>Jk(e,n,a,o);return s?c():Nm(c)},t8=uj({scrapeMotionValuesFromProps:np,createRenderState:sp}),n8=uj({scrapeMotionValuesFromProps:qw,createRenderState:cj}),i8=Symbol.for("motionComponentSymbol");function s8(e,n,s){const a=k.useRef(s);k.useInsertionEffect(()=>{a.current=s});const o=k.useRef(null);return k.useCallback(c=>{var d;c&&((d=e.onMount)==null||d.call(e,c)),n&&(c?n.mount(c):n.unmount());const u=a.current;if(typeof u=="function")if(c){const m=u(c);typeof m=="function"&&(o.current=m)}else o.current?(o.current(),o.current=null):u(c);else u&&(u.current=c)},[n])}const dj=k.createContext({});function fo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function a8(e,n,s,a,o,c){var M,C;const{visualElement:u}=k.useContext(Jc),d=k.useContext(aj),m=k.useContext(Wc),y=k.useContext(ip).reducedMotion,p=k.useRef(null);a=a||d.renderer,!p.current&&a&&(p.current=a(e,{visualState:n,parent:u,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,isSVG:c}));const g=p.current,x=k.useContext(dj);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&r8(p.current,s,o,x);const b=k.useRef(!1);k.useInsertionEffect(()=>{g&&b.current&&g.update(s,m)});const S=s[vw],T=k.useRef(!!S&&!((M=window.MotionHandoffIsComplete)!=null&&M.call(window,S))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,S)));return OS(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),T.current&&g.animationState&&g.animationState.animateChanges())}),k.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var L;(L=window.MotionHandoffMarkAsComplete)==null||L.call(window,S)}),T.current=!1),g.enteringChildren=void 0)}),g}function r8(e,n,s,a){const{layoutId:o,layout:c,drag:u,dragConstraints:d,layoutScroll:m,layoutRoot:y,layoutCrossfade:p}=n;e.projection=new s(e.latestValues,n["data-framer-portal-id"]?void 0:fj(e.parent)),e.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||d&&fo(d),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:m,layoutRoot:y})}function fj(e){if(e)return e.options.allowProjection!==!1?e.projection:fj(e.parent)}function Xf(e,{forwardMotionProps:n=!1,type:s}={},a,o){a&&_k(a);const c=s?s==="svg":ap(e),u=c?n8:t8;function d(y,p){let g;const x={...k.useContext(ip),...y,layoutId:o8(y)},{isStatic:b}=x,S=Yk(y),T=u(y,b);if(!b&&LS){l8();const M=c8(x);g=M.MeasureLayout,S.visualElement=a8(e,T,x,o,M.ProjectionNode,c)}return f.jsxs(Jc.Provider,{value:S,children:[g&&S.visualElement?f.jsx(g,{visualElement:S.visualElement,...x}):null,Qk(e,y,s8(T,S.visualElement,p),T,b,n,c)]})}d.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const m=k.forwardRef(d);return m[i8]=e,m}function o8({layoutId:e}){const n=k.useContext(Mm).id;return n&&e!==void 0?n+"-"+e:e}function l8(e,n){k.useContext(aj).strict}function c8(e){const n=rj(),{drag:s,layout:a}=n;if(!s&&!a)return{};const o={...s,...a};return{MeasureLayout:s!=null&&s.isEnabled(e)||a!=null&&a.isEnabled(e)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function u8(e,n){if(typeof Proxy>"u")return Xf;const s=new Map,a=(c,u)=>Xf(c,u,e,n),o=(c,u)=>a(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?a:(s.has(u)||s.set(u,Xf(u,void 0,e,n)),s.get(u))})}const d8=(e,n)=>n.isSVG??ap(e)?new FR(n):new OR(n,{allowProjection:e!==k.Fragment});class f8 extends xs{constructor(n){super(n),n.animationState||(n.animationState=XR(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Zc(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)==null||n.call(this)}}let h8=0;class m8 extends xs{constructor(){super(...arguments),this.id=h8++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===a)return;const o=this.node.animationState.setActive("exit",!n);s&&!n&&o.then(()=>{s(this.id)})}mount(){const{register:n,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const p8={animation:{Feature:f8},exit:{Feature:m8}};function _o(e){return{point:{x:e.pageX,y:e.pageY}}}const g8=e=>n=>Qm(n)&&e(n,_o(n));function bo(e,n,s,a){return Do(e,n,g8(s),a)}const hj=({current:e})=>e?e.ownerDocument.defaultView:null,Kb=(e,n)=>Math.abs(e-n);function y8(e,n){const s=Kb(e.x,n.x),a=Kb(e.y,n.y);return Math.sqrt(s**2+a**2)}const Wb=new Set(["auto","scroll"]);class mj{constructor(n,s,{transformPagePoint:a,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:d}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=b=>{this.handleScroll(b.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Kf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,T=y8(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!T)return;const{point:M}=b,{timestamp:C}=Xt;this.history.push({...M,timestamp:C});const{onStart:L,onMove:z}=this.handlers;S||(L&&L(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),z&&z(this.lastMoveEvent,b)},this.handlePointerMove=(b,S)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=If(S,this.transformPagePoint),ot.update(this.updatePoint,!0)},this.handlePointerUp=(b,S)=>{this.end();const{onEnd:T,onSessionEnd:M,resumeAnimation:C}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Kf(b.type==="pointercancel"?this.lastMoveEventInfo:If(S,this.transformPagePoint),this.history);this.startEvent&&T&&T(b,L),M&&M(b,L)},!Qm(n))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=a,this.distanceThreshold=u,this.contextWindow=o||window;const m=_o(n),y=If(m,this.transformPagePoint),{point:p}=y,{timestamp:g}=Xt;this.history=[{...p,timestamp:g}];const{onSessionStart:x}=s;x&&x(n,Kf(y,this.history)),this.removeListeners=Bo(bo(this.contextWindow,"pointermove",this.handlePointerMove),bo(this.contextWindow,"pointerup",this.handlePointerUp),bo(this.contextWindow,"pointercancel",this.handlePointerUp)),d&&this.startScrollTracking(d)}startScrollTracking(n){let s=n.parentElement;for(;s;){const a=getComputedStyle(s);(Wb.has(a.overflowX)||Wb.has(a.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(n){const s=this.scrollPositions.get(n);if(!s)return;const a=n===window,o=a?{x:window.scrollX,y:window.scrollY}:{x:n.scrollLeft,y:n.scrollTop},c={x:o.x-s.x,y:o.y-s.y};c.x===0&&c.y===0||(a?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(n,o),ot.update(this.updatePoint,!0))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ms(this.updatePoint)}}function If(e,n){return n?{point:n(e.point)}:e}function Zb(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Kf({point:e},n){return{point:e,delta:Zb(e,pj(n)),offset:Zb(e,x8(n)),velocity:v8(n,.1)}}function x8(e){return e[0]}function pj(e){return e[e.length-1]}function v8(e,n){if(e.length<2)return{x:0,y:0};let s=e.length-1,a=null;const o=pj(e);for(;s>=0&&(a=e[s],!(o.timestamp-a.timestamp>zi(n)));)s--;if(!a)return{x:0,y:0};const c=$n(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function b8(e,{min:n,max:s},a){return n!==void 0&&e<n?e=a?ht(n,e,a.min):Math.max(e,n):s!==void 0&&e>s&&(e=a?ht(s,e,a.max):Math.min(e,s)),e}function Qb(e,n,s){return{min:n!==void 0?e.min+n:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function S8(e,{top:n,left:s,bottom:a,right:o}){return{x:Qb(e.x,s,o),y:Qb(e.y,n,a)}}function Jb(e,n){let s=n.min-e.min,a=n.max-e.max;return n.max-n.min<e.max-e.min&&([s,a]=[a,s]),{min:s,max:a}}function w8(e,n){return{x:Jb(e.x,n.x),y:Jb(e.y,n.y)}}function j8(e,n){let s=.5;const a=sn(e),o=sn(n);return o>a?s=Co(n.min,n.max-a,e.min):a>o&&(s=Co(e.min,e.max-o,n.min)),li(0,1,s)}function T8(e,n){const s={};return n.min!==void 0&&(s.min=n.min-e.min),n.max!==void 0&&(s.max=n.max-e.min),s}const _h=.35;function A8(e=_h){return e===!1?e=0:e===!0&&(e=_h),{x:e1(e,"left","right"),y:e1(e,"top","bottom")}}function e1(e,n,s){return{min:t1(e,n),max:t1(e,s)}}function t1(e,n){return typeof e=="number"?e:e[n]||0}const C8=new WeakMap;class E8{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:s=!1,distanceThreshold:a}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=g=>{s?(this.stopAnimation(),this.snapToCursor(_o(g).point)):this.pauseAnimation()},u=(g,x)=>{this.stopAnimation();const{drag:b,dragPropagation:S,onDragStart:T}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hR(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(C=>{let L=this.getAxisMotionValue(C).get()||0;if(oi.test(L)){const{projection:z}=this.visualElement;if(z&&z.layout){const O=z.layout.layoutBox[C];O&&(L=sn(O)*(parseFloat(L)/100))}}this.originPoint[C]=L}),T&&ot.postRender(()=>T(g,x)),zh(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:T,onDrag:M}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=x;if(S&&this.currentDirection===null){this.currentDirection=M8(C),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",x.point,C),this.updateAxis("y",x.point,C),this.visualElement.render(),M&&M(g,x)},m=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>Un(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)==null?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mj(n,{onSessionStart:c,onStart:u,onMove:d,onSessionEnd:m,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:a,contextWindow:hj(this.visualElement),element:this.visualElement.current})}stop(n,s){const a=n||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!a)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:d}=this.getProps();d&&ot.postRender(()=>d(a,o))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(n,s,a){const{drag:o}=this.getProps();if(!a||!cc(n,o,this.currentDirection))return;const c=this.getAxisMotionValue(n);let u=this.originPoint[n]+a[n];this.constraints&&this.constraints[n]&&(u=b8(u,this.constraints[n],this.elastic[n])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:n,dragElastic:s}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;n&&fo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=S8(a.layoutBox,n):this.constraints=!1,this.elastic=A8(s),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Un(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=T8(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!fo(n))return!1;const a=n.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=DR(a,o.root,this.visualElement.getTransformPagePoint());let u=w8(o.layout.layoutBox,c);if(s){const d=s(ER(u));this.hasMutatedConstraints=!!d,d&&(u=Ow(d))}return u}startAnimation(n){const{drag:s,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},y=Un(p=>{if(!cc(p,s,this.currentDirection))return;let g=m&&m[p]||{};u&&(g={min:0,max:0});const x=o?200:1e6,b=o?40:1e7,S={type:"inertia",velocity:a?n[p]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(y).then(d)}startAxisValueAnimation(n,s){const a=this.getAxisMotionValue(n);return zh(this.visualElement,n),a.start(Xm(n,a,0,s,this.visualElement,!1))}stopAnimation(){Un(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Un(n=>{var s;return(s=this.getAxisMotionValue(n).animation)==null?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)==null?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,a=this.visualElement.getProps(),o=a[s];return o||this.visualElement.getValue(n,(a.initial?a.initial[n]:void 0)||0)}snapToCursor(n){Un(s=>{const{drag:a}=this.getProps();if(!cc(s,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[s],m=c.get()||0;c.set(n[s]-ht(u,d,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:a}=this.visualElement;if(!fo(s)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Un(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const m=d.get();o[u]=j8({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Un(u=>{if(!cc(u,n,null))return;const d=this.getAxisMotionValue(u),{min:m,max:y}=this.constraints[u];d.set(ht(m,y,o[u]))})}addListeners(){if(!this.visualElement.current)return;C8.set(this.visualElement,this);const n=this.visualElement.current,s=bo(n,"pointerdown",m=>{const{drag:y,dragListener:p=!0}=this.getProps(),g=m.target,x=g!==n&&Dw(g);y&&p&&!x&&this.start(m)}),a=()=>{const{dragConstraints:m}=this.getProps();fo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ot.read(a);const u=Do(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(Un(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=m[p].translate,g.set(g.get()+m[p].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),d&&d()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=_h,dragMomentum:d=!0}=n;return{...n,drag:s,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:d}}}function cc(e,n,s){return(n===!0||n===e)&&(s===null||s===e)}function M8(e,n=10){let s=null;return Math.abs(e.y)>n?s="y":Math.abs(e.x)>n&&(s="x"),s}class N8 extends xs{constructor(n){super(n),this.removeGroupControls=_n,this.removeListeners=_n,this.controls=new E8(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_n}update(){const{dragControls:n}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};n!==s&&(this.removeGroupControls(),n&&(this.removeGroupControls=n.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.endPanSession()}}const n1=e=>(n,s)=>{e&&ot.postRender(()=>e(n,s))};class D8 extends xs{constructor(){super(...arguments),this.removePointerDownListener=_n}onPointerDown(n){this.session=new mj(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hj(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:n1(n),onStart:n1(s),onMove:a,onEnd:(c,u)=>{delete this.session,o&&ot.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=bo(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Wf=!1;class R8 extends k.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=n;c&&(s.group&&s.group.add(c),a&&a.register&&o&&a.register(c),Wf&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:a,drag:o,isPresent:c}=this.props,{projection:u}=a;return u&&(u.isPresent=c,Wf=!0,o||n.layoutDependency!==s||s===void 0||n.isPresent!==c?u.willUpdate():this.safeToRemove(),n.isPresent!==c&&(c?u.promote():u.relegate()||ot.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),Zm.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:a}=this.props,{projection:o}=n;Wf=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function gj(e){const[n,s]=sj(),a=k.useContext(Mm);return f.jsx(R8,{...e,layoutGroup:a,switchLayoutGroup:k.useContext(dj),isPresent:n,safeToRemove:s})}const k8={pan:{Feature:D8},drag:{Feature:N8,ProjectionNode:ij,MeasureLayout:gj}};function i1(e,n,s){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=a[o];c&&ot.postRender(()=>c(n,_o(n)))}class z8 extends xs{mount(){const{current:n}=this.node;n&&(this.unmount=mR(n,(s,a)=>(i1(this.node,a,"Start"),o=>i1(this.node,o,"End"))))}unmount(){}}class V8 extends xs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bo(Do(this.node.current,"focus",()=>this.onFocus()),Do(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s1(e,n,s){const{props:a}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=a[o];c&&ot.postRender(()=>c(n,_o(n)))}class L8 extends xs{mount(){const{current:n}=this.node;n&&(this.unmount=yR(n,(s,a)=>(s1(this.node,a,"Start"),(o,{success:c})=>s1(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fh=new WeakMap,Zf=new WeakMap,O8=e=>{const n=Fh.get(e.target);n&&n(e)},P8=e=>{e.forEach(O8)};function B8({root:e,...n}){const s=e||document;Zf.has(s)||Zf.set(s,{});const a=Zf.get(s),o=JSON.stringify(n);return a[o]||(a[o]=new IntersectionObserver(P8,{root:e,...n})),a[o]}function U8(e,n,s){const a=B8(n);return Fh.set(e,s),a.observe(e),()=>{Fh.delete(e),a.unobserve(e)}}const $8={some:0,all:1};class _8 extends xs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:a,amount:o="some",once:c}=n,u={root:s?s.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:$8[o]},d=m=>{const{isIntersecting:y}=m;if(this.isInView===y||(this.isInView=y,c&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),x=y?p:g;x&&x(m)};return U8(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(F8(n,s))&&this.startObserver()}unmount(){}}function F8({viewport:e={}},{viewport:n={}}={}){return s=>e[s]!==n[s]}const H8={inView:{Feature:_8},tap:{Feature:L8},focus:{Feature:V8},hover:{Feature:z8}},G8={layout:{ProjectionNode:ij,MeasureLayout:gj}},q8={...p8,...H8,...k8,...G8},Di=u8(q8,d8);function Y8({route:e,onViewDetails:n,onAccept:s}){const a=e.optimizedStops.slice(0,3),o=e.totalJobs-a.length;return f.jsx(co,{className:"p-6",children:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-semibold",children:e.area.name}),f.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.totalJobs," stops  ",e.totalDistance.toFixed(1)," mi  ",Math.round(e.estimatedDuration/60)," min"]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:["$",e.pricing.courierEarnings.toFixed(2)]}),f.jsx("p",{className:"text-xs text-gray-500",children:"earnings"})]})]}),e.requiredEquipment.length>0&&f.jsx("div",{className:"flex flex-wrap gap-2",children:e.requiredEquipment.map(c=>f.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:c.replace(/_/g," ")},c))}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Route Preview:"}),a.map((c,u)=>f.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[f.jsx("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-gray-200 dark:bg-gray-700 rounded-full text-xs",children:u+1}),f.jsx("span",{className:"text-gray-600 dark:text-gray-400 truncate",children:c.location.address})]},c.jobId)),o>0&&f.jsxs("p",{className:"text-sm text-gray-500 pl-8",children:["... + ",o," more stops"]})]}),f.jsxs("div",{className:"flex gap-3 mt-2",children:[f.jsx(Di.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"flex-1 px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"View Details"}),f.jsx(Di.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors",children:"Accept Route"})]})]})})}function X8({route:e,onClose:n}){var o,c;const s=((o=e.optimizedStops[0])==null?void 0:o.location)||{lat:0,lng:0},a=((c=e.optimizedStops[e.optimizedStops.length-1])==null?void 0:c.location)||{lat:0,lng:0};return f.jsx(Uk,{children:f.jsx(Di.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:f.jsxs(Di.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:u=>u.stopPropagation(),style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"900px",width:"100%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[f.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{children:[f.jsx("h2",{style:{margin:0,fontSize:"24px",fontWeight:600},children:"Shift Details"}),f.jsx("p",{style:{margin:"4px 0 0",color:"#6b7280",fontSize:"14px"},children:e.routeId})]}),f.jsx("button",{onClick:n,style:{width:"36px",height:"36px",borderRadius:"50%",border:"none",backgroundColor:"#f3f4f6",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:""})]}),f.jsxs("div",{style:{flex:1,overflow:"auto",padding:"24px"},children:[f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px",marginBottom:"24px"},children:[f.jsxs("div",{style:{padding:"16px",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[f.jsx("div",{style:{fontSize:"14px",color:"#15803d",fontWeight:500},children:"Earnings"}),f.jsxs("div",{style:{fontSize:"24px",fontWeight:600,color:"#15803d"},children:["$",e.pricing.courierEarnings.toFixed(2)]})]}),f.jsxs("div",{style:{padding:"16px",backgroundColor:"#eff6ff",borderRadius:"8px",border:"1px solid #bfdbfe"},children:[f.jsx("div",{style:{fontSize:"14px",color:"#1e40af",fontWeight:500},children:"Total Stops"}),f.jsx("div",{style:{fontSize:"24px",fontWeight:600,color:"#1e40af"},children:e.totalJobs})]}),f.jsxs("div",{style:{padding:"16px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fde68a"},children:[f.jsx("div",{style:{fontSize:"14px",color:"#92400e",fontWeight:500},children:"Distance"}),f.jsxs("div",{style:{fontSize:"24px",fontWeight:600,color:"#92400e"},children:[e.totalDistance.toFixed(1)," mi"]})]}),f.jsxs("div",{style:{padding:"16px",backgroundColor:"#fce7f3",borderRadius:"8px",border:"1px solid #fbcfe8"},children:[f.jsx("div",{style:{fontSize:"14px",color:"#9f1239",fontWeight:500},children:"Est. Time"}),f.jsxs("div",{style:{fontSize:"24px",fontWeight:600,color:"#9f1239"},children:[Math.ceil(e.estimatedDuration/60)," min"]})]})]}),f.jsx("div",{style:{height:"300px",borderRadius:"12px",overflow:"hidden",marginBottom:"24px"},children:f.jsx(Po,{pickup:s,dropoff:a,height:"300px"})}),f.jsxs("div",{children:[f.jsx("h3",{style:{marginTop:0,marginBottom:"16px",fontSize:"18px",fontWeight:600},children:"Stop-by-Stop Breakdown"}),f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:e.optimizedStops.map((u,d)=>f.jsx("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:f.jsxs("div",{style:{display:"flex",alignItems:"start",gap:"12px"},children:[f.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:d===0?"#10b981":d===e.optimizedStops.length-1?"#ef4444":"#3b82f6",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,flexShrink:0},children:d+1}),f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontWeight:500,marginBottom:"4px"},children:u.jobType==="package"?" Package":" Food"}),f.jsx("div",{style:{fontSize:"14px",color:"#4b5563"},children:u.location.address}),u.specialRequirements&&u.specialRequirements.length>0&&f.jsxs("div",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"4px",fontStyle:"italic"},children:["Requirements:"," ",u.specialRequirements.join(", ")]})]})]})},u.jobId))})]})]}),f.jsx("div",{style:{padding:"24px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"12px",justifyContent:"flex-end"},children:f.jsx("button",{onClick:n,style:{padding:"12px 24px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"white",color:"#374151",fontSize:"16px",fontWeight:500,cursor:"pointer"},children:"Close"})})]})})})}function a1(){const e=An(),[n,s]=k.useState(null),[a,o]=k.useState(!0),[c,u]=k.useState(null),{routes:d,loading:m,error:y}=VS({status:"available"}),{flags:p,loading:g}=cN();k.useEffect(()=>{const S=Qs();if(!S){e("/login");return}const T=S.onAuthStateChanged(M=>{if(!M){e("/login");return}s(M),o(!1)});return()=>T()},[e]);const x=S=>{u(S)},b=async S=>{if(n)try{const T=xt(Xe,"routes",S.routeId);await ii(T,{status:"claimed",courierId:n.uid,courierName:n.displayName||"Unknown",claimedAt:si()}),alert("Route accepted! Redirecting to active route..."),e("/active-route")}catch(T){console.error("Error accepting route:",T),alert("Failed to accept route. Please try again.")}};return!g&&p&&!p.delivery.routes?f.jsx("div",{className:"max-w-4xl mx-auto p-6",children:f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Routes Not Available"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The routes feature is currently disabled. Please check back later."})]})}):a||m||g?f.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Available Routes"}),f.jsx("div",{className:"space-y-6",children:[1,2,3].map(S=>f.jsx("div",{className:"glass-card p-6",children:f.jsx(uS,{lines:4})},S))})]}):y?f.jsx("div",{className:"max-w-4xl mx-auto p-6",children:f.jsxs("div",{className:"text-center py-12",children:[f.jsx("h1",{className:"text-2xl font-bold mb-4 text-red-600",children:"Error Loading Routes"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:y.message})]})}):f.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top",children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Available Routes"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Accept batched delivery routes for efficient earnings"})]}),d.length===0?f.jsx("div",{className:"text-center py-12 glass-card",children:f.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"No available routes at the moment. Check back soon!"})}):f.jsx("div",{className:"space-y-6",children:d.map(S=>f.jsx(Y8,{route:S,onViewDetails:()=>x(S),onAccept:()=>b(S)},S.routeId))}),c&&f.jsx(X8,{route:c,onClose:()=>u(null)})]})})}function I8(e,n){return n.forEach((function(s){s&&typeof s!="string"&&!Array.isArray(s)&&Object.keys(s).forEach((function(a){if(a!=="default"&&!(a in e)){var o=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:function(){return s[a]}})}}))})),Object.freeze(e)}function yj(e,n){return new Promise((function(s,a){let o;return K8(e).then((function(c){try{return o=c,s(new Blob([n.slice(0,2),o,n.slice(2)],{type:"image/jpeg"}))}catch(u){return a(u)}}),a)}))}const K8=e=>new Promise(((n,s)=>{const a=new FileReader;a.addEventListener("load",(({target:{result:o}})=>{const c=new DataView(o);let u=0;if(c.getUint16(u)!==65496)return s("not a valid JPEG");for(u+=2;;){const d=c.getUint16(u);if(d===65498)break;const m=c.getUint16(u+2);if(d===65505&&c.getUint32(u+4)===1165519206){const y=u+10;let p;switch(c.getUint16(y)){case 18761:p=!0;break;case 19789:p=!1;break;default:return s("TIFF header contains invalid endian")}if(c.getUint16(y+2,p)!==42)return s("TIFF header contains invalid version");const g=c.getUint32(y+4,p),x=y+g+2+12*c.getUint16(y+g,p);for(let b=y+g+2;b<x;b+=12)if(c.getUint16(b,p)==274){if(c.getUint16(b+2,p)!==3)return s("Orientation data type is invalid");if(c.getUint32(b+4,p)!==1)return s("Orientation data count is invalid");c.setUint16(b+8,1,p);break}return n(o.slice(u,u+2+m))}u+=2+m}return n(new Blob)})),a.readAsArrayBuffer(e)}));var Uc={},W8={get exports(){return Uc},set exports(e){Uc=e}};(function(e){var n,s,a={};W8.exports=a,a.parse=function(o,c){for(var u=a.bin.readUshort,d=a.bin.readUint,m=0,y={},p=new Uint8Array(o),g=p.length-4;d(p,g)!=101010256;)g--;m=g,m+=4;var x=u(p,m+=4);u(p,m+=2);var b=d(p,m+=2),S=d(p,m+=4);m+=4,m=S;for(var T=0;T<x;T++){d(p,m),m+=4,m+=4,m+=4,d(p,m+=4),b=d(p,m+=4);var M=d(p,m+=4),C=u(p,m+=4),L=u(p,m+2),z=u(p,m+4);m+=6;var O=d(p,m+=8);m+=4,m+=C+L+z,a._readLocal(p,O,y,b,M,c)}return y},a._readLocal=function(o,c,u,d,m,y){var p=a.bin.readUshort,g=a.bin.readUint;g(o,c),p(o,c+=4),p(o,c+=2);var x=p(o,c+=2);g(o,c+=2),g(o,c+=4),c+=4;var b=p(o,c+=8),S=p(o,c+=2);c+=2;var T=a.bin.readUTF8(o,c,b);if(c+=b,c+=S,y)u[T]={size:m,csize:d};else{var M=new Uint8Array(o.buffer,c);if(x==0)u[T]=new Uint8Array(M.buffer.slice(c,c+d));else{if(x!=8)throw"unknown compression method: "+x;var C=new Uint8Array(m);a.inflateRaw(M,C),u[T]=C}}},a.inflateRaw=function(o,c){return a.F.inflate(o,c)},a.inflate=function(o,c){return o[0],o[1],a.inflateRaw(new Uint8Array(o.buffer,o.byteOffset+2,o.length-6),c)},a.deflate=function(o,c){c==null&&(c={level:6});var u=0,d=new Uint8Array(50+Math.floor(1.1*o.length));d[u]=120,d[u+1]=156,u+=2,u=a.F.deflateRaw(o,d,u,c.level);var m=a.adler(o,0,o.length);return d[u+0]=m>>>24&255,d[u+1]=m>>>16&255,d[u+2]=m>>>8&255,d[u+3]=m>>>0&255,new Uint8Array(d.buffer,0,u+4)},a.deflateRaw=function(o,c){c==null&&(c={level:6});var u=new Uint8Array(50+Math.floor(1.1*o.length)),d=a.F.deflateRaw(o,u,d,c.level);return new Uint8Array(u.buffer,0,d)},a.encode=function(o,c){c==null&&(c=!1);var u=0,d=a.bin.writeUint,m=a.bin.writeUshort,y={};for(var p in o){var g=!a._noNeed(p)&&!c,x=o[p],b=a.crc.crc(x,0,x.length);y[p]={cpr:g,usize:x.length,crc:b,file:g?a.deflateRaw(x):x}}for(var p in y)u+=y[p].file.length+30+46+2*a.bin.sizeUTF8(p);u+=22;var S=new Uint8Array(u),T=0,M=[];for(var p in y){var C=y[p];M.push(T),T=a._writeHeader(S,T,p,C,0)}var L=0,z=T;for(var p in y)C=y[p],M.push(T),T=a._writeHeader(S,T,p,C,1,M[L++]);var O=T-z;return d(S,T,101010256),T+=4,m(S,T+=4,L),m(S,T+=2,L),d(S,T+=2,O),d(S,T+=4,z),T+=4,T+=2,S.buffer},a._noNeed=function(o){var c=o.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(c)!=-1},a._writeHeader=function(o,c,u,d,m,y){var p=a.bin.writeUint,g=a.bin.writeUshort,x=d.file;return p(o,c,m==0?67324752:33639248),c+=4,m==1&&(c+=2),g(o,c,20),g(o,c+=2,0),g(o,c+=2,d.cpr?8:0),p(o,c+=2,0),p(o,c+=4,d.crc),p(o,c+=4,x.length),p(o,c+=4,d.usize),g(o,c+=4,a.bin.sizeUTF8(u)),g(o,c+=2,0),c+=2,m==1&&(c+=2,c+=2,p(o,c+=6,y),c+=4),c+=a.bin.writeUTF8(o,c,u),m==0&&(o.set(x,c),c+=x.length),c},a.crc={table:(function(){for(var o=new Uint32Array(256),c=0;c<256;c++){for(var u=c,d=0;d<8;d++)1&u?u=3988292384^u>>>1:u>>>=1;o[c]=u}return o})(),update:function(o,c,u,d){for(var m=0;m<d;m++)o=a.crc.table[255&(o^c[u+m])]^o>>>8;return o},crc:function(o,c,u){return 4294967295^a.crc.update(4294967295,o,c,u)}},a.adler=function(o,c,u){for(var d=1,m=0,y=c,p=c+u;y<p;){for(var g=Math.min(y+5552,p);y<g;)m+=d+=o[y++];d%=65521,m%=65521}return m<<16|d},a.bin={readUshort:function(o,c){return o[c]|o[c+1]<<8},writeUshort:function(o,c,u){o[c]=255&u,o[c+1]=u>>8&255},readUint:function(o,c){return 16777216*o[c+3]+(o[c+2]<<16|o[c+1]<<8|o[c])},writeUint:function(o,c,u){o[c]=255&u,o[c+1]=u>>8&255,o[c+2]=u>>16&255,o[c+3]=u>>24&255},readASCII:function(o,c,u){for(var d="",m=0;m<u;m++)d+=String.fromCharCode(o[c+m]);return d},writeASCII:function(o,c,u){for(var d=0;d<u.length;d++)o[c+d]=u.charCodeAt(d)},pad:function(o){return o.length<2?"0"+o:o},readUTF8:function(o,c,u){for(var d,m="",y=0;y<u;y++)m+="%"+a.bin.pad(o[c+y].toString(16));try{d=decodeURIComponent(m)}catch{return a.bin.readASCII(o,c,u)}return d},writeUTF8:function(o,c,u){for(var d=u.length,m=0,y=0;y<d;y++){var p=u.charCodeAt(y);if((4294967168&p)==0)o[c+m]=p,m++;else if((4294965248&p)==0)o[c+m]=192|p>>6,o[c+m+1]=128|p>>0&63,m+=2;else if((4294901760&p)==0)o[c+m]=224|p>>12,o[c+m+1]=128|p>>6&63,o[c+m+2]=128|p>>0&63,m+=3;else{if((4292870144&p)!=0)throw"e";o[c+m]=240|p>>18,o[c+m+1]=128|p>>12&63,o[c+m+2]=128|p>>6&63,o[c+m+3]=128|p>>0&63,m+=4}}return m},sizeUTF8:function(o){for(var c=o.length,u=0,d=0;d<c;d++){var m=o.charCodeAt(d);if((4294967168&m)==0)u++;else if((4294965248&m)==0)u+=2;else if((4294901760&m)==0)u+=3;else{if((4292870144&m)!=0)throw"e";u+=4}}return u}},a.F={},a.F.deflateRaw=function(o,c,u,d){var m=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][d],y=a.F.U,p=a.F._goodIndex;a.F._hash;var g=a.F._putsE,x=0,b=u<<3,S=0,T=o.length;if(d==0){for(;x<T;)g(c,b,x+(B=Math.min(65535,T-x))==T?1:0),b=a.F._copyExact(o,x,B,c,b+8),x+=B;return b>>>3}var M=y.lits,C=y.strt,L=y.prev,z=0,O=0,_=0,D=0,q=0,j=0;for(T>2&&(C[j=a.F._hash(o,0)]=0),x=0;x<T;x++){if(q=j,x+1<T-2){j=a.F._hash(o,x+1);var N=x+1&32767;L[N]=C[j],C[j]=N}if(S<=x){(z>14e3||O>26697)&&T-x>100&&(S<x&&(M[z]=x-S,z+=2,S=x),b=a.F._writeBlock(x==T-1||S==T?1:0,M,z,D,o,_,x-_,c,b),z=O=D=0,_=x);var V=0;x<T-2&&(V=a.F._bestMatch(o,x,L,q,Math.min(m[2],T-x),m[3]));var B=V>>>16,$=65535&V;if(V!=0){$=65535&V;var H=p(B=V>>>16,y.of0);y.lhst[257+H]++;var F=p($,y.df0);y.dhst[F]++,D+=y.exb[H]+y.dxb[F],M[z]=B<<23|x-S,M[z+1]=$<<16|H<<8|F,z+=2,S=x+B}else y.lhst[o[x]]++;O++}}for(_==x&&o.length!=0||(S<x&&(M[z]=x-S,z+=2,S=x),b=a.F._writeBlock(1,M,z,D,o,_,x-_,c,b),z=0,O=0,z=O=D=0,_=x);(7&b)!=0;)b++;return b>>>3},a.F._bestMatch=function(o,c,u,d,m,y){var p=32767&c,g=u[p],x=p-g+32768&32767;if(g==p||d!=a.F._hash(o,c-x))return 0;for(var b=0,S=0,T=Math.min(32767,c);x<=T&&--y!=0&&g!=p;){if(b==0||o[c+b]==o[c+b-x]){var M=a.F._howLong(o,c,x);if(M>b){if(S=x,(b=M)>=m)break;x+2<M&&(M=x+2);for(var C=0,L=0;L<M-2;L++){var z=c-x+L+32768&32767,O=z-u[z]+32768&32767;O>C&&(C=O,g=z)}}}x+=(p=g)-(g=u[p])+32768&32767}return b<<16|S},a.F._howLong=function(o,c,u){if(o[c]!=o[c-u]||o[c+1]!=o[c+1-u]||o[c+2]!=o[c+2-u])return 0;var d=c,m=Math.min(o.length,c+258);for(c+=3;c<m&&o[c]==o[c-u];)c++;return c-d},a.F._hash=function(o,c){return(o[c]<<8|o[c+1])+(o[c+2]<<4)&65535},a.saved=0,a.F._writeBlock=function(o,c,u,d,m,y,p,g,x){var b,S,T,M,C,L,z,O,_,D=a.F.U,q=a.F._putsF,j=a.F._putsE;D.lhst[256]++,S=(b=a.F.getTrees())[0],T=b[1],M=b[2],C=b[3],L=b[4],z=b[5],O=b[6],_=b[7];var N=32+((x+3&7)==0?0:8-(x+3&7))+(p<<3),V=d+a.F.contSize(D.fltree,D.lhst)+a.F.contSize(D.fdtree,D.dhst),B=d+a.F.contSize(D.ltree,D.lhst)+a.F.contSize(D.dtree,D.dhst);B+=14+3*z+a.F.contSize(D.itree,D.ihst)+(2*D.ihst[16]+3*D.ihst[17]+7*D.ihst[18]);for(var $=0;$<286;$++)D.lhst[$]=0;for($=0;$<30;$++)D.dhst[$]=0;for($=0;$<19;$++)D.ihst[$]=0;var H=N<V&&N<B?0:V<B?1:2;if(q(g,x,o),q(g,x+1,H),x+=3,H==0){for(;(7&x)!=0;)x++;x=a.F._copyExact(m,y,p,g,x)}else{var F,Y;if(H==1&&(F=D.fltree,Y=D.fdtree),H==2){a.F.makeCodes(D.ltree,S),a.F.revCodes(D.ltree,S),a.F.makeCodes(D.dtree,T),a.F.revCodes(D.dtree,T),a.F.makeCodes(D.itree,M),a.F.revCodes(D.itree,M),F=D.ltree,Y=D.dtree,j(g,x,C-257),j(g,x+=5,L-1),j(g,x+=5,z-4),x+=4;for(var E=0;E<z;E++)j(g,x+3*E,D.itree[1+(D.ordr[E]<<1)]);x+=3*z,x=a.F._codeTiny(O,D.itree,g,x),x=a.F._codeTiny(_,D.itree,g,x)}for(var A=y,P=0;P<u;P+=2){for(var U=c[P],I=U>>>23,oe=A+(8388607&U);A<oe;)x=a.F._writeLit(m[A++],F,g,x);if(I!=0){var te=c[P+1],ie=te>>16,Q=te>>8&255,ee=255&te;j(g,x=a.F._writeLit(257+Q,F,g,x),I-D.of0[Q]),x+=D.exb[Q],q(g,x=a.F._writeLit(ee,Y,g,x),ie-D.df0[ee]),x+=D.dxb[ee],A+=I}}x=a.F._writeLit(256,F,g,x)}return x},a.F._copyExact=function(o,c,u,d,m){var y=m>>>3;return d[y]=u,d[y+1]=u>>>8,d[y+2]=255-d[y],d[y+3]=255-d[y+1],y+=4,d.set(new Uint8Array(o.buffer,c,u),y),m+(u+4<<3)},a.F.getTrees=function(){for(var o=a.F.U,c=a.F._hufTree(o.lhst,o.ltree,15),u=a.F._hufTree(o.dhst,o.dtree,15),d=[],m=a.F._lenCodes(o.ltree,d),y=[],p=a.F._lenCodes(o.dtree,y),g=0;g<d.length;g+=2)o.ihst[d[g]]++;for(g=0;g<y.length;g+=2)o.ihst[y[g]]++;for(var x=a.F._hufTree(o.ihst,o.itree,7),b=19;b>4&&o.itree[1+(o.ordr[b-1]<<1)]==0;)b--;return[c,u,x,m,p,b,d,y]},a.F.getSecond=function(o){for(var c=[],u=0;u<o.length;u+=2)c.push(o[u+1]);return c},a.F.nonZero=function(o){for(var c="",u=0;u<o.length;u+=2)o[u+1]!=0&&(c+=(u>>1)+",");return c},a.F.contSize=function(o,c){for(var u=0,d=0;d<c.length;d++)u+=c[d]*o[1+(d<<1)];return u},a.F._codeTiny=function(o,c,u,d){for(var m=0;m<o.length;m+=2){var y=o[m],p=o[m+1];d=a.F._writeLit(y,c,u,d);var g=y==16?2:y==17?3:7;y>15&&(a.F._putsE(u,d,p,g),d+=g)}return d},a.F._lenCodes=function(o,c){for(var u=o.length;u!=2&&o[u-1]==0;)u-=2;for(var d=0;d<u;d+=2){var m=o[d+1],y=d+3<u?o[d+3]:-1,p=d+5<u?o[d+5]:-1,g=d==0?-1:o[d-1];if(m==0&&y==m&&p==m){for(var x=d+5;x+2<u&&o[x+2]==m;)x+=2;(b=Math.min(x+1-d>>>1,138))<11?c.push(17,b-3):c.push(18,b-11),d+=2*b-2}else if(m==g&&y==m&&p==m){for(x=d+5;x+2<u&&o[x+2]==m;)x+=2;var b=Math.min(x+1-d>>>1,6);c.push(16,b-3),d+=2*b-2}else c.push(m,0)}return u>>>1},a.F._hufTree=function(o,c,u){var d=[],m=o.length,y=c.length,p=0;for(p=0;p<y;p+=2)c[p]=0,c[p+1]=0;for(p=0;p<m;p++)o[p]!=0&&d.push({lit:p,f:o[p]});var g=d.length,x=d.slice(0);if(g==0)return 0;if(g==1){var b=d[0].lit;return x=b==0?1:0,c[1+(b<<1)]=1,c[1+(x<<1)]=1,1}d.sort((function(O,_){return O.f-_.f}));var S=d[0],T=d[1],M=0,C=1,L=2;for(d[0]={lit:-1,f:S.f+T.f,l:S,r:T,d:0};C!=g-1;)S=M!=C&&(L==g||d[M].f<d[L].f)?d[M++]:d[L++],T=M!=C&&(L==g||d[M].f<d[L].f)?d[M++]:d[L++],d[C++]={lit:-1,f:S.f+T.f,l:S,r:T};var z=a.F.setDepth(d[C-1],0);for(z>u&&(a.F.restrictDepth(x,u,z),z=u),p=0;p<g;p++)c[1+(x[p].lit<<1)]=x[p].d;return z},a.F.setDepth=function(o,c){return o.lit!=-1?(o.d=c,c):Math.max(a.F.setDepth(o.l,c+1),a.F.setDepth(o.r,c+1))},a.F.restrictDepth=function(o,c,u){var d=0,m=1<<u-c,y=0;for(o.sort((function(g,x){return x.d==g.d?g.f-x.f:x.d-g.d})),d=0;d<o.length&&o[d].d>c;d++){var p=o[d].d;o[d].d=c,y+=m-(1<<u-p)}for(y>>>=u-c;y>0;)(p=o[d].d)<c?(o[d].d++,y-=1<<c-p-1):d++;for(;d>=0;d--)o[d].d==c&&y<0&&(o[d].d--,y++);y!=0&&console.log("debt left")},a.F._goodIndex=function(o,c){var u=0;return c[16|u]<=o&&(u|=16),c[8|u]<=o&&(u|=8),c[4|u]<=o&&(u|=4),c[2|u]<=o&&(u|=2),c[1|u]<=o&&(u|=1),u},a.F._writeLit=function(o,c,u,d){return a.F._putsF(u,d,c[o<<1]),d+c[1+(o<<1)]},a.F.inflate=function(o,c){var u=Uint8Array;if(o[0]==3&&o[1]==0)return c||new u(0);var d=a.F,m=d._bitsF,y=d._bitsE,p=d._decodeTiny,g=d.makeCodes,x=d.codes2map,b=d._get17,S=d.U,T=c==null;T&&(c=new u(o.length>>>2<<3));for(var M,C,L=0,z=0,O=0,_=0,D=0,q=0,j=0,N=0,V=0;L==0;)if(L=m(o,V,1),z=m(o,V+1,2),V+=3,z!=0){if(T&&(c=a.F._check(c,N+(1<<17))),z==1&&(M=S.flmap,C=S.fdmap,q=511,j=31),z==2){O=y(o,V,5)+257,_=y(o,V+5,5)+1,D=y(o,V+10,4)+4,V+=14;for(var B=0;B<38;B+=2)S.itree[B]=0,S.itree[B+1]=0;var $=1;for(B=0;B<D;B++){var H=y(o,V+3*B,3);S.itree[1+(S.ordr[B]<<1)]=H,H>$&&($=H)}V+=3*D,g(S.itree,$),x(S.itree,$,S.imap),M=S.lmap,C=S.dmap,V=p(S.imap,(1<<$)-1,O+_,o,V,S.ttree);var F=d._copyOut(S.ttree,0,O,S.ltree);q=(1<<F)-1;var Y=d._copyOut(S.ttree,O,_,S.dtree);j=(1<<Y)-1,g(S.ltree,F),x(S.ltree,F,M),g(S.dtree,Y),x(S.dtree,Y,C)}for(;;){var E=M[b(o,V)&q];V+=15&E;var A=E>>>4;if(!(A>>>8))c[N++]=A;else{if(A==256)break;var P=N+A-254;if(A>264){var U=S.ldef[A-257];P=N+(U>>>3)+y(o,V,7&U),V+=7&U}var I=C[b(o,V)&j];V+=15&I;var oe=I>>>4,te=S.ddef[oe],ie=(te>>>4)+m(o,V,15&te);for(V+=15&te,T&&(c=a.F._check(c,N+(1<<17)));N<P;)c[N]=c[N++-ie],c[N]=c[N++-ie],c[N]=c[N++-ie],c[N]=c[N++-ie];N=P}}}else{(7&V)!=0&&(V+=8-(7&V));var Q=4+(V>>>3),ee=o[Q-4]|o[Q-3]<<8;T&&(c=a.F._check(c,N+ee)),c.set(new u(o.buffer,o.byteOffset+Q,ee),N),V=Q+ee<<3,N+=ee}return c.length==N?c:c.slice(0,N)},a.F._check=function(o,c){var u=o.length;if(c<=u)return o;var d=new Uint8Array(Math.max(u<<1,c));return d.set(o,0),d},a.F._decodeTiny=function(o,c,u,d,m,y){for(var p=a.F._bitsE,g=a.F._get17,x=0;x<u;){var b=o[g(d,m)&c];m+=15&b;var S=b>>>4;if(S<=15)y[x]=S,x++;else{var T=0,M=0;S==16?(M=3+p(d,m,2),m+=2,T=y[x-1]):S==17?(M=3+p(d,m,3),m+=3):S==18&&(M=11+p(d,m,7),m+=7);for(var C=x+M;x<C;)y[x]=T,x++}}return m},a.F._copyOut=function(o,c,u,d){for(var m=0,y=0,p=d.length>>>1;y<u;){var g=o[y+c];d[y<<1]=0,d[1+(y<<1)]=g,g>m&&(m=g),y++}for(;y<p;)d[y<<1]=0,d[1+(y<<1)]=0,y++;return m},a.F.makeCodes=function(o,c){for(var u,d,m,y,p=a.F.U,g=o.length,x=p.bl_count,b=0;b<=c;b++)x[b]=0;for(b=1;b<g;b+=2)x[o[b]]++;var S=p.next_code;for(u=0,x[0]=0,d=1;d<=c;d++)u=u+x[d-1]<<1,S[d]=u;for(m=0;m<g;m+=2)(y=o[m+1])!=0&&(o[m]=S[y],S[y]++)},a.F.codes2map=function(o,c,u){for(var d=o.length,m=a.F.U.rev15,y=0;y<d;y+=2)if(o[y+1]!=0)for(var p=y>>1,g=o[y+1],x=p<<4|g,b=c-g,S=o[y]<<b,T=S+(1<<b);S!=T;)u[m[S]>>>15-c]=x,S++},a.F.revCodes=function(o,c){for(var u=a.F.U.rev15,d=15-c,m=0;m<o.length;m+=2){var y=o[m]<<c-o[m+1];o[m]=u[y]>>>d}},a.F._putsE=function(o,c,u){u<<=7&c;var d=c>>>3;o[d]|=u,o[d+1]|=u>>>8},a.F._putsF=function(o,c,u){u<<=7&c;var d=c>>>3;o[d]|=u,o[d+1]|=u>>>8,o[d+2]|=u>>>16},a.F._bitsE=function(o,c,u){return(o[c>>>3]|o[1+(c>>>3)]<<8)>>>(7&c)&(1<<u)-1},a.F._bitsF=function(o,c,u){return(o[c>>>3]|o[1+(c>>>3)]<<8|o[2+(c>>>3)]<<16)>>>(7&c)&(1<<u)-1},a.F._get17=function(o,c){return(o[c>>>3]|o[1+(c>>>3)]<<8|o[2+(c>>>3)]<<16)>>>(7&c)},a.F._get25=function(o,c){return(o[c>>>3]|o[1+(c>>>3)]<<8|o[2+(c>>>3)]<<16|o[3+(c>>>3)]<<24)>>>(7&c)},a.F.U=(n=Uint16Array,s=Uint32Array,{next_code:new n(16),bl_count:new n(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new n(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new s(32),flmap:new n(512),fltree:[],fdmap:new n(32),fdtree:[],lmap:new n(32768),ltree:[],ttree:[],dmap:new n(32768),dtree:[],imap:new n(512),itree:[],rev15:new n(32768),lhst:new s(286),dhst:new s(30),ihst:new s(19),lits:new s(15e3),strt:new n(65536),prev:new n(32768)}),(function(){for(var o=a.F.U,c=0;c<32768;c++){var u=c;u=(4278255360&(u=(4042322160&(u=(3435973836&(u=(2863311530&u)>>>1|(1431655765&u)<<1))>>>2|(858993459&u)<<2))>>>4|(252645135&u)<<4))>>>8|(16711935&u)<<8,o.rev15[c]=(u>>>16|u<<16)>>>17}function d(m,y,p){for(;y--!=0;)m.push(0,p)}for(c=0;c<32;c++)o.ldef[c]=o.of0[c]<<3|o.exb[c],o.ddef[c]=o.df0[c]<<4|o.dxb[c];d(o.fltree,144,8),d(o.fltree,112,9),d(o.fltree,24,7),d(o.fltree,8,8),a.F.makeCodes(o.fltree,9),a.F.codes2map(o.fltree,9,o.flmap),a.F.revCodes(o.fltree,9),d(o.fdtree,32,5),a.F.makeCodes(o.fdtree,5),a.F.codes2map(o.fdtree,5,o.fdmap),a.F.revCodes(o.fdtree,5),d(o.itree,19,0),d(o.ltree,286,0),d(o.dtree,30,0),d(o.ttree,320,0)})()})();var Z8=I8({__proto__:null,default:Uc},[Uc]);const Yn=(function(){var e={nextZero(p,g){for(;p[g]!=0;)g++;return g},readUshort:(p,g)=>p[g]<<8|p[g+1],writeUshort(p,g,x){p[g]=x>>8&255,p[g+1]=255&x},readUint:(p,g)=>16777216*p[g]+(p[g+1]<<16|p[g+2]<<8|p[g+3]),writeUint(p,g,x){p[g]=x>>24&255,p[g+1]=x>>16&255,p[g+2]=x>>8&255,p[g+3]=255&x},readASCII(p,g,x){let b="";for(let S=0;S<x;S++)b+=String.fromCharCode(p[g+S]);return b},writeASCII(p,g,x){for(let b=0;b<x.length;b++)p[g+b]=x.charCodeAt(b)},readBytes(p,g,x){const b=[];for(let S=0;S<x;S++)b.push(p[g+S]);return b},pad:p=>p.length<2?`0${p}`:p,readUTF8(p,g,x){let b,S="";for(let T=0;T<x;T++)S+=`%${e.pad(p[g+T].toString(16))}`;try{b=decodeURIComponent(S)}catch{return e.readASCII(p,g,x)}return b}};function n(p,g,x,b){const S=g*x,T=c(b),M=Math.ceil(g*T/8),C=new Uint8Array(4*S),L=new Uint32Array(C.buffer),{ctype:z}=b,{depth:O}=b,_=e.readUshort;if(z==6){const U=S<<2;if(O==8)for(var D=0;D<U;D+=4)C[D]=p[D],C[D+1]=p[D+1],C[D+2]=p[D+2],C[D+3]=p[D+3];if(O==16)for(D=0;D<U;D++)C[D]=p[D<<1]}else if(z==2){const U=b.tabs.tRNS;if(U==null){if(O==8)for(D=0;D<S;D++){var q=3*D;L[D]=255<<24|p[q+2]<<16|p[q+1]<<8|p[q]}if(O==16)for(D=0;D<S;D++)q=6*D,L[D]=255<<24|p[q+4]<<16|p[q+2]<<8|p[q]}else{var j=U[0];const I=U[1],oe=U[2];if(O==8)for(D=0;D<S;D++){var N=D<<2;q=3*D,L[D]=255<<24|p[q+2]<<16|p[q+1]<<8|p[q],p[q]==j&&p[q+1]==I&&p[q+2]==oe&&(C[N+3]=0)}if(O==16)for(D=0;D<S;D++)N=D<<2,q=6*D,L[D]=255<<24|p[q+4]<<16|p[q+2]<<8|p[q],_(p,q)==j&&_(p,q+2)==I&&_(p,q+4)==oe&&(C[N+3]=0)}}else if(z==3){const U=b.tabs.PLTE,I=b.tabs.tRNS,oe=I?I.length:0;if(O==1)for(var V=0;V<x;V++){var B=V*M,$=V*g;for(D=0;D<g;D++){N=$+D<<2;var H=3*(F=p[B+(D>>3)]>>7-((7&D)<<0)&1);C[N]=U[H],C[N+1]=U[H+1],C[N+2]=U[H+2],C[N+3]=F<oe?I[F]:255}}if(O==2)for(V=0;V<x;V++)for(B=V*M,$=V*g,D=0;D<g;D++)N=$+D<<2,H=3*(F=p[B+(D>>2)]>>6-((3&D)<<1)&3),C[N]=U[H],C[N+1]=U[H+1],C[N+2]=U[H+2],C[N+3]=F<oe?I[F]:255;if(O==4)for(V=0;V<x;V++)for(B=V*M,$=V*g,D=0;D<g;D++)N=$+D<<2,H=3*(F=p[B+(D>>1)]>>4-((1&D)<<2)&15),C[N]=U[H],C[N+1]=U[H+1],C[N+2]=U[H+2],C[N+3]=F<oe?I[F]:255;if(O==8)for(D=0;D<S;D++){var F;N=D<<2,H=3*(F=p[D]),C[N]=U[H],C[N+1]=U[H+1],C[N+2]=U[H+2],C[N+3]=F<oe?I[F]:255}}else if(z==4){if(O==8)for(D=0;D<S;D++){N=D<<2;var Y=p[E=D<<1];C[N]=Y,C[N+1]=Y,C[N+2]=Y,C[N+3]=p[E+1]}if(O==16)for(D=0;D<S;D++){var E;N=D<<2,Y=p[E=D<<2],C[N]=Y,C[N+1]=Y,C[N+2]=Y,C[N+3]=p[E+2]}}else if(z==0)for(j=b.tabs.tRNS?b.tabs.tRNS:-1,V=0;V<x;V++){const U=V*M,I=V*g;if(O==1)for(var A=0;A<g;A++){var P=(Y=255*(p[U+(A>>>3)]>>>7-(7&A)&1))==255*j?0:255;L[I+A]=P<<24|Y<<16|Y<<8|Y}else if(O==2)for(A=0;A<g;A++)P=(Y=85*(p[U+(A>>>2)]>>>6-((3&A)<<1)&3))==85*j?0:255,L[I+A]=P<<24|Y<<16|Y<<8|Y;else if(O==4)for(A=0;A<g;A++)P=(Y=17*(p[U+(A>>>1)]>>>4-((1&A)<<2)&15))==17*j?0:255,L[I+A]=P<<24|Y<<16|Y<<8|Y;else if(O==8)for(A=0;A<g;A++)P=(Y=p[U+A])==j?0:255,L[I+A]=P<<24|Y<<16|Y<<8|Y;else if(O==16)for(A=0;A<g;A++)Y=p[U+(A<<1)],P=_(p,U+(A<<1))==j?0:255,L[I+A]=P<<24|Y<<16|Y<<8|Y}return C}function s(p,g,x,b){const S=c(p),T=Math.ceil(x*S/8),M=new Uint8Array((T+1+p.interlace)*b);return g=p.tabs.CgBI?o(g,M):a(g,M),p.interlace==0?g=u(g,p,0,x,b):p.interlace==1&&(g=(function(L,z){const O=z.width,_=z.height,D=c(z),q=D>>3,j=Math.ceil(O*D/8),N=new Uint8Array(_*j);let V=0;const B=[0,0,4,0,2,0,1],$=[0,4,0,2,0,1,0],H=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let Y=0;for(;Y<7;){const A=H[Y],P=F[Y];let U=0,I=0,oe=B[Y];for(;oe<_;)oe+=A,I++;let te=$[Y];for(;te<O;)te+=P,U++;const ie=Math.ceil(U*D/8);u(L,z,V,U,I);let Q=0,ee=B[Y];for(;ee<_;){let ue=$[Y],de=V+Q*ie<<3;for(;ue<O;){var E;if(D==1&&(E=(E=L[de>>3])>>7-(7&de)&1,N[ee*j+(ue>>3)]|=E<<7-((7&ue)<<0)),D==2&&(E=(E=L[de>>3])>>6-(7&de)&3,N[ee*j+(ue>>2)]|=E<<6-((3&ue)<<1)),D==4&&(E=(E=L[de>>3])>>4-(7&de)&15,N[ee*j+(ue>>1)]|=E<<4-((1&ue)<<2)),D>=8){const je=ee*j+ue*q;for(let xe=0;xe<q;xe++)N[je+xe]=L[(de>>3)+xe]}de+=D,ue+=P}Q++,ee+=A}U*I!=0&&(V+=I*(1+ie)),Y+=1}return N})(g,p)),g}function a(p,g){return o(new Uint8Array(p.buffer,2,p.length-6),g)}var o=(function(){const p={H:{}};return p.H.N=function(g,x){const b=Uint8Array;let S,T,M=0,C=0,L=0,z=0,O=0,_=0,D=0,q=0,j=0;if(g[0]==3&&g[1]==0)return x||new b(0);const N=p.H,V=N.b,B=N.e,$=N.R,H=N.n,F=N.A,Y=N.Z,E=N.m,A=x==null;for(A&&(x=new b(g.length>>>2<<5));M==0;)if(M=V(g,j,1),C=V(g,j+1,2),j+=3,C!=0){if(A&&(x=p.H.W(x,q+(1<<17))),C==1&&(S=E.J,T=E.h,_=511,D=31),C==2){L=B(g,j,5)+257,z=B(g,j+5,5)+1,O=B(g,j+10,4)+4,j+=14;let U=1;for(var P=0;P<38;P+=2)E.Q[P]=0,E.Q[P+1]=0;for(P=0;P<O;P++){const te=B(g,j+3*P,3);E.Q[1+(E.X[P]<<1)]=te,te>U&&(U=te)}j+=3*O,H(E.Q,U),F(E.Q,U,E.u),S=E.w,T=E.d,j=$(E.u,(1<<U)-1,L+z,g,j,E.v);const I=N.V(E.v,0,L,E.C);_=(1<<I)-1;const oe=N.V(E.v,L,z,E.D);D=(1<<oe)-1,H(E.C,I),F(E.C,I,S),H(E.D,oe),F(E.D,oe,T)}for(;;){const U=S[Y(g,j)&_];j+=15&U;const I=U>>>4;if(!(I>>>8))x[q++]=I;else{if(I==256)break;{let oe=q+I-254;if(I>264){const ue=E.q[I-257];oe=q+(ue>>>3)+B(g,j,7&ue),j+=7&ue}const te=T[Y(g,j)&D];j+=15&te;const ie=te>>>4,Q=E.c[ie],ee=(Q>>>4)+V(g,j,15&Q);for(j+=15&Q;q<oe;)x[q]=x[q++-ee],x[q]=x[q++-ee],x[q]=x[q++-ee],x[q]=x[q++-ee];q=oe}}}}else{(7&j)!=0&&(j+=8-(7&j));const U=4+(j>>>3),I=g[U-4]|g[U-3]<<8;A&&(x=p.H.W(x,q+I)),x.set(new b(g.buffer,g.byteOffset+U,I),q),j=U+I<<3,q+=I}return x.length==q?x:x.slice(0,q)},p.H.W=function(g,x){const b=g.length;if(x<=b)return g;const S=new Uint8Array(b<<1);return S.set(g,0),S},p.H.R=function(g,x,b,S,T,M){const C=p.H.e,L=p.H.Z;let z=0;for(;z<b;){const O=g[L(S,T)&x];T+=15&O;const _=O>>>4;if(_<=15)M[z]=_,z++;else{let D=0,q=0;_==16?(q=3+C(S,T,2),T+=2,D=M[z-1]):_==17?(q=3+C(S,T,3),T+=3):_==18&&(q=11+C(S,T,7),T+=7);const j=z+q;for(;z<j;)M[z]=D,z++}}return T},p.H.V=function(g,x,b,S){let T=0,M=0;const C=S.length>>>1;for(;M<b;){const L=g[M+x];S[M<<1]=0,S[1+(M<<1)]=L,L>T&&(T=L),M++}for(;M<C;)S[M<<1]=0,S[1+(M<<1)]=0,M++;return T},p.H.n=function(g,x){const b=p.H.m,S=g.length;let T,M,C,L;const z=b.j;for(var O=0;O<=x;O++)z[O]=0;for(O=1;O<S;O+=2)z[g[O]]++;const _=b.K;for(T=0,z[0]=0,M=1;M<=x;M++)T=T+z[M-1]<<1,_[M]=T;for(C=0;C<S;C+=2)L=g[C+1],L!=0&&(g[C]=_[L],_[L]++)},p.H.A=function(g,x,b){const S=g.length,T=p.H.m.r;for(let M=0;M<S;M+=2)if(g[M+1]!=0){const C=M>>1,L=g[M+1],z=C<<4|L,O=x-L;let _=g[M]<<O;const D=_+(1<<O);for(;_!=D;)b[T[_]>>>15-x]=z,_++}},p.H.l=function(g,x){const b=p.H.m.r,S=15-x;for(let T=0;T<g.length;T+=2){const M=g[T]<<x-g[T+1];g[T]=b[M]>>>S}},p.H.M=function(g,x,b){b<<=7&x;const S=x>>>3;g[S]|=b,g[S+1]|=b>>>8},p.H.I=function(g,x,b){b<<=7&x;const S=x>>>3;g[S]|=b,g[S+1]|=b>>>8,g[S+2]|=b>>>16},p.H.e=function(g,x,b){return(g[x>>>3]|g[1+(x>>>3)]<<8)>>>(7&x)&(1<<b)-1},p.H.b=function(g,x,b){return(g[x>>>3]|g[1+(x>>>3)]<<8|g[2+(x>>>3)]<<16)>>>(7&x)&(1<<b)-1},p.H.Z=function(g,x){return(g[x>>>3]|g[1+(x>>>3)]<<8|g[2+(x>>>3)]<<16)>>>(7&x)},p.H.i=function(g,x){return(g[x>>>3]|g[1+(x>>>3)]<<8|g[2+(x>>>3)]<<16|g[3+(x>>>3)]<<24)>>>(7&x)},p.H.m=(function(){const g=Uint16Array,x=Uint32Array;return{K:new g(16),j:new g(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new g(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new x(32),J:new g(512),_:[],h:new g(32),$:[],w:new g(32768),C:[],v:[],d:new g(32768),D:[],u:new g(512),Q:[],r:new g(32768),s:new x(286),Y:new x(30),a:new x(19),t:new x(15e3),k:new g(65536),g:new g(32768)}})(),(function(){const g=p.H.m;for(var x=0;x<32768;x++){let S=x;S=(2863311530&S)>>>1|(1431655765&S)<<1,S=(3435973836&S)>>>2|(858993459&S)<<2,S=(4042322160&S)>>>4|(252645135&S)<<4,S=(4278255360&S)>>>8|(16711935&S)<<8,g.r[x]=(S>>>16|S<<16)>>>17}function b(S,T,M){for(;T--!=0;)S.push(0,M)}for(x=0;x<32;x++)g.q[x]=g.S[x]<<3|g.T[x],g.c[x]=g.p[x]<<4|g.z[x];b(g._,144,8),b(g._,112,9),b(g._,24,7),b(g._,8,8),p.H.n(g._,9),p.H.A(g._,9,g.J),p.H.l(g._,9),b(g.$,32,5),p.H.n(g.$,5),p.H.A(g.$,5,g.h),p.H.l(g.$,5),b(g.Q,19,0),b(g.C,286,0),b(g.D,30,0),b(g.v,320,0)})(),p.H.N})();function c(p){return[1,null,3,1,2,null,4][p.ctype]*p.depth}function u(p,g,x,b,S){let T=c(g);const M=Math.ceil(b*T/8);let C,L;T=Math.ceil(T/8);let z=p[x],O=0;if(z>1&&(p[x]=[0,0,1][z-2]),z==3)for(O=T;O<M;O++)p[O+1]=p[O+1]+(p[O+1-T]>>>1)&255;for(let _=0;_<S;_++)if(C=x+_*M,L=C+_+1,z=p[L-1],O=0,z==0)for(;O<M;O++)p[C+O]=p[L+O];else if(z==1){for(;O<T;O++)p[C+O]=p[L+O];for(;O<M;O++)p[C+O]=p[L+O]+p[C+O-T]}else if(z==2)for(;O<M;O++)p[C+O]=p[L+O]+p[C+O-M];else if(z==3){for(;O<T;O++)p[C+O]=p[L+O]+(p[C+O-M]>>>1);for(;O<M;O++)p[C+O]=p[L+O]+(p[C+O-M]+p[C+O-T]>>>1)}else{for(;O<T;O++)p[C+O]=p[L+O]+d(0,p[C+O-M],0);for(;O<M;O++)p[C+O]=p[L+O]+d(p[C+O-T],p[C+O-M],p[C+O-T-M])}return p}function d(p,g,x){const b=p+g-x,S=b-p,T=b-g,M=b-x;return S*S<=T*T&&S*S<=M*M?p:T*T<=M*M?g:x}function m(p,g,x){x.width=e.readUint(p,g),g+=4,x.height=e.readUint(p,g),g+=4,x.depth=p[g],g++,x.ctype=p[g],g++,x.compress=p[g],g++,x.filter=p[g],g++,x.interlace=p[g],g++}function y(p,g,x,b,S,T,M,C,L){const z=Math.min(g,S),O=Math.min(x,T);let _=0,D=0;for(let Y=0;Y<O;Y++)for(let E=0;E<z;E++)if(M>=0&&C>=0?(_=Y*g+E<<2,D=(C+Y)*S+M+E<<2):(_=(-C+Y)*g-M+E<<2,D=Y*S+E<<2),L==0)b[D]=p[_],b[D+1]=p[_+1],b[D+2]=p[_+2],b[D+3]=p[_+3];else if(L==1){var q=p[_+3]*.00392156862745098,j=p[_]*q,N=p[_+1]*q,V=p[_+2]*q,B=b[D+3]*(1/255),$=b[D]*B,H=b[D+1]*B,F=b[D+2]*B;const A=1-q,P=q+B*A,U=P==0?0:1/P;b[D+3]=255*P,b[D+0]=(j+$*A)*U,b[D+1]=(N+H*A)*U,b[D+2]=(V+F*A)*U}else if(L==2)q=p[_+3],j=p[_],N=p[_+1],V=p[_+2],B=b[D+3],$=b[D],H=b[D+1],F=b[D+2],q==B&&j==$&&N==H&&V==F?(b[D]=0,b[D+1]=0,b[D+2]=0,b[D+3]=0):(b[D]=j,b[D+1]=N,b[D+2]=V,b[D+3]=q);else if(L==3){if(q=p[_+3],j=p[_],N=p[_+1],V=p[_+2],B=b[D+3],$=b[D],H=b[D+1],F=b[D+2],q==B&&j==$&&N==H&&V==F)continue;if(q<220&&B>20)return!1}return!0}return{decode:function(g){const x=new Uint8Array(g);let b=8;const S=e,T=S.readUshort,M=S.readUint,C={tabs:{},frames:[]},L=new Uint8Array(x.length);let z,O=0,_=0;const D=[137,80,78,71,13,10,26,10];for(var q=0;q<8;q++)if(x[q]!=D[q])throw"The input is not a PNG file!";for(;b<x.length;){const Y=S.readUint(x,b);b+=4;const E=S.readASCII(x,b,4);if(b+=4,E=="IHDR")m(x,b,C);else if(E=="iCCP"){for(var j=b;x[j]!=0;)j++;S.readASCII(x,b,j-b),x[j+1];const A=x.slice(j+2,b+Y);let P=null;try{P=a(A)}catch{P=o(A)}C.tabs[E]=P}else if(E=="CgBI")C.tabs[E]=x.slice(b,b+4);else if(E=="IDAT"){for(q=0;q<Y;q++)L[O+q]=x[b+q];O+=Y}else if(E=="acTL")C.tabs[E]={num_frames:M(x,b),num_plays:M(x,b+4)},z=new Uint8Array(x.length);else if(E=="fcTL"){_!=0&&((F=C.frames[C.frames.length-1]).data=s(C,z.slice(0,_),F.rect.width,F.rect.height),_=0);const A={x:M(x,b+12),y:M(x,b+16),width:M(x,b+4),height:M(x,b+8)};let P=T(x,b+22);P=T(x,b+20)/(P==0?100:P);const U={rect:A,delay:Math.round(1e3*P),dispose:x[b+24],blend:x[b+25]};C.frames.push(U)}else if(E=="fdAT"){for(q=0;q<Y-4;q++)z[_+q]=x[b+q+4];_+=Y-4}else if(E=="pHYs")C.tabs[E]=[S.readUint(x,b),S.readUint(x,b+4),x[b+8]];else if(E=="cHRM")for(C.tabs[E]=[],q=0;q<8;q++)C.tabs[E].push(S.readUint(x,b+4*q));else if(E=="tEXt"||E=="zTXt"){C.tabs[E]==null&&(C.tabs[E]={});var N=S.nextZero(x,b),V=S.readASCII(x,b,N-b),B=b+Y-N-1;if(E=="tEXt")H=S.readASCII(x,N+1,B);else{var $=a(x.slice(N+2,N+2+B));H=S.readUTF8($,0,$.length)}C.tabs[E][V]=H}else if(E=="iTXt"){C.tabs[E]==null&&(C.tabs[E]={}),N=0,j=b,N=S.nextZero(x,j),V=S.readASCII(x,j,N-j);const A=x[j=N+1];var H;x[j+1],j+=2,N=S.nextZero(x,j),S.readASCII(x,j,N-j),j=N+1,N=S.nextZero(x,j),S.readUTF8(x,j,N-j),B=Y-((j=N+1)-b),A==0?H=S.readUTF8(x,j,B):($=a(x.slice(j,j+B)),H=S.readUTF8($,0,$.length)),C.tabs[E][V]=H}else if(E=="PLTE")C.tabs[E]=S.readBytes(x,b,Y);else if(E=="hIST"){const A=C.tabs.PLTE.length/3;for(C.tabs[E]=[],q=0;q<A;q++)C.tabs[E].push(T(x,b+2*q))}else if(E=="tRNS")C.ctype==3?C.tabs[E]=S.readBytes(x,b,Y):C.ctype==0?C.tabs[E]=T(x,b):C.ctype==2&&(C.tabs[E]=[T(x,b),T(x,b+2),T(x,b+4)]);else if(E=="gAMA")C.tabs[E]=S.readUint(x,b)/1e5;else if(E=="sRGB")C.tabs[E]=x[b];else if(E=="bKGD")C.ctype==0||C.ctype==4?C.tabs[E]=[T(x,b)]:C.ctype==2||C.ctype==6?C.tabs[E]=[T(x,b),T(x,b+2),T(x,b+4)]:C.ctype==3&&(C.tabs[E]=x[b]);else if(E=="IEND")break;b+=Y,S.readUint(x,b),b+=4}var F;return _!=0&&((F=C.frames[C.frames.length-1]).data=s(C,z.slice(0,_),F.rect.width,F.rect.height)),C.data=s(C,L,C.width,C.height),delete C.compress,delete C.interlace,delete C.filter,C},toRGBA8:function(g){const x=g.width,b=g.height;if(g.tabs.acTL==null)return[n(g.data,x,b,g).buffer];const S=[];g.frames[0].data==null&&(g.frames[0].data=g.data);const T=x*b*4,M=new Uint8Array(T),C=new Uint8Array(T),L=new Uint8Array(T);for(let O=0;O<g.frames.length;O++){const _=g.frames[O],D=_.rect.x,q=_.rect.y,j=_.rect.width,N=_.rect.height,V=n(_.data,j,N,g);if(O!=0)for(var z=0;z<T;z++)L[z]=M[z];if(_.blend==0?y(V,j,N,M,x,b,D,q,0):_.blend==1&&y(V,j,N,M,x,b,D,q,1),S.push(M.buffer.slice(0)),_.dispose!=0){if(_.dispose==1)y(C,j,N,M,x,b,D,q,0);else if(_.dispose==2)for(z=0;z<T;z++)M[z]=L[z]}}return S},_paeth:d,_copyTile:y,_bin:e}})();(function(){const{_copyTile:e}=Yn,{_bin:n}=Yn,s=Yn._paeth;var a={table:(function(){const j=new Uint32Array(256);for(let N=0;N<256;N++){let V=N;for(let B=0;B<8;B++)1&V?V=3988292384^V>>>1:V>>>=1;j[N]=V}return j})(),update(j,N,V,B){for(let $=0;$<B;$++)j=a.table[255&(j^N[V+$])]^j>>>8;return j},crc:(j,N,V)=>4294967295^a.update(4294967295,j,N,V)};function o(j,N,V,B){N[V]+=j[0]*B>>4,N[V+1]+=j[1]*B>>4,N[V+2]+=j[2]*B>>4,N[V+3]+=j[3]*B>>4}function c(j){return Math.max(0,Math.min(255,j))}function u(j,N){const V=j[0]-N[0],B=j[1]-N[1],$=j[2]-N[2],H=j[3]-N[3];return V*V+B*B+$*$+H*H}function d(j,N,V,B,$,H,F){F==null&&(F=1);const Y=B.length,E=[];for(var A=0;A<Y;A++){const ee=B[A];E.push([ee>>>0&255,ee>>>8&255,ee>>>16&255,ee>>>24&255])}for(A=0;A<Y;A++){let ee=4294967295;for(var P=0,U=0;U<Y;U++){var I=u(E[A],E[U]);U!=A&&I<ee&&(ee=I,P=U)}}const oe=new Uint32Array($.buffer),te=new Int16Array(N*V*4),ie=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(A=0;A<ie.length;A++)ie[A]=255*((ie[A]+.5)/16-.5);for(let ee=0;ee<V;ee++)for(let ue=0;ue<N;ue++){var Q;A=4*(ee*N+ue),F!=2?Q=[c(j[A]+te[A]),c(j[A+1]+te[A+1]),c(j[A+2]+te[A+2]),c(j[A+3]+te[A+3])]:(I=ie[4*(3&ee)+(3&ue)],Q=[c(j[A]+I),c(j[A+1]+I),c(j[A+2]+I),c(j[A+3]+I)]),P=0;let de=16777215;for(U=0;U<Y;U++){const Ee=u(Q,E[U]);Ee<de&&(de=Ee,P=U)}const je=E[P],xe=[Q[0]-je[0],Q[1]-je[1],Q[2]-je[2],Q[3]-je[3]];F==1&&(ue!=N-1&&o(xe,te,A+4,7),ee!=V-1&&(ue!=0&&o(xe,te,A+4*N-4,3),o(xe,te,A+4*N,5),ue!=N-1&&o(xe,te,A+4*N+4,1))),H[A>>2]=P,oe[A>>2]=B[P]}}function m(j,N,V,B,$){$==null&&($={});const{crc:H}=a,F=n.writeUint,Y=n.writeUshort,E=n.writeASCII;let A=8;const P=j.frames.length>1;let U,I=!1,oe=33+(P?20:0);if($.sRGB!=null&&(oe+=13),$.pHYs!=null&&(oe+=21),$.iCCP!=null&&(U=pako.deflate($.iCCP),oe+=21+U.length+4),j.ctype==3){for(var te=j.plte.length,ie=0;ie<te;ie++)j.plte[ie]>>>24!=255&&(I=!0);oe+=8+3*te+4+(I?8+1*te+4:0)}for(var Q=0;Q<j.frames.length;Q++)P&&(oe+=38),oe+=(je=j.frames[Q]).cimg.length+12,Q!=0&&(oe+=4);oe+=12;const ee=new Uint8Array(oe),ue=[137,80,78,71,13,10,26,10];for(ie=0;ie<8;ie++)ee[ie]=ue[ie];if(F(ee,A,13),A+=4,E(ee,A,"IHDR"),A+=4,F(ee,A,N),A+=4,F(ee,A,V),A+=4,ee[A]=j.depth,A++,ee[A]=j.ctype,A++,ee[A]=0,A++,ee[A]=0,A++,ee[A]=0,A++,F(ee,A,H(ee,A-17,17)),A+=4,$.sRGB!=null&&(F(ee,A,1),A+=4,E(ee,A,"sRGB"),A+=4,ee[A]=$.sRGB,A++,F(ee,A,H(ee,A-5,5)),A+=4),$.iCCP!=null){const xe=13+U.length;F(ee,A,xe),A+=4,E(ee,A,"iCCP"),A+=4,E(ee,A,"ICC profile"),A+=11,A+=2,ee.set(U,A),A+=U.length,F(ee,A,H(ee,A-(xe+4),xe+4)),A+=4}if($.pHYs!=null&&(F(ee,A,9),A+=4,E(ee,A,"pHYs"),A+=4,F(ee,A,$.pHYs[0]),A+=4,F(ee,A,$.pHYs[1]),A+=4,ee[A]=$.pHYs[2],A++,F(ee,A,H(ee,A-13,13)),A+=4),P&&(F(ee,A,8),A+=4,E(ee,A,"acTL"),A+=4,F(ee,A,j.frames.length),A+=4,F(ee,A,$.loop!=null?$.loop:0),A+=4,F(ee,A,H(ee,A-12,12)),A+=4),j.ctype==3){for(F(ee,A,3*(te=j.plte.length)),A+=4,E(ee,A,"PLTE"),A+=4,ie=0;ie<te;ie++){const xe=3*ie,Ee=j.plte[ie],le=255&Ee,fe=Ee>>>8&255,ve=Ee>>>16&255;ee[A+xe+0]=le,ee[A+xe+1]=fe,ee[A+xe+2]=ve}if(A+=3*te,F(ee,A,H(ee,A-3*te-4,3*te+4)),A+=4,I){for(F(ee,A,te),A+=4,E(ee,A,"tRNS"),A+=4,ie=0;ie<te;ie++)ee[A+ie]=j.plte[ie]>>>24&255;A+=te,F(ee,A,H(ee,A-te-4,te+4)),A+=4}}let de=0;for(Q=0;Q<j.frames.length;Q++){var je=j.frames[Q];P&&(F(ee,A,26),A+=4,E(ee,A,"fcTL"),A+=4,F(ee,A,de++),A+=4,F(ee,A,je.rect.width),A+=4,F(ee,A,je.rect.height),A+=4,F(ee,A,je.rect.x),A+=4,F(ee,A,je.rect.y),A+=4,Y(ee,A,B[Q]),A+=2,Y(ee,A,1e3),A+=2,ee[A]=je.dispose,A++,ee[A]=je.blend,A++,F(ee,A,H(ee,A-30,30)),A+=4);const xe=je.cimg;F(ee,A,(te=xe.length)+(Q==0?0:4)),A+=4;const Ee=A;E(ee,A,Q==0?"IDAT":"fdAT"),A+=4,Q!=0&&(F(ee,A,de++),A+=4),ee.set(xe,A),A+=te,F(ee,A,H(ee,Ee,A-Ee)),A+=4}return F(ee,A,0),A+=4,E(ee,A,"IEND"),A+=4,F(ee,A,H(ee,A-4,4)),A+=4,ee.buffer}function y(j,N,V){for(let B=0;B<j.frames.length;B++){const $=j.frames[B];$.rect.width;const H=$.rect.height,F=new Uint8Array(H*$.bpl+H);$.cimg=b($.img,H,$.bpp,$.bpl,F,N,V)}}function p(j,N,V,B,$){const H=$[0],F=$[1],Y=$[2],E=$[3],A=$[4],P=$[5];let U=6,I=8,oe=255;for(var te=0;te<j.length;te++){const Me=new Uint8Array(j[te]);for(var ie=Me.length,Q=0;Q<ie;Q+=4)oe&=Me[Q+3]}const ee=oe!=255,ue=(function(He,Be,tt,st,Ye,vt){const We=[];for(var Te=0;Te<He.length;Te++){const bt=new Uint8Array(He[Te]),It=new Uint32Array(bt.buffer);var Ot;let $t=0,Pt=0,nt=Be,Dt=tt,Tt=st?1:0;if(Te!=0){const Js=vt||st||Te==1||We[Te-2].dispose!=0?1:2;let Oi=0,vs=1e9;for(let ce=0;ce<Js;ce++){var an=new Uint8Array(He[Te-1-ce]);const Re=new Uint32Array(He[Te-1-ce]);let Ge=Be,Ue=tt,dt=-1,Ze=-1;for(let $e=0;$e<tt;$e++)for(let Rt=0;Rt<Be;Rt++)It[ct=$e*Be+Rt]!=Re[ct]&&(Rt<Ge&&(Ge=Rt),Rt>dt&&(dt=Rt),$e<Ue&&(Ue=$e),$e>Ze&&(Ze=$e));dt==-1&&(Ge=Ue=dt=Ze=0),Ye&&((1&Ge)==1&&Ge--,(1&Ue)==1&&Ue--);const en=(dt-Ge+1)*(Ze-Ue+1);en<vs&&(vs=en,Oi=ce,$t=Ge,Pt=Ue,nt=dt-Ge+1,Dt=Ze-Ue+1)}an=new Uint8Array(He[Te-1-Oi]),Oi==1&&(We[Te-1].dispose=2),Ot=new Uint8Array(nt*Dt*4),e(an,Be,tt,Ot,nt,Dt,-$t,-Pt,0),Tt=e(bt,Be,tt,Ot,nt,Dt,-$t,-Pt,3)?1:0,Tt==1?x(bt,Be,tt,Ot,{x:$t,y:Pt,width:nt,height:Dt}):e(bt,Be,tt,Ot,nt,Dt,-$t,-Pt,0)}else Ot=bt.slice(0);We.push({rect:{x:$t,y:Pt,width:nt,height:Dt},img:Ot,blend:Tt,dispose:0})}if(st)for(Te=0;Te<We.length;Te++){if((Cn=We[Te]).blend==1)continue;const bt=Cn.rect,It=We[Te-1].rect,$t=Math.min(bt.x,It.x),Pt=Math.min(bt.y,It.y),nt={x:$t,y:Pt,width:Math.max(bt.x+bt.width,It.x+It.width)-$t,height:Math.max(bt.y+bt.height,It.y+It.height)-Pt};We[Te-1].dispose=1,Te-1!=0&&g(He,Be,tt,We,Te-1,nt,Ye),g(He,Be,tt,We,Te,nt,Ye)}let Kn=0;if(He.length!=1)for(var ct=0;ct<We.length;ct++){var Cn;Kn+=(Cn=We[ct]).rect.width*Cn.rect.height}return We})(j,N,V,H,F,Y),de={},je=[],xe=[];if(B!=0){const Me=[];for(Q=0;Q<ue.length;Q++)Me.push(ue[Q].img.buffer);const He=(function(Ye){let vt=0;for(var We=0;We<Ye.length;We++)vt+=Ye[We].byteLength;const Te=new Uint8Array(vt);let Ot=0;for(We=0;We<Ye.length;We++){const an=new Uint8Array(Ye[We]),Kn=an.length;for(let ct=0;ct<Kn;ct+=4){let Cn=an[ct],bt=an[ct+1],It=an[ct+2];const $t=an[ct+3];$t==0&&(Cn=bt=It=0),Te[Ot+ct]=Cn,Te[Ot+ct+1]=bt,Te[Ot+ct+2]=It,Te[Ot+ct+3]=$t}Ot+=Kn}return Te.buffer})(Me),Be=T(He,B);for(Q=0;Q<Be.plte.length;Q++)je.push(Be.plte[Q].est.rgba);let tt=0;for(Q=0;Q<ue.length;Q++){const st=(le=ue[Q]).img.length;var Ee=new Uint8Array(Be.inds.buffer,tt>>2,st>>2);xe.push(Ee);const Ye=new Uint8Array(Be.abuf,tt,st);P&&d(le.img,le.rect.width,le.rect.height,je,Ye,Ee),le.img.set(Ye),tt+=st}}else for(te=0;te<ue.length;te++){var le=ue[te];const Me=new Uint32Array(le.img.buffer);var fe=le.rect.width;for(ie=Me.length,Ee=new Uint8Array(ie),xe.push(Ee),Q=0;Q<ie;Q++){const He=Me[Q];if(Q!=0&&He==Me[Q-1])Ee[Q]=Ee[Q-1];else if(Q>fe&&He==Me[Q-fe])Ee[Q]=Ee[Q-fe];else{let Be=de[He];if(Be==null&&(de[He]=Be=je.length,je.push(He),je.length>=300))break;Ee[Q]=Be}}}const ve=je.length;for(ve<=256&&A==0&&(I=ve<=2?1:ve<=4?2:ve<=16?4:8,I=Math.max(I,E)),te=0;te<ue.length;te++){(le=ue[te]).rect.x,le.rect.y,fe=le.rect.width;const Me=le.rect.height;let He=le.img;new Uint32Array(He.buffer);let Be=4*fe,tt=4;if(ve<=256&&A==0){Be=Math.ceil(I*fe/8);var Ae=new Uint8Array(Be*Me);const st=xe[te];for(let Ye=0;Ye<Me;Ye++){Q=Ye*Be;const vt=Ye*fe;if(I==8)for(var Ve=0;Ve<fe;Ve++)Ae[Q+Ve]=st[vt+Ve];else if(I==4)for(Ve=0;Ve<fe;Ve++)Ae[Q+(Ve>>1)]|=st[vt+Ve]<<4-4*(1&Ve);else if(I==2)for(Ve=0;Ve<fe;Ve++)Ae[Q+(Ve>>2)]|=st[vt+Ve]<<6-2*(3&Ve);else if(I==1)for(Ve=0;Ve<fe;Ve++)Ae[Q+(Ve>>3)]|=st[vt+Ve]<<7-1*(7&Ve)}He=Ae,U=3,tt=1}else if(ee==0&&ue.length==1){Ae=new Uint8Array(fe*Me*3);const st=fe*Me;for(Q=0;Q<st;Q++){const Ye=3*Q,vt=4*Q;Ae[Ye]=He[vt],Ae[Ye+1]=He[vt+1],Ae[Ye+2]=He[vt+2]}He=Ae,U=2,tt=3,Be=3*fe}le.img=He,le.bpl=Be,le.bpp=tt}return{ctype:U,depth:I,plte:je,frames:ue}}function g(j,N,V,B,$,H,F){const Y=Uint8Array,E=Uint32Array,A=new Y(j[$-1]),P=new E(j[$-1]),U=$+1<j.length?new Y(j[$+1]):null,I=new Y(j[$]),oe=new E(I.buffer);let te=N,ie=V,Q=-1,ee=-1;for(let de=0;de<H.height;de++)for(let je=0;je<H.width;je++){const xe=H.x+je,Ee=H.y+de,le=Ee*N+xe,fe=oe[le];fe==0||B[$-1].dispose==0&&P[le]==fe&&(U==null||U[4*le+3]!=0)||(xe<te&&(te=xe),xe>Q&&(Q=xe),Ee<ie&&(ie=Ee),Ee>ee&&(ee=Ee))}Q==-1&&(te=ie=Q=ee=0),F&&((1&te)==1&&te--,(1&ie)==1&&ie--),H={x:te,y:ie,width:Q-te+1,height:ee-ie+1};const ue=B[$];ue.rect=H,ue.blend=1,ue.img=new Uint8Array(H.width*H.height*4),B[$-1].dispose==0?(e(A,N,V,ue.img,H.width,H.height,-H.x,-H.y,0),x(I,N,V,ue.img,H)):e(I,N,V,ue.img,H.width,H.height,-H.x,-H.y,0)}function x(j,N,V,B,$){e(j,N,V,B,$.width,$.height,-$.x,-$.y,2)}function b(j,N,V,B,$,H,F){const Y=[];let E,A=[0,1,2,3,4];H!=-1?A=[H]:(N*B>5e5||V==1)&&(A=[0]),F&&(E={level:0});const P=Z8;for(var U=0;U<A.length;U++){for(let te=0;te<N;te++)S($,j,te,B,V,A[U]);Y.push(P.deflate($,E))}let I,oe=1e9;for(U=0;U<Y.length;U++)Y[U].length<oe&&(I=U,oe=Y[U].length);return Y[I]}function S(j,N,V,B,$,H){const F=V*B;let Y=F+V;if(j[Y]=H,Y++,H==0)if(B<500)for(var E=0;E<B;E++)j[Y+E]=N[F+E];else j.set(new Uint8Array(N.buffer,F,B),Y);else if(H==1){for(E=0;E<$;E++)j[Y+E]=N[F+E];for(E=$;E<B;E++)j[Y+E]=N[F+E]-N[F+E-$]+256&255}else if(V==0){for(E=0;E<$;E++)j[Y+E]=N[F+E];if(H==2)for(E=$;E<B;E++)j[Y+E]=N[F+E];if(H==3)for(E=$;E<B;E++)j[Y+E]=N[F+E]-(N[F+E-$]>>1)+256&255;if(H==4)for(E=$;E<B;E++)j[Y+E]=N[F+E]-s(N[F+E-$],0,0)+256&255}else{if(H==2)for(E=0;E<B;E++)j[Y+E]=N[F+E]+256-N[F+E-B]&255;if(H==3){for(E=0;E<$;E++)j[Y+E]=N[F+E]+256-(N[F+E-B]>>1)&255;for(E=$;E<B;E++)j[Y+E]=N[F+E]+256-(N[F+E-B]+N[F+E-$]>>1)&255}if(H==4){for(E=0;E<$;E++)j[Y+E]=N[F+E]+256-s(0,N[F+E-B],0)&255;for(E=$;E<B;E++)j[Y+E]=N[F+E]+256-s(N[F+E-$],N[F+E-B],N[F+E-$-B])&255}}}function T(j,N){const V=new Uint8Array(j),B=V.slice(0),$=new Uint32Array(B.buffer),H=M(B,N),F=H[0],Y=H[1],E=V.length,A=new Uint8Array(E>>2);let P;if(V.length<2e7)for(var U=0;U<E;U+=4)P=C(F,I=V[U]*(1/255),oe=V[U+1]*(1/255),te=V[U+2]*(1/255),ie=V[U+3]*(1/255)),A[U>>2]=P.ind,$[U>>2]=P.est.rgba;else for(U=0;U<E;U+=4){var I=V[U]*.00392156862745098,oe=V[U+1]*(1/255),te=V[U+2]*(1/255),ie=V[U+3]*(1/255);for(P=F;P.left;)P=L(P.est,I,oe,te,ie)<=0?P.left:P.right;A[U>>2]=P.ind,$[U>>2]=P.est.rgba}return{abuf:B.buffer,inds:A,plte:Y}}function M(j,N,V){V==null&&(V=1e-4);const B=new Uint32Array(j.buffer),$={i0:0,i1:j.length,bst:null,est:null,tdst:0,left:null,right:null};$.bst=_(j,$.i0,$.i1),$.est=D($.bst);const H=[$];for(;H.length<N;){let Y=0,E=0;for(var F=0;F<H.length;F++)H[F].est.L>Y&&(Y=H[F].est.L,E=F);if(Y<V)break;const A=H[E],P=z(j,B,A.i0,A.i1,A.est.e,A.est.eMq255);if(A.i0>=P||A.i1<=P){A.est.L=0;continue}const U={i0:A.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};U.bst=_(j,U.i0,U.i1),U.est=D(U.bst);const I={i0:P,i1:A.i1,bst:null,est:null,tdst:0,left:null,right:null};for(I.bst={R:[],m:[],N:A.bst.N-U.bst.N},F=0;F<16;F++)I.bst.R[F]=A.bst.R[F]-U.bst.R[F];for(F=0;F<4;F++)I.bst.m[F]=A.bst.m[F]-U.bst.m[F];I.est=D(I.bst),A.left=U,A.right=I,H[E]=U,H.push(I)}for(H.sort(((Y,E)=>E.bst.N-Y.bst.N)),F=0;F<H.length;F++)H[F].ind=F;return[$,H]}function C(j,N,V,B,$){if(j.left==null)return j.tdst=(function(U,I,oe,te,ie){const Q=I-U[0],ee=oe-U[1],ue=te-U[2],de=ie-U[3];return Q*Q+ee*ee+ue*ue+de*de})(j.est.q,N,V,B,$),j;const H=L(j.est,N,V,B,$);let F=j.left,Y=j.right;H>0&&(F=j.right,Y=j.left);const E=C(F,N,V,B,$);if(E.tdst<=H*H)return E;const A=C(Y,N,V,B,$);return A.tdst<E.tdst?A:E}function L(j,N,V,B,$){const{e:H}=j;return H[0]*N+H[1]*V+H[2]*B+H[3]*$-j.eMq}function z(j,N,V,B,$,H){for(B-=4;V<B;){for(;O(j,V,$)<=H;)V+=4;for(;O(j,B,$)>H;)B-=4;if(V>=B)break;const F=N[V>>2];N[V>>2]=N[B>>2],N[B>>2]=F,V+=4,B-=4}for(;O(j,V,$)>H;)V-=4;return V+4}function O(j,N,V){return j[N]*V[0]+j[N+1]*V[1]+j[N+2]*V[2]+j[N+3]*V[3]}function _(j,N,V){const B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$=[0,0,0,0],H=V-N>>2;for(let F=N;F<V;F+=4){const Y=j[F]*.00392156862745098,E=j[F+1]*(1/255),A=j[F+2]*(1/255),P=j[F+3]*(1/255);$[0]+=Y,$[1]+=E,$[2]+=A,$[3]+=P,B[0]+=Y*Y,B[1]+=Y*E,B[2]+=Y*A,B[3]+=Y*P,B[5]+=E*E,B[6]+=E*A,B[7]+=E*P,B[10]+=A*A,B[11]+=A*P,B[15]+=P*P}return B[4]=B[1],B[8]=B[2],B[9]=B[6],B[12]=B[3],B[13]=B[7],B[14]=B[11],{R:B,m:$,N:H}}function D(j){const{R:N}=j,{m:V}=j,{N:B}=j,$=V[0],H=V[1],F=V[2],Y=V[3],E=B==0?0:1/B,A=[N[0]-$*$*E,N[1]-$*H*E,N[2]-$*F*E,N[3]-$*Y*E,N[4]-H*$*E,N[5]-H*H*E,N[6]-H*F*E,N[7]-H*Y*E,N[8]-F*$*E,N[9]-F*H*E,N[10]-F*F*E,N[11]-F*Y*E,N[12]-Y*$*E,N[13]-Y*H*E,N[14]-Y*F*E,N[15]-Y*Y*E],P=A,U=q;let I=[Math.random(),Math.random(),Math.random(),Math.random()],oe=0,te=0;if(B!=0)for(let Q=0;Q<16&&(I=U.multVec(P,I),te=Math.sqrt(U.dot(I,I)),I=U.sml(1/te,I),!(Q!=0&&Math.abs(te-oe)<1e-9));Q++)oe=te;const ie=[$*E,H*E,F*E,Y*E];return{Cov:A,q:ie,e:I,L:oe,eMq255:U.dot(U.sml(255,ie),I),eMq:U.dot(I,ie),rgba:(Math.round(255*ie[3])<<24|Math.round(255*ie[2])<<16|Math.round(255*ie[1])<<8|Math.round(255*ie[0])<<0)>>>0}}var q={multVec:(j,N)=>[j[0]*N[0]+j[1]*N[1]+j[2]*N[2]+j[3]*N[3],j[4]*N[0]+j[5]*N[1]+j[6]*N[2]+j[7]*N[3],j[8]*N[0]+j[9]*N[1]+j[10]*N[2]+j[11]*N[3],j[12]*N[0]+j[13]*N[1]+j[14]*N[2]+j[15]*N[3]],dot:(j,N)=>j[0]*N[0]+j[1]*N[1]+j[2]*N[2]+j[3]*N[3],sml:(j,N)=>[j*N[0],j*N[1],j*N[2],j*N[3]]};Yn.encode=function(N,V,B,$,H,F,Y){$==null&&($=0),Y==null&&(Y=!1);const E=p(N,V,B,$,[!1,!1,!1,0,Y,!1]);return y(E,-1),m(E,V,B,H,F)},Yn.encodeLL=function(N,V,B,$,H,F,Y,E){const A={ctype:0+($==1?0:2)+(H==0?0:4),depth:F,frames:[]},P=($+H)*F,U=P*V;for(let I=0;I<N.length;I++)A.frames.push({rect:{x:0,y:0,width:V,height:B},img:new Uint8Array(N[I]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(U/8)});return y(A,0,!0),m(A,V,B,Y,E)},Yn.encode.compress=p,Yn.encode.dither=d,Yn.quantize=T,Yn.quantize.getKDtree=M,Yn.quantize.getNearest=C})();const xj={toArrayBuffer(e,n){const s=e.width,a=e.height,o=s<<2,c=e.getContext("2d").getImageData(0,0,s,a),u=new Uint32Array(c.data.buffer),d=(32*s+31)/32<<2,m=d*a,y=122+m,p=new ArrayBuffer(y),g=new DataView(p),x=1<<20;let b,S,T,M,C=x,L=0,z=0,O=0;function _(j){g.setUint16(z,j,!0),z+=2}function D(j){g.setUint32(z,j,!0),z+=4}function q(j){z+=j}_(19778),D(y),q(4),D(122),D(108),D(s),D(-a>>>0),_(1),_(32),D(3),D(m),D(2835),D(2835),q(8),D(16711680),D(65280),D(255),D(4278190080),D(1466527264),(function j(){for(;L<a&&C>0;){for(M=122+L*d,b=0;b<o;)C--,S=u[O++],T=S>>>24,g.setUint32(M+b,S<<8|T),b+=4;L++}O<u.length?(C=x,setTimeout(j,xj._dly)):n(p)})()},toBlob(e,n){this.toArrayBuffer(e,(s=>{n(new Blob([s],{type:"image/bmp"}))}))},_dly:9};var hn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Q8={[hn.CHROME]:16384,[hn.FIREFOX]:11180,[hn.DESKTOP_SAFARI]:16384,[hn.IE]:8192,[hn.IOS]:4096,[hn.ETC]:8192};const rp=typeof window<"u",vj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,$c=rp&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),J8=(rp||vj)&&($c&&$c.getOriginalSymbol(window,"File")||typeof File<"u"&&File),bj=(rp||vj)&&($c&&$c.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function op(e,n,s=Date.now()){return new Promise((a=>{const o=e.split(","),c=o[0].match(/:(.*?);/)[1],u=globalThis.atob(o[1]);let d=u.length;const m=new Uint8Array(d);for(;d--;)m[d]=u.charCodeAt(d);const y=new Blob([m],{type:c});y.name=n,y.lastModified=s,a(y)}))}function Sj(e){return new Promise(((n,s)=>{const a=new bj;a.onload=()=>n(a.result),a.onerror=o=>s(o),a.readAsDataURL(e)}))}function wj(e){return new Promise(((n,s)=>{const a=new Image;a.onload=()=>n(a),a.onerror=o=>s(o),a.src=e}))}function Xs(){if(Xs.cachedResult!==void 0)return Xs.cachedResult;let e=hn.ETC;const{userAgent:n}=navigator;return/Chrom(e|ium)/i.test(n)?e=hn.CHROME:/iP(ad|od|hone)/i.test(n)&&/WebKit/i.test(n)?e=hn.IOS:/Safari/i.test(n)?e=hn.DESKTOP_SAFARI:/Firefox/i.test(n)?e=hn.FIREFOX:(/MSIE/i.test(n)||document.documentMode)&&(e=hn.IE),Xs.cachedResult=e,Xs.cachedResult}function jj(e,n){const s=Xs(),a=Q8[s];let o=e,c=n,u=o*c;const d=o>c?c/o:o/c;for(;u>a*a;){const m=(a+o)/2,y=(a+c)/2;m<y?(c=y,o=y*d):(c=m*d,o=m),u=o*c}return{width:o,height:c}}function eu(e,n){let s,a;try{if(s=new OffscreenCanvas(e,n),a=s.getContext("2d"),a===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{s=document.createElement("canvas"),a=s.getContext("2d")}return s.width=e,s.height=n,[s,a]}function Tj(e,n){const{width:s,height:a}=jj(e.width,e.height),[o,c]=eu(s,a);return n&&/jpe?g/.test(n)&&(c.fillStyle="white",c.fillRect(0,0,o.width,o.height)),c.drawImage(e,0,0,o.width,o.height),o}function xc(){return xc.cachedResult!==void 0||(xc.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),xc.cachedResult}function _c(e,n={}){return new Promise((function(s,a){let o,c;var u=function(){try{return c=Tj(o,n.fileType||e.type),s([o,c])}catch(m){return a(m)}},d=function(m){try{var y=function(p){try{throw p}catch(g){return a(g)}};try{let p;return Sj(e).then((function(g){try{return p=g,wj(p).then((function(x){try{return o=x,(function(){try{return u()}catch(b){return a(b)}})()}catch(b){return y(b)}}),y)}catch(x){return y(x)}}),y)}catch(p){y(p)}}catch(p){return a(p)}};try{if(xc()||[hn.DESKTOP_SAFARI,hn.MOBILE_SAFARI].includes(Xs()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then((function(m){try{return o=m,u()}catch{return d()}}),d)}catch{d()}}))}function Fc(e,n,s,a,o=1){return new Promise((function(c,u){let d;if(n==="image/png"){let y,p,g;return y=e.getContext("2d"),{data:p}=y.getImageData(0,0,e.width,e.height),g=Yn.encode([p.buffer],e.width,e.height,4096*o),d=new Blob([g],{type:n}),d.name=s,d.lastModified=a,m.call(this)}{let y=function(){return m.call(this)};if(n==="image/bmp")return new Promise((p=>xj.toBlob(e,p))).then((function(p){try{return d=p,d.name=s,d.lastModified=a,y.call(this)}catch(g){return u(g)}}).bind(this),u);{let p=function(){return y.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:n,quality:o}).then((function(g){try{return d=g,d.name=s,d.lastModified=a,p.call(this)}catch(x){return u(x)}}).bind(this),u);{let g;return g=e.toDataURL(n,o),op(g,s,a).then((function(x){try{return d=x,p.call(this)}catch(b){return u(b)}}).bind(this),u)}}}function m(){return c(d)}}))}function ni(e){e.width=0,e.height=0}function Za(){return new Promise((function(e,n){let s,a,o,c;return Za.cachedResult!==void 0?e(Za.cachedResult):op("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then((function(u){try{return s=u,_c(s).then((function(d){try{return a=d[1],Fc(a,s.type,s.name,s.lastModified).then((function(m){try{return o=m,ni(a),_c(o).then((function(y){try{return c=y[0],Za.cachedResult=c.width===1&&c.height===2,e(Za.cachedResult)}catch(p){return n(p)}}),n)}catch(y){return n(y)}}),n)}catch(m){return n(m)}}),n)}catch(d){return n(d)}}),n)}))}function Aj(e){return new Promise(((n,s)=>{const a=new bj;a.onload=o=>{const c=new DataView(o.target.result);if(c.getUint16(0,!1)!=65496)return n(-2);const u=c.byteLength;let d=2;for(;d<u;){if(c.getUint16(d+2,!1)<=8)return n(-1);const m=c.getUint16(d,!1);if(d+=2,m==65505){if(c.getUint32(d+=2,!1)!=1165519206)return n(-1);const y=c.getUint16(d+=6,!1)==18761;d+=c.getUint32(d+4,y);const p=c.getUint16(d,y);d+=2;for(let g=0;g<p;g++)if(c.getUint16(d+12*g,y)==274)return n(c.getUint16(d+12*g+8,y))}else{if((65280&m)!=65280)break;d+=c.getUint16(d,!1)}}return n(-1)},a.onerror=o=>s(o),a.readAsArrayBuffer(e)}))}function Cj(e,n){const{width:s}=e,{height:a}=e,{maxWidthOrHeight:o}=n;let c,u=e;return isFinite(o)&&(s>o||a>o)&&([u,c]=eu(s,a),s>a?(u.width=o,u.height=a/s*o):(u.width=s/a*o,u.height=o),c.drawImage(e,0,0,u.width,u.height),ni(e)),u}function Ej(e,n){const{width:s}=e,{height:a}=e,[o,c]=eu(s,a);switch(n>4&&n<9?(o.width=a,o.height=s):(o.width=s,o.height=a),n){case 2:c.transform(-1,0,0,1,s,0);break;case 3:c.transform(-1,0,0,-1,s,a);break;case 4:c.transform(1,0,0,-1,0,a);break;case 5:c.transform(0,1,1,0,0,0);break;case 6:c.transform(0,1,-1,0,a,0);break;case 7:c.transform(0,-1,-1,0,a,s);break;case 8:c.transform(0,-1,1,0,0,s)}return c.drawImage(e,0,0,s,a),ni(e),o}function r1(e,n,s=0){return new Promise((function(a,o){let c,u,d,m,y,p,g,x,b,S,T,M,C,L,z,O,_,D,q,j;function N(B=5){if(n.signal&&n.signal.aborted)throw n.signal.reason;c+=B,n.onProgress(Math.min(c,100))}function V(B){if(n.signal&&n.signal.aborted)throw n.signal.reason;c=Math.min(Math.max(B,c),100),n.onProgress(c)}return c=s,u=n.maxIteration||10,d=1024*n.maxSizeMB*1024,N(),_c(e,n).then((function(B){try{return[,m]=B,N(),y=Cj(m,n),N(),new Promise((function($,H){var F;if(!(F=n.exifOrientation))return Aj(e).then((function(E){try{return F=E,Y.call(this)}catch(A){return H(A)}}).bind(this),H);function Y(){return $(F)}return Y.call(this)})).then((function($){try{return p=$,N(),Za().then((function(H){try{return g=H?y:Ej(y,p),N(),x=n.initialQuality||1,b=n.fileType||e.type,Fc(g,b,e.name,e.lastModified,x).then((function(F){try{{let E=function(){if(u--&&(z>d||z>C)){let P,U;return P=j?.95*q.width:q.width,U=j?.95*q.height:q.height,[_,D]=eu(P,U),D.drawImage(q,0,0,P,U),x*=b==="image/png"?.85:.95,Fc(_,b,e.name,e.lastModified,x).then((function(I){try{return O=I,ni(q),q=_,z=O.size,V(Math.min(99,Math.floor((L-z)/(L-d)*100))),E}catch(oe){return o(oe)}}),o)}return[1]},A=function(){return ni(q),ni(_),ni(y),ni(g),ni(m),V(100),a(O)};if(S=F,N(),T=S.size>d,M=S.size>e.size,!T&&!M)return V(100),a(S);var Y;return C=e.size,L=S.size,z=L,q=g,j=!n.alwaysKeepResolution&&T,(Y=(function(P){for(;P;){if(P.then)return void P.then(Y,o);try{if(P.pop){if(P.length)return P.pop()?A.call(this):P;P=E}else P=P.call(this)}catch(U){return o(U)}}}).bind(this))(E)}}catch(E){return o(E)}}).bind(this),o)}catch(F){return o(F)}}).bind(this),o)}catch(H){return o(H)}}).bind(this),o)}catch($){return o($)}}).bind(this),o)}))}const ez=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Qf;function tz(e,n){return new Promise(((s,a)=>{Qf||(Qf=(function(u){const d=[];return d.push(u),URL.createObjectURL(new Blob(d))})(ez));const o=new Worker(Qf);o.addEventListener("message",(function(u){if(n.signal&&n.signal.aborted)o.terminate();else if(u.data.progress===void 0){if(u.data.error)return a(new Error(u.data.error)),void o.terminate();s(u.data.file),o.terminate()}else n.onProgress(u.data.progress)})),o.addEventListener("error",a),n.signal&&n.signal.addEventListener("abort",(()=>{a(n.signal.reason),o.terminate()})),o.postMessage({file:e,imageCompressionLibUrl:n.libURL,options:{...n,onProgress:void 0,signal:void 0}})}))}function Kt(e,n){return new Promise((function(s,a){let o,c,u,d,m,y;if(o={...n},u=0,{onProgress:d}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,m=typeof o.useWebWorker!="boolean"||o.useWebWorker,delete o.useWebWorker,o.onProgress=b=>{u=b,typeof d=="function"&&d(u)},!(e instanceof Blob||e instanceof J8))return a(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(new Error("The file given is not an image"));if(y=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!m||typeof Worker!="function"||y)return r1(e,o).then((function(b){try{return c=b,x.call(this)}catch(S){return a(S)}}).bind(this),a);var p=(function(){try{return x.call(this)}catch(b){return a(b)}}).bind(this),g=function(b){try{return r1(e,o).then((function(S){try{return c=S,p()}catch(T){return a(T)}}),a)}catch(S){return a(S)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",tz(e,o).then((function(b){try{return c=b,p()}catch{return g()}}),g)}catch{g()}function x(){try{c.name=e.name,c.lastModified=e.lastModified}catch{}try{o.preserveExif&&e.type==="image/jpeg"&&(!o.fileType||o.fileType&&o.fileType===e.type)&&(c=yj(e,c))}catch{}return s(c)}}))}Kt.getDataUrlFromFile=Sj,Kt.getFilefromDataUrl=op,Kt.loadImage=wj,Kt.drawImageInCanvas=Tj,Kt.drawFileInCanvas=_c,Kt.canvasToFile=Fc,Kt.getExifOrientation=Aj,Kt.handleMaxWidthOrHeight=Cj,Kt.followExifOrientation=Ej,Kt.cleanupCanvasMemory=ni,Kt.isAutoOrientationInBrowser=Za,Kt.approximateBelowMaximumCanvasSizeOfBrowser=jj,Kt.copyExifWithoutOrientation=yj,Kt.getBrowserName=Xs,Kt.version="2.0.2";async function nz(e,n,s={}){const{quality:a=.7,maxSizeMB:o=.5,maxWidthOrHeight:c=1920}=s,u=await iz(),d=await sz(),m=await Kt(d,{maxSizeMB:o,maxWidthOrHeight:c,useWebWorker:!0}),y=Date.now(),p=`${e}/${n}/${y}_${u.coords.latitude}_${u.coords.longitude}.jpg`,g=b1(D1,`delivery-photos/${p}`);return await S1(g,m,{contentType:"image/jpeg",customMetadata:{latitude:u.coords.latitude.toString(),longitude:u.coords.longitude.toString(),accuracy:u.coords.accuracy.toString(),timestamp:new Date().toISOString()}}),{url:await w1(g),coordinates:{latitude:u.coords.latitude,longitude:u.coords.longitude,accuracy:u.coords.accuracy},timestamp:new Date}}function iz(){return new Promise((e,n)=>{if(!navigator.geolocation){n(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(e,n,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}function sz(){return new Promise((e,n)=>{const s=document.createElement("input");s.type="file",s.accept="image/*",s.capture="environment",s.onchange=async a=>{var c;const o=(c=a.target.files)==null?void 0:c[0];if(!o){n(new Error("No file selected"));return}e(o)},s.onerror=()=>{n(new Error("Failed to capture photo"))},s.click()})}function az(){const e=An(),[n,s]=k.useState(null),[a,o]=k.useState(!0),[c,u]=k.useState(null),[d,m]=k.useState(!1),[y,p]=k.useState(!1);k.useEffect(()=>{const D=Qs();if(!D){e("/login");return}const q=D.onAuthStateChanged(j=>{if(!j){e("/login");return}s(j),o(!1)});return()=>q()},[e]);const{routes:g,loading:x}=VS({status:"in_progress",courierId:n==null?void 0:n.uid}),b=g[0],S=b==null?void 0:b.optimizedStops.find(D=>!D.completed),T=(b==null?void 0:b.completedJobs)||0,M=(b==null?void 0:b.totalJobs)||0,C=M>0?T/M*100:0,L=b==null?void 0:b.optimizedStops.filter(D=>!D.completed).slice(1,4),z=async()=>{if(!(!n||!S)){p(!0);try{const D=await nz(n.uid,S.jobId,{quality:.7,maxSizeMB:.5,maxWidthOrHeight:1920});u(D)}catch(D){console.error("Failed to capture photo:",D),alert("Failed to capture photo with GPS. Please try again.")}finally{p(!1)}}},O=async()=>{if(!(!b||!S||!c)){m(!0);try{const D=xt(Xe,"routes",b.routeId),q=b.optimizedStops.map(V=>V.jobId===S.jobId?{...V,completed:!0,completedAt:si(),proofOfDelivery:{photoUrl:c.url,coordinates:c.coordinates,timestamp:c.timestamp}}:V),j=T+1,N=j===M;await ii(D,{optimizedStops:q,completedJobs:j,currentStopIndex:b.currentStopIndex+1,...N&&{status:"completed",completedAt:si()}}),u(null),N&&(alert(" Route completed! Great job!"),e("/dashboard"))}catch(D){console.error("Error completing stop:",D),alert("Failed to complete stop. Please try again.")}finally{m(!1)}}},_=()=>{if(!S)return;const{lat:D,lng:q}=S.location,j=`https://www.google.com/maps/dir/?api=1&destination=${D},${q}`;window.open(j,"_blank")};return a||x?f.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[f.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Active Route"}),f.jsx(co,{children:f.jsx(uS,{lines:5})})]}):b?f.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top",children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:"Active Route"}),f.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400",children:b.area.name})]}),f.jsx(co,{children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"font-medium",children:"Progress"}),f.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[T," / ",M," stops completed"]})]}),f.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:f.jsx(Di.div,{initial:{width:0},animate:{width:`${C}%`},transition:{duration:.5},className:"bg-green-600 h-3 rounded-full"})})]})}),S&&f.jsx(co,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold mb-1",children:"Current Stop"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:S.location.address})]}),f.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full text-sm font-medium",children:S.jobType})]}),S.jobType==="food"&&S.specialRequirements&&f.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[f.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 mb-1",children:"Pickup Instructions:"}),f.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:S.specialRequirements.join(", ")})]}),f.jsxs(Di.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:_,className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[f.jsx("span",{children:""}),"Navigate to Stop"]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("p",{className:"text-sm font-medium",children:"Complete Delivery:"}),c?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("img",{src:c.url,alt:"Captured delivery proof",className:"w-full h-48 object-cover rounded-lg border border-gray-300 dark:border-gray-600"}),f.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-2",children:[f.jsx("span",{children:""}),f.jsxs("span",{children:["GPS: ",c.coordinates.latitude.toFixed(6),","," ",c.coordinates.longitude.toFixed(6)]}),f.jsx("span",{className:"text-gray-400",children:""}),f.jsxs("span",{children:["",c.coordinates.accuracy.toFixed(0),"m"]})]})]}),f.jsx(Di.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:O,disabled:d,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Completing...":" Complete Stop & Continue"})]}):f.jsxs(Di.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:z,disabled:y,className:"w-full px-4 py-3 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx("span",{children:""}),y?"Capturing...":"Capture GPS Photo"]})]})]})}),L&&L.length>0&&f.jsxs(co,{children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Upcoming Stops"}),f.jsx("div",{className:"space-y-3",children:L.map((D,q)=>f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[f.jsx("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-200 dark:bg-gray-700 rounded-full text-sm font-medium",children:T+q+2}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium truncate",children:D.location.address}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:D.jobType})]})]},D.jobId))})]})]})}):f.jsx("div",{className:"max-w-4xl mx-auto p-6",children:f.jsxs("div",{className:"text-center py-12 glass-card",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Active Route"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You don't have an active route. Accept a route to get started!"}),f.jsx(Di.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e("/routes"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"View Available Routes"})]})})}function rz(){const e=An(),{user:n,loading:s}=ys(),[a,o]=k.useState(null),[c,u]=k.useState(!0),[d,m]=k.useState(!1);k.useEffect(()=>{n?(async()=>{try{const g=await Hc(xt(Xe,"users",n.uid));g.exists()&&o(g.data())}finally{u(!1)}})():u(!1)},[n]);const y=async()=>{m(!0);try{const p=Qs();p&&(await p.signOut(),e("/login"))}catch(p){console.error("Error signing out:",p),m(!1)}};return s||c?f.jsx(Oo,{fullPage:!0,message:"Loading settings..."}):n?f.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top bg-[#F8F9FF]",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6 sm:py-10 space-y-6",children:[f.jsx("div",{className:"space-y-2",children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:" Settings & Preferences"})})}),f.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden",children:f.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-200",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Account"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[f.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Email"}),f.jsx("p",{className:"text-lg font-semibold text-gray-900 break-all",children:n.email||"N/A"})]}),f.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[f.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Account Type"}),f.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(a==null?void 0:a.role)==="courier"?" Courier":" Admin"})]})]}),(a==null?void 0:a.courierProfile)&&f.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[f.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[f.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Status"}),f.jsx("p",{className:"text-lg font-bold text-blue-900",children:a.courierProfile.isOnline?" Online":" Offline"})]}),f.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-200",children:[f.jsx("p",{className:"text-xs text-emerald-600 font-medium mb-1",children:"Completed Deliveries"}),f.jsx("p",{className:"text-lg font-bold text-emerald-900",children:a.courierProfile.completedJobs||0})]}),f.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:[f.jsx("p",{className:"text-xs text-purple-600 font-medium mb-1",children:"Today's Deliveries"}),f.jsx("p",{className:"text-lg font-bold text-purple-900",children:a.courierProfile.todayJobs||0})]})]})]})]})}),f.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden",children:f.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-200",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Delivery Settings"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs(Zt,{to:"/rate-cards",className:"flex items-center justify-between rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 px-6 py-4 font-semibold text-gray-900 hover:border-blue-300 hover:from-blue-100 hover:to-indigo-100 transition-all group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold",children:"Rate Cards & Pricing"}),f.jsx("p",{className:"text-xs text-gray-600",children:"Set your delivery rates"})]})]}),f.jsx("span",{className:"text-2xl group-hover:translate-x-1 transition-transform",children:""})]}),f.jsxs(Zt,{to:"/equipment",className:"flex items-center justify-between rounded-xl bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-200 px-6 py-4 font-semibold text-gray-900 hover:border-purple-300 hover:from-purple-100 hover:to-pink-100 transition-all group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold",children:"Equipment & Vehicle"}),f.jsx("p",{className:"text-xs text-gray-600",children:"Manage your delivery equipment"})]})]}),f.jsx("span",{className:"text-2xl group-hover:translate-x-1 transition-transform",children:""})]})]})]})}),f.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden",children:f.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-200",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Payments"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs(Zt,{to:"/earnings",className:"flex items-center justify-between rounded-xl bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-200 px-6 py-4 font-semibold text-gray-900 hover:border-emerald-300 hover:from-emerald-100 hover:to-green-100 transition-all group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold",children:"Earnings & Payouts"}),f.jsx("p",{className:"text-xs text-gray-600",children:"View your earnings history"})]})]}),f.jsx("span",{className:"text-2xl group-hover:translate-x-1 transition-transform",children:""})]}),f.jsxs(Zt,{to:"/onboarding/stripe",className:"flex items-center justify-between rounded-xl bg-gradient-to-r from-blue-50 to-cyan-50 border-2 border-blue-200 px-6 py-4 font-semibold text-gray-900 hover:border-blue-300 hover:from-blue-100 hover:to-cyan-100 transition-all group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold",children:"Stripe Connect Setup"}),f.jsx("p",{className:"text-xs text-gray-600",children:"Connect your bank account"})]})]}),f.jsx("span",{className:"text-2xl group-hover:translate-x-1 transition-transform",children:""})]})]})]})}),f.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden",children:f.jsxs("div",{className:"p-6 sm:p-8 border-b border-gray-200",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Help & Support"}),f.jsxs(Zt,{to:"/support",className:"flex items-center justify-between rounded-xl bg-gradient-to-r from-amber-50 to-orange-50 border-2 border-amber-200 px-6 py-4 font-semibold text-gray-900 hover:border-amber-300 hover:from-amber-100 hover:to-orange-100 transition-all group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-bold",children:"Contact Support"}),f.jsx("p",{className:"text-xs text-gray-600",children:"Get help with your account"})]})]}),f.jsx("span",{className:"text-2xl group-hover:translate-x-1 transition-transform",children:""})]})]})}),f.jsx("div",{className:"bg-white rounded-2xl border-2 border-red-200 overflow-hidden",children:f.jsxs("div",{className:"p-6 sm:p-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-red-900 mb-6",children:" Danger Zone"}),f.jsxs("button",{onClick:y,disabled:d,className:"w-full flex items-center justify-center gap-3 rounded-xl bg-red-500 text-white px-6 py-4 font-bold text-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg hover:shadow-xl",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsx("span",{children:d?"Signing out...":"Sign Out"})]}),f.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"You'll be logged out and returned to the login screen"})]})})]})}):(e("/login"),null)}const oz=[{category:"Getting Started",question:"How do I start accepting deliveries?",answer:"Set your status to 'Online' from the dashboard. You'll see available jobs nearby that match your vehicle type."},{category:"Getting Started",question:"What vehicles can I use?",answer:"You can deliver on foot, by bike, scooter, or car. Update your vehicle preference in your profile."},{category:"Deliveries",question:"How do I accept a job?",answer:"Go to Available Jobs, find one you want, and tap 'Accept'. You'll see pickup and dropoff details immediately."},{category:"Deliveries",question:"What if I can't complete a delivery?",answer:"Contact support immediately at support@gosenderr.com or call 1-800-SENDERR. Safety first!"},{category:"Deliveries",question:"How far are typical deliveries?",answer:"Most local deliveries are 1-5 miles. You can filter jobs by distance in the available jobs page."},{category:"Earnings",question:"When do I get paid?",answer:"Earnings are available for withdrawal once deliveries are completed. You can cash out daily with instant payout."},{category:"Earnings",question:"How are delivery fees calculated?",answer:"Base fee + distance + time. You see the full amount before accepting. Tips are added within 24 hours."},{category:"Earnings",question:"Do I keep all my tips?",answer:"Yes! 100% of customer tips go directly to you. They appear in your earnings within 24 hours of delivery."},{category:"Account",question:"How do I update my vehicle?",answer:"Go to Profile > Edit Profile. You can switch between foot, bike, scooter, or car anytime."},{category:"Account",question:"What affects my rating?",answer:"On-time deliveries, customer feedback, and communication. Maintain 4.5+ for the best job opportunities."}];function lz(){const[e,n]=k.useState("All"),[s,a]=k.useState(""),o=["All","Getting Started","Deliveries","Earnings","Account"],c=oz.filter(u=>{const d=e==="All"||u.category===e,m=s===""||u.question.toLowerCase().includes(s.toLowerCase())||u.answer.toLowerCase().includes(s.toLowerCase());return d&&m});return f.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top bg-[#F8F9FF]",children:f.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 py-6 sm:py-10 space-y-6 sm:space-y-8",children:[f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"How can we help you?"}),f.jsx("p",{className:"text-lg text-gray-600",children:"Find answers or contact support"}),f.jsx("div",{className:"max-w-2xl mx-auto",children:f.jsx("input",{type:"text",placeholder:"Search for help...",value:s,onChange:u=>a(u.target.value),className:"w-full px-6 py-4 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-lg"})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(ti,{variant:"elevated",className:"cursor-pointer hover:shadow-lg transition",onClick:()=>window.open("mailto:support@gosenderr.com"),children:f.jsxs(Mi,{className:"p-6 text-center",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Email Us"}),f.jsx("p",{className:"text-sm text-gray-500",children:"support@gosenderr.com"})]})}),f.jsx(ti,{variant:"elevated",className:"cursor-pointer hover:shadow-lg transition",onClick:()=>window.open("tel:1-800-SENDERR"),children:f.jsxs(Mi,{className:"p-6 text-center",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Call Us"}),f.jsx("p",{className:"text-sm text-gray-500",children:"1-800-SENDERR (24/7)"})]})}),f.jsx(ti,{variant:"elevated",className:"cursor-pointer hover:shadow-lg transition",children:f.jsxs(Mi,{className:"p-6 text-center",children:[f.jsx("div",{className:"text-4xl mb-3",children:""}),f.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Live Chat"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon"})]})})]}),f.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:o.map(u=>f.jsx("button",{onClick:()=>n(u),className:`px-6 py-2 rounded-full font-medium transition ${e===u?"bg-emerald-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"}`,children:u},u))}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),c.length===0?f.jsx(ti,{variant:"outlined",children:f.jsxs(Mi,{className:"py-12 text-center",children:[f.jsx("div",{className:"text-6xl mb-4",children:""}),f.jsx("p",{className:"text-gray-500",children:"No FAQs found matching your search"})]})}):c.map((u,d)=>f.jsx(ti,{variant:"elevated",children:f.jsx(Mi,{className:"p-6",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-2xl",children:""}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:u.question}),f.jsx("p",{className:"text-gray-600",children:u.answer}),f.jsx("span",{className:"inline-block mt-2 px-3 py-1 text-xs font-medium bg-emerald-50 text-emerald-700 rounded-full",children:u.category})]})]})})},d))]}),f.jsx(ti,{variant:"outlined",className:"border-red-200 bg-red-50",children:f.jsx(Mi,{className:"p-6",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("span",{className:"text-3xl",children:""}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"text-lg font-semibold text-red-900 mb-2",children:"Emergency Support"}),f.jsx("p",{className:"text-sm text-red-800 mb-3",children:"If you have an urgent issue during a delivery (accident, safety concern), call immediately:"}),f.jsx("a",{href:"tel:1-800-SENDERR",className:"inline-block px-6 py-3 rounded-xl bg-red-600 text-white font-semibold hover:bg-red-700 transition",children:" Call Emergency Line"})]})]})})})]})})}function Mj({currentRateCard:e,onSave:n}){var $,H,F,Y,E;const[s,a]=k.useState((($=e==null?void 0:e.baseFare)==null?void 0:$.toString())||"8.00"),[o,c]=k.useState(((H=e==null?void 0:e.perMile)==null?void 0:H.toString())||"2.00"),[u,d]=k.useState(((F=e==null?void 0:e.perMinute)==null?void 0:F.toString())||"0.30"),[m,y]=k.useState(((Y=e==null?void 0:e.maxPickupDistanceMiles)==null?void 0:Y.toString())||""),[p,g]=k.useState(((E=e==null?void 0:e.maxDeliveryDistanceMiles)==null?void 0:E.toString())||""),[x,b]=k.useState((e==null?void 0:e.optionalFees)||[]),[S,T]=k.useState(!1),[M,C]=k.useState(""),[L,z]=k.useState("10"),[O,_]=k.useState("20"),D=()=>{b([...x,{name:"",amount:0}])},q=A=>{b(x.filter((P,U)=>U!==A))},j=(A,P,U)=>{const I=[...x];P==="name"?I[A].name=U:I[A].amount=parseFloat(U)||0,b(I)},V=(()=>{const A=parseFloat(s)||0,P=parseFloat(L)||0,U=parseFloat(O)||0,I=parseFloat(o)||0,oe=parseFloat(u)||0,te=A,ie=P*I,Q=U*oe,ee=x.reduce((xe,Ee)=>xe+Ee.amount,0),ue=te+ie+Q+ee,de=2.5,je=ue+de;return{baseCharge:te,mileCharge:ie,timeCharge:Q,feesTotal:ee,courierEarnings:ue,platformFee:de,customerPays:je}})(),B=async A=>{A.preventDefault(),C("");const P=parseFloat(s),U=parseFloat(o),I=parseFloat(u);if(P<3){C("Base fare must be at least $3.00");return}if(U<.5){C("Per mile rate must be at least $0.50");return}if(I<.1){C("Per minute rate must be at least $0.10");return}for(const te of x){if(!te.name.trim()){C("All optional fees must have a name");return}if(te.amount<=0){C("All optional fees must have a positive amount");return}}const oe={baseFare:P,perMile:U,perMinute:I,optionalFees:x.filter(te=>te.name.trim()&&te.amount>0)};m&&(oe.maxPickupDistanceMiles=parseFloat(m)),p&&(oe.maxDeliveryDistanceMiles=parseFloat(p)),T(!0);try{await n(oe)}catch(te){C("Failed to save rate card. Please try again."),console.error(te)}finally{T(!1)}};return f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[f.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"600"},children:" Package Delivery Rate Card"}),f.jsxs("form",{onSubmit:B,children:[f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#f9fafb",borderRadius:"8px"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Base Rates"}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Base Fare (minimum $3.00)"}),f.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[f.jsx("span",{style:{marginRight:"8px",fontSize:"18px"},children:"$"}),f.jsx("input",{type:"number",step:"0.01",min:"3.00",value:s,onChange:A=>a(A.target.value),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",width:"120px"},required:!0})]})]}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Per Mile (minimum $0.50)"}),f.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[f.jsx("span",{style:{marginRight:"8px",fontSize:"18px"},children:"$"}),f.jsx("input",{type:"number",step:"0.01",min:"0.50",value:o,onChange:A=>c(A.target.value),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",width:"120px"},required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Per Minute (minimum $0.10)"}),f.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[f.jsx("span",{style:{marginRight:"8px",fontSize:"18px"},children:"$"}),f.jsx("input",{type:"number",step:"0.01",min:"0.10",value:u,onChange:A=>d(A.target.value),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",width:"120px"},required:!0})]})]})]}),f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#f9fafb",borderRadius:"8px"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Distance Limits (Optional)"}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Max Pickup Distance (miles)"}),f.jsx("input",{type:"number",step:"0.1",min:"0",placeholder:"Leave empty for unlimited",value:m,onChange:A=>y(A.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Maximum distance customers can be from pickup location"})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Max Delivery Distance (miles)"}),f.jsx("input",{type:"number",step:"0.1",min:"0",placeholder:"Leave empty for unlimited",value:p,onChange:A=>g(A.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Maximum distance between pickup and dropoff locations"})]})]}),f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#f9fafb",borderRadius:"8px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:"Optional Fees"}),f.jsx("button",{type:"button",onClick:D,style:{padding:"8px 16px",background:"#6366f1",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"+ Add Fee"})]}),x.length===0?f.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"No optional fees yet. Add fees for special services like heavy items, stairs, etc."}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:x.map((A,P)=>f.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[f.jsx("input",{type:"text",placeholder:"Fee name (e.g., Heavy Item)",value:A.name,onChange:U=>j(P,"name",U.target.value),style:{flex:1,padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsxs("div",{style:{display:"flex",alignItems:"center",width:"140px"},children:[f.jsx("span",{style:{marginRight:"8px"},children:"$"}),f.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Amount",value:A.amount||"",onChange:U=>j(P,"amount",U.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsx("button",{type:"button",onClick:()=>q(P),style:{padding:"10px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:""})]},P))})]}),f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#fef3c7",borderRadius:"8px",border:"2px solid #fbbf24"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:" Live Earnings Preview"}),f.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"16px"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Example Miles"}),f.jsx("input",{type:"number",step:"0.1",min:"0",value:L,onChange:A=>z(A.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsxs("div",{style:{flex:1},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Example Minutes"}),f.jsx("input",{type:"number",step:"1",min:"0",value:O,onChange:A=>_(A.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]})]}),f.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"6px",fontSize:"14px"},children:[f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{children:"Base:"}),f.jsxs("span",{style:{fontWeight:"600"},children:["$",V.baseCharge.toFixed(2)]})]}),f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[f.jsxs("span",{children:["Miles: ",L,"  $",o]}),f.jsxs("span",{style:{fontWeight:"600"},children:["$",V.mileCharge.toFixed(2)]})]}),f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[f.jsxs("span",{children:["Time: ",O,"  $",u]}),f.jsxs("span",{style:{fontWeight:"600"},children:["$",V.timeCharge.toFixed(2)]})]}),V.feesTotal>0&&f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{children:"Optional Fees:"}),f.jsxs("span",{style:{fontWeight:"600"},children:["+$",V.feesTotal.toFixed(2)]})]}),f.jsxs("div",{style:{borderTop:"2px solid #e5e7eb",paddingTop:"8px",marginTop:"8px"},children:[f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between",fontSize:"16px"},children:[f.jsx("span",{style:{fontWeight:"700",color:"#059669"},children:"You Earn:"}),f.jsxs("span",{style:{fontWeight:"700",color:"#059669"},children:["$",V.courierEarnings.toFixed(2)]})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#6b7280",fontSize:"13px"},children:[f.jsx("span",{children:"Customer Pays:"}),f.jsxs("span",{children:["$",V.customerPays.toFixed(2)," (+ $",V.platformFee.toFixed(2)," platform fee)"]})]})]})]})]}),M&&f.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#fee2e2",color:"#991b1b",borderRadius:"6px",fontSize:"14px"},children:M}),f.jsx("button",{type:"submit",disabled:S,style:{width:"100%",padding:"14px",background:S?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:S?"not-allowed":"pointer"},children:S?"Saving...":"Save Rate Card"})]})]})}const o1=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function Nj({currentRateCard:e,onSave:n}){var ue,de,je,xe,Ee;const[s,a]=k.useState(((ue=e==null?void 0:e.baseFare)==null?void 0:ue.toString())||"3.50"),[o,c]=k.useState(((de=e==null?void 0:e.perMile)==null?void 0:de.toString())||"1.25"),[u,d]=k.useState(((je=e==null?void 0:e.restaurantWaitPay)==null?void 0:je.toString())||"0.20"),[m,y]=k.useState(((xe=e==null?void 0:e.maxPickupDistanceMiles)==null?void 0:xe.toString())||""),[p,g]=k.useState(((Ee=e==null?void 0:e.maxDeliveryDistanceMiles)==null?void 0:Ee.toString())||""),[x,b]=k.useState((e==null?void 0:e.optionalFees)||[]),[S,T]=k.useState((e==null?void 0:e.peakHours)||[]),[M,C]=k.useState(!1),[L,z]=k.useState(""),[O,_]=k.useState("4"),[D,q]=k.useState("12"),[j,N]=k.useState("8"),[V,B]=k.useState("Friday"),[$,H]=k.useState("19:30"),F=()=>{b([...x,{name:"",amount:0}])},Y=le=>{b(x.filter((fe,ve)=>ve!==le))},E=(le,fe,ve)=>{const Ae=[...x];fe==="name"?Ae[le].name=ve:Ae[le].amount=parseFloat(ve)||0,b(Ae)},A=()=>{T([...S,{days:[],startTime:"18:00",endTime:"21:00",multiplier:1.5}])},P=le=>{T(S.filter((fe,ve)=>ve!==le))},U=(le,fe,ve)=>{const Ae=[...S];fe==="days"?Ae[le].days=ve:fe==="multiplier"?Ae[le].multiplier=parseFloat(ve)||1:Ae[le][fe]=ve,T(Ae)},I=(le,fe)=>{const ve=[...S],Ae=ve[le].days;Ae.includes(fe)?ve[le].days=Ae.filter(Ve=>Ve!==fe):ve[le].days=[...Ae,fe],T(ve)},oe=(le,fe)=>S.some(ve=>ve.days.includes(le)?fe>=ve.startTime&&fe<=ve.endTime:!1),te=(le,fe)=>{const ve=S.find(Ae=>Ae.days.includes(le)?fe>=Ae.startTime&&fe<=Ae.endTime:!1);return(ve==null?void 0:ve.multiplier)||1},Q=(()=>{const le=parseFloat(s)||0,fe=parseFloat(O)||0,ve=parseFloat(j)||0,Ae=parseFloat(o)||0,Ve=parseFloat(u)||0,Me=le,He=fe*Ae,Be=ve*Ve,tt=Me+He+Be,st=oe(V,$),Ye=te(V,$),vt=st?tt*Ye:tt,We=1.5,Te=vt+We;return{baseCharge:Me,mileCharge:He,waitCharge:Be,subtotal:tt,isPeak:st,peakMultiplier:Ye,totalWithPeak:vt,platformFee:We,customerPays:Te}})(),ee=async le=>{le.preventDefault(),z("");const fe=parseFloat(s),ve=parseFloat(o),Ae=parseFloat(u);if(fe<2.5){z("Base fare must be at least $2.50");return}if(ve<.75){z("Per mile rate must be at least $0.75");return}if(Ae<.15){z("Restaurant wait pay must be at least $0.15/min");return}for(const Me of x){if(!Me.name.trim()){z("All optional fees must have a name");return}if(Me.amount<=0){z("All optional fees must have a positive amount");return}}for(const Me of S){if(Me.days.length===0){z("All peak hour slots must have at least one day selected");return}if(!Me.startTime||!Me.endTime){z("All peak hour slots must have start and end times");return}if(Me.startTime>=Me.endTime){z("Peak hour start time must be before end time");return}if(Me.multiplier<1||Me.multiplier>2){z("Peak hour multiplier must be between 1.0 and 2.0");return}}const Ve={baseFare:fe,perMile:ve,restaurantWaitPay:Ae,optionalFees:x.filter(Me=>Me.name.trim()&&Me.amount>0),...S.length>0&&{peakHours:S}};m&&(Ve.maxPickupDistanceMiles=parseFloat(m)),p&&(Ve.maxDeliveryDistanceMiles=parseFloat(p)),C(!0);try{await n(Ve)}catch(Me){z("Failed to save rate card. Please try again."),console.error(Me)}finally{C(!1)}};return f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"20px"},children:[f.jsx("h2",{style:{marginBottom:"24px",fontSize:"24px",fontWeight:"600"},children:" Food Delivery Rate Card"}),f.jsxs("form",{onSubmit:ee,children:[f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#f9fafb",borderRadius:"8px"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Base Rates"}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Base Fare (minimum $2.50)"}),f.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[f.jsx("span",{style:{marginRight:"8px",fontSize:"18px"},children:"$"}),f.jsx("input",{type:"number",step:"0.01",min:"2.50",value:s,onChange:le=>a(le.target.value),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",width:"120px"},required:!0})]})]}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Per Mile (minimum $0.75)"}),f.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[f.jsx("span",{style:{marginRight:"8px",fontSize:"18px"},children:"$"}),f.jsx("input",{type:"number",step:"0.01",min:"0.75",value:o,onChange:le=>c(le.target.value),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",width:"120px"},required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Restaurant Wait Pay (minimum $0.15/min)"}),f.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[f.jsx("span",{style:{marginRight:"8px",fontSize:"18px"},children:"$"}),f.jsx("input",{type:"number",step:"0.01",min:"0.15",value:u,onChange:le=>d(le.target.value),style:{padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",width:"120px"},required:!0}),f.jsx("span",{style:{marginLeft:"8px",fontSize:"14px",color:"#6b7280"},children:"/min"})]})]})]}),f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#f9fafb",borderRadius:"8px"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:"Distance Limits (Optional)"}),f.jsxs("div",{style:{marginBottom:"16px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Max Pickup Distance (miles)"}),f.jsx("input",{type:"number",step:"0.1",min:"0",placeholder:"Leave empty for unlimited",value:m,onChange:le=>y(le.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Maximum distance customers can be from restaurant"})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Max Delivery Distance (miles)"}),f.jsx("input",{type:"number",step:"0.1",min:"0",placeholder:"Leave empty for unlimited",value:p,onChange:le=>g(le.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Maximum distance between restaurant and delivery location"})]})]}),f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#fef3c7",borderRadius:"8px",border:"2px solid #fbbf24"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:" Peak Hours"}),f.jsx("button",{type:"button",onClick:A,style:{padding:"8px 16px",background:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"+ Add Peak Time"})]}),S.length===0?f.jsx("p",{style:{color:"#78350f",fontSize:"14px"},children:"No peak hours configured. Add peak times to earn more during busy periods!"}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:S.map((le,fe)=>f.jsxs("div",{style:{padding:"16px",background:"white",borderRadius:"6px"},children:[f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Days"}),f.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:o1.map(ve=>f.jsx("button",{type:"button",onClick:()=>I(fe,ve),style:{padding:"6px 12px",background:le.days.includes(ve)?"#f59e0b":"#f3f4f6",color:le.days.includes(ve)?"white":"#374151",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:"pointer"},children:ve.slice(0,3)},ve))})]}),f.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Start Time"}),f.jsx("input",{type:"time",value:le.startTime,onChange:ve=>U(fe,"startTime",ve.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsxs("div",{style:{flex:1},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"End Time"}),f.jsx("input",{type:"time",value:le.endTime,onChange:ve=>U(fe,"endTime",ve.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Multiplier (1.0 - 2.0)"}),f.jsx("input",{type:"number",step:"0.1",min:"1.0",max:"2.0",value:le.multiplier,onChange:ve=>U(fe,"multiplier",ve.target.value),style:{width:"120px",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsxs("span",{style:{marginLeft:"8px",fontSize:"14px",color:"#6b7280"},children:["(",((le.multiplier-1)*100).toFixed(0),"% boost)"]})]}),f.jsx("button",{type:"button",onClick:()=>P(fe),style:{padding:"10px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Remove"})]})]},fe))})]}),f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#f9fafb",borderRadius:"8px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",margin:0},children:"Optional Fees"}),f.jsx("button",{type:"button",onClick:F,style:{padding:"8px 16px",background:"#6366f1",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"+ Add Fee"})]}),x.length===0?f.jsx("p",{style:{color:"#6b7280",fontSize:"14px"},children:"No optional fees yet. Add fees for special services."}):f.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:x.map((le,fe)=>f.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[f.jsx("input",{type:"text",placeholder:"Fee name",value:le.name,onChange:ve=>E(fe,"name",ve.target.value),style:{flex:1,padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsxs("div",{style:{display:"flex",alignItems:"center",width:"140px"},children:[f.jsx("span",{style:{marginRight:"8px"},children:"$"}),f.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Amount",value:le.amount||"",onChange:ve=>E(fe,"amount",ve.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsx("button",{type:"button",onClick:()=>Y(fe),style:{padding:"10px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:""})]},fe))})]}),f.jsxs("div",{style:{marginBottom:"24px",padding:"20px",background:"#dbeafe",borderRadius:"8px",border:"2px solid #3b82f6"},children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"16px"},children:" Live Earnings Preview"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Miles"}),f.jsx("input",{type:"number",step:"0.1",min:"0",value:O,onChange:le=>_(le.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Drive Minutes"}),f.jsx("input",{type:"number",step:"1",min:"0",value:D,onChange:le=>q(le.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Restaurant Wait (min)"}),f.jsx("input",{type:"number",step:"1",min:"0",value:j,onChange:le=>N(le.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Day & Time"}),f.jsxs("div",{style:{display:"flex",gap:"8px"},children:[f.jsx("select",{value:V,onChange:le=>B(le.target.value),style:{flex:1,padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:o1.map(le=>f.jsx("option",{value:le,children:le},le))}),f.jsx("input",{type:"time",value:$,onChange:le=>H(le.target.value),style:{flex:1,padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]})]})]}),f.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"6px",fontSize:"14px"},children:[f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{children:"Base:"}),f.jsxs("span",{style:{fontWeight:"600"},children:["$",Q.baseCharge.toFixed(2)]})]}),f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[f.jsxs("span",{children:["Miles: ",O,"  $",o]}),f.jsxs("span",{style:{fontWeight:"600"},children:["$",Q.mileCharge.toFixed(2)]})]}),f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between"},children:[f.jsxs("span",{children:["Wait: ",j,"  $",u]}),f.jsxs("span",{style:{fontWeight:"600"},children:["$",Q.waitCharge.toFixed(2)]})]}),f.jsx("div",{style:{borderTop:"1px solid #e5e7eb",paddingTop:"8px",marginTop:"8px",marginBottom:"8px"},children:f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{children:"Subtotal:"}),f.jsxs("span",{style:{fontWeight:"600"},children:["$",Q.subtotal.toFixed(2)]})]})}),Q.isPeak&&f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between",color:"#f59e0b"},children:[f.jsxs("span",{children:["Peak (",V," ",$," - ",Q.peakMultiplier,"x):"]}),f.jsxs("span",{style:{fontWeight:"700"},children:["$",Q.totalWithPeak.toFixed(2)]})]}),f.jsxs("div",{style:{borderTop:"2px solid #e5e7eb",paddingTop:"8px",marginTop:"8px"},children:[f.jsxs("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"space-between",fontSize:"16px"},children:[f.jsx("span",{style:{fontWeight:"700",color:"#059669"},children:"You Earn:"}),f.jsxs("span",{style:{fontWeight:"700",color:"#059669"},children:["$",Q.totalWithPeak.toFixed(2)]})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",color:"#6b7280",fontSize:"13px"},children:[f.jsx("span",{children:"Customer Pays:"}),f.jsxs("span",{children:["$",Q.customerPays.toFixed(2)," (+ $",Q.platformFee.toFixed(2)," platform fee)"]})]})]})]})]}),L&&f.jsx("div",{style:{marginBottom:"16px",padding:"12px",background:"#fee2e2",color:"#991b1b",borderRadius:"6px",fontSize:"14px"},children:L}),f.jsx("button",{type:"submit",disabled:M,style:{width:"100%",padding:"14px",background:M?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:M?"not-allowed":"pointer"},children:M?"Saving...":"Save Rate Card"})]})]})}function cz(){var q;const{uid:e,loading:n}=ys(),s=An(),[a,o]=k.useState(1),[c,u]=k.useState(!1),[d,m]=k.useState("car"),[y,p]=k.useState(15),[g,x]=k.useState(!1),[b,S]=k.useState(!1),[T,M]=k.useState(null),[C,L]=k.useState(null);if(n)return f.jsx(Oo,{fullPage:!0,message:"Loading your profile..."});if(!e)return s("/login"),null;const z=()=>{if(a===2&&!g&&!b){alert("Please select at least one delivery type");return}a===2?g?o(3):b&&o(4):o(a===3?b?4:5:a===4?5:a+1)},O=()=>{o(a===3&&!g||a===4&&!g?2:a===5?b?4:g?3:2:a-1)},_=async()=>{if(e){u(!0);try{console.log(" Starting onboarding submission for user:",e),console.log("Package rate card:",T),console.log("Food rate card:",C);const j={vehicleType:d,serviceRadius:y,workModes:{packagesEnabled:g,foodEnabled:b},status:"pending",createdAt:si(),updatedAt:si()};T&&(j.packageRateCard=T,console.log(" Added package rate card to profile")),C&&(j.foodRateCard=C,console.log(" Added food rate card to profile")),console.log(" Saving to Firestore...",{courierProfile:j,role:"courier"}),await v1(xt(Xe,"users",e),{courierProfile:j,role:"courier",updatedAt:si()},{merge:!0}),console.log(" Onboarding data saved successfully!"),console.log(" Navigating to Stripe onboarding..."),s("/onboarding/stripe")}catch(j){console.error(" Failed to submit onboarding:",j),alert("Failed to submit. Please try again."),u(!1)}}},D=[{value:"foot",label:" Walking",description:"~3 mph"},{value:"bike",label:" Bicycle",description:"~12 mph"},{value:"scooter",label:" Scooter",description:"~15 mph"},{value:"car",label:" Car",description:"~25 mph"},{value:"van",label:" Van",description:"Large capacity"},{value:"truck",label:" Truck",description:"Extra large"}];return f.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto bg-[#F8F9FF]",style:{padding:"20px"},children:f.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",paddingBottom:"40px"},children:[f.jsxs("div",{style:{marginBottom:"30px"},children:[f.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[1,2,3,4,5].map(j=>f.jsx("div",{style:{flex:1,height:"4px",background:j<=a?"#3b82f6":"#e5e7eb",marginRight:j<5?"8px":0,borderRadius:"2px"}},j))}),f.jsxs("p",{style:{fontSize:"14px",color:"#666",textAlign:"center"},children:["Step ",a," of 5"]})]}),a===1&&f.jsxs("div",{children:[f.jsx("h1",{style:{marginBottom:"8px",fontSize:"24px"},children:"Choose Your Vehicle"}),f.jsx("p",{style:{color:"#666",marginBottom:"20px",fontSize:"14px"},children:"Select the vehicle you'll use for deliveries"}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"20px"},children:D.map(j=>f.jsxs("button",{onClick:()=>m(j.value),style:{padding:"16px",border:`2px solid ${d===j.value?"#3b82f6":"#e5e7eb"}`,borderRadius:"12px",background:d===j.value?"#eff6ff":"white",cursor:"pointer",textAlign:"left"},children:[f.jsx("div",{style:{fontSize:"28px",marginBottom:"6px"},children:j.label.split(" ")[0]}),f.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:j.label.split(" ")[1]}),f.jsx("div",{style:{fontSize:"12px",color:"#666"},children:j.description})]},j.value))}),f.jsxs("div",{style:{marginBottom:"30px"},children:[f.jsxs("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600"},children:["Service Radius: ",y," miles"]}),f.jsx("input",{type:"range",min:"5",max:"50",step:"5",value:y,onChange:j=>p(Number(j.target.value)),style:{width:"100%"}}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px",color:"#666",marginTop:"4px"},children:[f.jsx("span",{children:"5 miles"}),f.jsx("span",{children:"50 miles"})]})]}),f.jsx("button",{onClick:z,style:{width:"100%",padding:"14px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Next "})]}),a===2&&f.jsxs("div",{children:[f.jsx("h1",{style:{marginBottom:"10px"},children:"Delivery Types"}),f.jsx("p",{style:{color:"#666",marginBottom:"30px"},children:"Choose which types of deliveries you want to accept (select at least one)"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"30px"},children:[f.jsxs("label",{style:{padding:"24px",border:`2px solid ${g?"#3b82f6":"#e5e7eb"}`,borderRadius:"12px",background:g?"#eff6ff":"white",cursor:"pointer",display:"flex",alignItems:"center"},children:[f.jsx("input",{type:"checkbox",checked:g,onChange:j=>x(j.target.checked),style:{width:"24px",height:"24px",marginRight:"16px",cursor:"pointer"}}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"24px",marginBottom:"4px"},children:""}),f.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Package Deliveries"}),f.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"Deliver packages, documents, and general items"})]})]}),f.jsxs("label",{style:{padding:"24px",border:`2px solid ${b?"#3b82f6":"#e5e7eb"}`,borderRadius:"12px",background:b?"#eff6ff":"white",cursor:"pointer",display:"flex",alignItems:"center"},children:[f.jsx("input",{type:"checkbox",checked:b,onChange:j=>S(j.target.checked),style:{width:"24px",height:"24px",marginRight:"16px",cursor:"pointer"}}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"24px",marginBottom:"4px"},children:""}),f.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Food Deliveries"}),f.jsx("div",{style:{fontSize:"14px",color:"#666"},children:"Deliver restaurant orders and food items (requires equipment)"})]})]})]}),f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("button",{onClick:O,style:{flex:1,padding:"14px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:" Back"}),f.jsx("button",{onClick:z,style:{flex:2,padding:"14px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Next "})]})]}),a===3&&g&&f.jsxs("div",{children:[f.jsx("h1",{style:{marginBottom:"10px"},children:"Package Delivery Rates"}),f.jsx("p",{style:{color:"#666",marginBottom:"30px"},children:"Set your pricing for package deliveries"}),f.jsx("div",{style:{marginBottom:"30px"},children:f.jsx(Mj,{currentRateCard:T||void 0,onSave:async j=>{M(j)}})}),f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("button",{onClick:O,style:{flex:1,padding:"14px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:" Back"}),T?f.jsx("button",{onClick:z,style:{flex:1,padding:"14px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Next "}):f.jsx("button",{onClick:()=>{x(!1),b?o(4):alert("You must enable at least one delivery type")},style:{flex:1,padding:"14px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Skip Packages"})]})]}),a===4&&b&&f.jsxs("div",{children:[f.jsx("h1",{style:{marginBottom:"10px"},children:"Food Delivery Rates"}),f.jsx("p",{style:{color:"#666",marginBottom:"30px"},children:"Set your pricing for food deliveries"}),f.jsx("div",{style:{marginBottom:"30px"},children:f.jsx(Nj,{currentRateCard:C||void 0,onSave:async j=>{L(j)}})}),f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("button",{onClick:O,style:{flex:1,padding:"14px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:" Back"}),C?f.jsx("button",{onClick:z,style:{flex:1,padding:"14px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Next "}):f.jsx("button",{onClick:()=>{S(!1),g&&T?o(5):alert("You must enable at least one delivery type")},style:{flex:1,padding:"14px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Skip Food"})]})]}),a===5&&f.jsxs("div",{children:[f.jsx("h1",{style:{marginBottom:"10px"},children:"Review Your Setup"}),f.jsx("p",{style:{color:"#666",marginBottom:"30px"},children:"Review your configuration before submitting for approval"}),f.jsxs("div",{style:{marginBottom:"30px"},children:[f.jsxs("div",{style:{padding:"20px",background:"#f9fafb",borderRadius:"12px",marginBottom:"16px"},children:[f.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"18px"},children:"Vehicle & Service Area"}),f.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[f.jsxs("p",{style:{margin:"8px 0"},children:[f.jsx("strong",{children:"Vehicle:"})," ",(q=D.find(j=>j.value===d))==null?void 0:q.label]}),f.jsxs("p",{style:{margin:"8px 0"},children:[f.jsx("strong",{children:"Service Radius:"})," ",y," miles"]})]})]}),f.jsxs("div",{style:{padding:"20px",background:"#f9fafb",borderRadius:"12px",marginBottom:"16px"},children:[f.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"18px"},children:"Delivery Types"}),f.jsxs("div",{style:{fontSize:"14px",color:"#666"},children:[g&&T&&f.jsxs("p",{style:{margin:"8px 0"},children:[" ",f.jsx("strong",{children:"Package Deliveries:"})," Base $",T.baseFare," + $",T.perMile,"/mile"]}),b&&C&&f.jsxs("p",{style:{margin:"8px 0"},children:[" ",f.jsx("strong",{children:"Food Deliveries:"})," Base $",C.baseFare," + $",C.perMile,"/mile"]})]})]}),f.jsxs("div",{style:{padding:"20px",background:"#fef3c7",border:"2px solid #fbbf24",borderRadius:"12px"},children:[f.jsx("div",{style:{fontWeight:"600",color:"#92400e",marginBottom:"8px"},children:" Admin Review Required"}),f.jsx("div",{style:{fontSize:"14px",color:"#78350f"},children:"Your courier profile will be reviewed by our admin team. You'll receive a notification once approved and can start accepting deliveries."})]})]}),f.jsxs("div",{style:{display:"flex",gap:"12px"},children:[f.jsx("button",{onClick:O,disabled:c,style:{flex:1,padding:"14px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:c?"not-allowed":"pointer",opacity:c?.5:1},children:" Back"}),f.jsx("button",{onClick:_,disabled:c,style:{flex:2,padding:"14px",background:c?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"600",cursor:c?"not-allowed":"pointer"},children:c?"Submitting...":"Submit for Review "})]})]})]})})}C1(R1,"createPaymentIntent");const uz=C1(R1,"stripeConnect");async function dz(e){try{return(await uz(e)).data}catch(n){throw console.error("Error creating Stripe Connect link:",n),new Error(n.message||"Failed to create Stripe Connect link")}}function fz(){const e=An(),[n,s]=k.useState(!0),[a,o]=k.useState(!1),[c,u]=k.useState(null),[d,m]=k.useState(null),[y,p]=k.useState(null);k.useEffect(()=>{const T=Qs();if(!T){e("/login");return}const M=T.onAuthStateChanged(async C=>{if(!C){e("/login");return}p(C.uid);try{const L=await Hc(xt(Xe,"users",C.uid));if(L.exists()){const z=L.data();m(z.courierProfile||{})}}catch(L){console.error("Failed to load courier profile:",L),u("Failed to load profile.")}finally{s(!1)}});return()=>M()},[e]);const g=async()=>{if(y){o(!0),u(null);try{const T=window.location.origin,M=await dz({accountId:(d==null?void 0:d.stripeConnectAccountId)||null,refreshUrl:`${T}/onboarding/stripe`,returnUrl:`${T}/onboarding/stripe?success=1`});d!=null&&d.stripeConnectAccountId||(await ii(xt(Xe,"users",y),{"courierProfile.stripeConnectAccountId":M.accountId,updatedAt:si()}),m({...d,stripeConnectAccountId:M.accountId})),window.location.href=M.url}catch(T){console.error("Stripe connect error:",T),u(T.message||"Stripe onboarding failed")}finally{o(!1)}}},x=()=>{e("/dashboard")},b=()=>{e("/dashboard")};if(n)return f.jsx("div",{className:"min-h-screen bg-[#F8F9FF] flex items-center justify-center",children:f.jsx("div",{className:"animate-pulse text-gray-500",children:"Loading..."})});const S=!!(d!=null&&d.stripeConnectAccountId);return f.jsx("div",{className:"min-h-screen bg-[#F8F9FF] px-6 py-10",children:f.jsx("div",{className:"max-w-3xl mx-auto space-y-6",children:f.jsxs(ti,{variant:"elevated",children:[f.jsx(RS,{children:f.jsx(kS,{children:" Get Paid with Stripe"})}),f.jsx(Mi,{children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-gray-600 text-sm",children:"Connect your Stripe account to receive automatic payouts after completing deliveries."}),f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[f.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Benefits:"}),f.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[f.jsx("li",{children:" Instant payouts after delivery completion"}),f.jsx("li",{children:" Secure payments via Stripe"}),f.jsx("li",{children:" Track all your earnings in one place"}),f.jsx("li",{children:" Direct deposit to your bank account"})]})]}),S?f.jsx("div",{className:"rounded-xl bg-green-50 border border-green-200 p-4 text-sm text-green-700",children:" Stripe account connected! You're all set to receive payments."}):f.jsx("div",{className:"rounded-xl bg-yellow-50 border border-yellow-200 p-4 text-sm text-yellow-800",children:" No Stripe account connected. Connect now to start earning!"}),c&&f.jsxs("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4 text-sm text-red-700",children:[" ",c]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:g,disabled:a,className:"flex-1 rounded-xl bg-purple-600 text-white py-3 font-semibold hover:bg-purple-700 transition disabled:opacity-60",children:a?"Connecting...":S?"Update Stripe Account":"Connect with Stripe"}),!S&&f.jsx("button",{onClick:x,className:"px-6 rounded-xl bg-gray-200 text-gray-700 py-3 font-semibold hover:bg-gray-300 transition",children:"Skip for Now"})]}),S&&f.jsx("button",{onClick:b,className:"w-full rounded-xl bg-gray-100 text-gray-700 py-3 font-semibold hover:bg-gray-200 transition",children:"Go to Dashboard"}),f.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"By connecting with Stripe, you agree to Stripe's terms of service. Payouts are typically processed within 2 business days after delivery completion."})]})})]})})})}function hz(){const e=An();YA();const[n,s]=k.useState(!0),[a,o]=k.useState(!1),[c,u]=k.useState("view"),[d,m]=k.useState(null),[y,p]=k.useState(null),[g,x]=k.useState(!1),[b,S]=k.useState(!1),[T,M]=k.useState(null);k.useEffect(()=>{const D=Qs();if(!D){e("/login");return}const q=D.onAuthStateChanged(async j=>{var V,B;if(!j){e("/login");return}M(j);const N=await Hc(xt(Xe,"users",j.uid));if(N.exists()){const H=N.data().courierProfile;H&&(m(H.packageRateCard||null),p(H.foodRateCard||null),x(((V=H.workModes)==null?void 0:V.packagesEnabled)||!1),S(((B=H.workModes)==null?void 0:B.foodEnabled)||!1))}s(!1)});return()=>q()},[e]);const C=async D=>{if(T){o(!0);try{await ii(xt(Xe,"users",T.uid),{"courierProfile.packageRateCard":D,"courierProfile.workModes.packagesEnabled":!0}),m(D),x(!0),u("view")}finally{o(!1)}}},L=async D=>{if(T){o(!0);try{await ii(xt(Xe,"users",T.uid),{"courierProfile.foodRateCard":D,"courierProfile.workModes.foodEnabled":!0}),p(D),S(!0),u("view")}finally{o(!1)}}},z=async()=>{if(!T||!d)return;const D=!g;await ii(xt(Xe,"users",T.uid),{"courierProfile.workModes.packagesEnabled":D}),x(D)},O=async()=>{if(!T||!y)return;const D=!b;await ii(xt(Xe,"users",T.uid),{"courierProfile.workModes.foodEnabled":D}),S(D)};if(n)return f.jsx(Oo,{fullPage:!0,message:"Loading rate cards..."});if(c==="edit-package")return f.jsxs("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top bg-white",children:[f.jsx(Mj,{currentRateCard:d||void 0,onSave:C}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6 border-t border-gray-200",children:f.jsx("button",{onClick:()=>u("view"),disabled:a,className:"w-full px-4 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 disabled:opacity-50 transition-colors",children:" Back to Rate Cards"})})]});if(c==="edit-food")return f.jsxs("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top bg-white",children:[f.jsx(Nj,{currentRateCard:y||void 0,onSave:L}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6 border-t border-gray-200",children:f.jsx("button",{onClick:()=>u("view"),disabled:a,className:"w-full px-4 py-3 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 disabled:opacity-50 transition-colors",children:" Back to Rate Cards"})})]});const _=d||y;return f.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top bg-[#F8F9FF]",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 py-6 sm:py-10 space-y-6",children:[f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:" Rate Cards & Pricing"}),f.jsx("p",{className:"text-base text-gray-600 mt-2",children:"Set your rates and control which delivery types you accept"})]}),f.jsx("button",{onClick:()=>e("/settings"),className:"text-2xl hover:scale-110 transition-transform",children:""})]})}),_&&f.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-2",children:[f.jsxs("div",{className:`rounded-xl p-4 ${g?"bg-emerald-50 border-2 border-emerald-300":"bg-gray-50 border-2 border-gray-200"}`,children:[f.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Package Delivery"}),f.jsx("div",{className:`text-xl font-bold ${g?"text-emerald-700":"text-gray-500"}`,children:g?" Active":" Paused"})]}),f.jsxs("div",{className:`rounded-xl p-4 ${b?"bg-orange-50 border-2 border-orange-300":"bg-gray-50 border-2 border-gray-200"}`,children:[f.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Food Delivery"}),f.jsx("div",{className:`text-xl font-bold ${b?"text-orange-700":"text-gray-500"}`,children:b?" Active":" Paused"})]})]}),f.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden hover:border-gray-300 transition-colors shadow-sm",children:f.jsxs("div",{className:"p-6 sm:p-8",children:[f.jsx("div",{className:"flex items-start justify-between gap-4 mb-6",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"text-3xl",children:""}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Package Delivery"})]}),f.jsx("p",{className:"text-sm text-gray-600",children:"Set rates and manage package delivery jobs"})]})}),d?f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[f.jsx("div",{className:"text-sm text-gray-600 mb-3 font-medium",children:"Current Rates & Limits"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-700",children:"Base Fare:"}),f.jsxs("span",{className:"font-bold text-gray-900",children:["$",d.baseFare.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-700",children:"Per Mile:"}),f.jsxs("span",{className:"font-bold text-gray-900",children:["$",d.perMile.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-700",children:"Per Minute:"}),f.jsxs("span",{className:"font-bold text-gray-900",children:["$",d.perMinute.toFixed(2)]})]}),f.jsxs("div",{className:"pt-2 border-t border-blue-300",children:[f.jsx("div",{className:"text-xs text-gray-600 mb-2 font-medium",children:"Distance Limits:"}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-700",children:"Max Pickup Distance:"}),f.jsx("span",{className:"font-semibold",children:d.maxPickupDistanceMiles?`${d.maxPickupDistanceMiles} mi`:"Unlimited"})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-700",children:"Max Delivery Distance:"}),f.jsx("span",{className:"font-semibold",children:d.maxDeliveryDistanceMiles?`${d.maxDeliveryDistanceMiles} mi`:"Unlimited"})]})]})]}),d.optionalFees&&d.optionalFees.length>0&&f.jsxs("div",{className:"pt-2 border-t border-blue-200",children:[f.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Optional Fees:"}),f.jsx("div",{className:"space-y-1",children:d.optionalFees.map((D,q)=>f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsxs("span",{className:"text-gray-700",children:[D.name,":"]}),f.jsxs("span",{className:"font-semibold",children:["$",D.amount.toFixed(2)]})]},q))})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:z,className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-colors ${g?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:g?" Accept Packages":" Pause Packages"}),f.jsx("button",{onClick:()=>u("edit-package"),className:"flex-1 py-3 px-4 rounded-xl font-semibold bg-gray-100 text-gray-900 hover:bg-gray-200 transition-colors",children:" Edit Rates"})]})]}):f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 text-center border-2 border-dashed border-blue-300",children:[f.jsx("p",{className:"text-gray-600 mb-4",children:"No rate card set up yet"}),f.jsx("button",{onClick:()=>u("edit-package"),className:"inline-block px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:"+ Set Up Package Delivery"})]})})]})}),f.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden hover:border-gray-300 transition-colors shadow-sm",children:f.jsxs("div",{className:"p-6 sm:p-8",children:[f.jsx("div",{className:"flex items-start justify-between gap-4 mb-6",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"text-3xl",children:""}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Food Delivery"})]}),f.jsx("p",{className:"text-sm text-gray-600",children:"Set rates for restaurant and food deliveries"})]})}),y?f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-4 border border-amber-200",children:[f.jsx("div",{className:"text-sm text-gray-600 mb-3 font-medium",children:"Current Rates & Limits"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-700",children:"Base Fare:"}),f.jsxs("span",{className:"font-bold text-gray-900",children:["$",y.baseFare.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-700",children:"Per Mile:"}),f.jsxs("span",{className:"font-bold text-gray-900",children:["$",y.perMile.toFixed(2)]})]}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("span",{className:"text-gray-700",children:"Restaurant Wait Pay:"}),f.jsxs("span",{className:"font-bold text-gray-900",children:["$",y.restaurantWaitPay.toFixed(2),"/min"]})]}),f.jsxs("div",{className:"pt-2 border-t border-amber-200",children:[f.jsx("div",{className:"text-xs text-gray-600 mb-2 font-medium",children:"Distance Limits:"}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-700",children:"Max Pickup Distance:"}),f.jsx("span",{className:"font-semibold",children:y.maxPickupDistanceMiles?`${y.maxPickupDistanceMiles} mi`:"Unlimited"})]}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-gray-700",children:"Max Delivery Distance:"}),f.jsx("span",{className:"font-semibold",children:y.maxDeliveryDistanceMiles?`${y.maxDeliveryDistanceMiles} mi`:"Unlimited"})]})]})]}),y.peakHours&&y.peakHours.length>0&&f.jsxs("div",{className:"pt-2 border-t border-amber-200",children:[f.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Peak Hours:"}),f.jsx("div",{className:"space-y-1",children:y.peakHours.map((D,q)=>f.jsxs("div",{className:"text-sm text-gray-700",children:[D.days.join(", ")," ",D.startTime,"-",D.endTime," (",D.multiplier,"x)"]},q))})]}),y.optionalFees&&y.optionalFees.length>0&&f.jsxs("div",{className:"pt-2 border-t border-amber-200",children:[f.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Optional Fees:"}),f.jsx("div",{className:"space-y-1",children:y.optionalFees.map((D,q)=>f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsxs("span",{className:"text-gray-700",children:[D.name,":"]}),f.jsxs("span",{className:"font-semibold",children:["$",D.amount.toFixed(2)]})]},q))})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:O,className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-colors ${b?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:b?" Accept Food Orders":" Pause Food Orders"}),f.jsx("button",{onClick:()=>u("edit-food"),className:"flex-1 py-3 px-4 rounded-xl font-semibold bg-gray-100 text-gray-900 hover:bg-gray-200 transition-colors",children:" Edit Rates"})]})]}):f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{className:"bg-orange-50 rounded-xl p-6 text-center border-2 border-dashed border-orange-300",children:[f.jsx("p",{className:"text-gray-600 mb-4",children:"No rate card set up yet"}),f.jsx("button",{onClick:()=>u("edit-food"),className:"inline-block px-6 py-3 bg-orange-600 text-white rounded-xl font-semibold hover:bg-orange-700 transition-colors",children:"+ Set Up Food Delivery"})]})})]})}),!_&&f.jsx("div",{className:"bg-amber-50 border-2 border-amber-300 rounded-2xl p-6",children:f.jsxs("div",{className:"flex gap-3",children:[f.jsx("span",{className:"text-2xl flex-shrink-0",children:""}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-bold text-amber-900 mb-1",children:"Get Started"}),f.jsx("p",{className:"text-sm text-amber-800",children:"Set up at least one rate card to start accepting deliveries. You can enable/disable delivery types anytime."})]})]})})]})})}const l1={insulated_bag:{label:"Insulated Bag",icon:"",description:"For keeping food fresh during delivery",category:"food"},cooler:{label:"Cooler",icon:"",description:"For cold and frozen food items",category:"food"},hot_bag:{label:"Hot Bag",icon:"",description:"For keeping hot food warm",category:"food"},drink_carrier:{label:"Drink Carrier",icon:"",description:"For safely transporting drinks",category:"food"},dolly:{label:"Dolly / Hand Truck",icon:"",description:"For moving heavy packages",category:"package"},straps:{label:"Straps",icon:"",description:"For securing items during transport",category:"package"},furniture_blankets:{label:"Furniture Blankets",icon:"",description:"For protecting furniture",category:"package"}};function $s(){return{has:!1,approved:!1}}function mz(){const e=An(),[n,s]=k.useState(!0),[a,o]=k.useState(null),[c,u]=k.useState(null),[d,m]=k.useState(null);k.useEffect(()=>{const b=Qs();if(!b){e("/login");return}const S=b.onAuthStateChanged(async T=>{if(!T){e("/login");return}u(T);const M=await Hc(xt(Xe,"users",T.uid));if(M.exists()){const L=M.data().courierProfile;if(L!=null&&L.equipment)o(L.equipment);else{const z={insulated_bag:$s(),cooler:$s(),hot_bag:$s(),drink_carrier:$s(),dolly:$s(),straps:$s(),furniture_blankets:$s()};o(z)}}s(!1)});return()=>S()},[e]);const y=async(b,S)=>{if(!(!c||!a)){m(b);try{const T=b1(D1,`equipment/${c.uid}/${b}.jpg`);await S1(T,S);const C={has:!0,photoUrl:await w1(T),approved:!1};await ii(xt(Xe,"users",c.uid),{[`courierProfile.equipment.${b}`]:C}),o({...a,[b]:C})}catch(T){console.error("Failed to upload equipment photo:",T),alert("Failed to upload photo. Please try again.")}finally{m(null)}}},p=b=>!b||!b.has?{text:" Not Uploaded",color:"#9ca3af",bgColor:"#f3f4f6"}:b.approved?{text:" Approved",color:"#059669",bgColor:"#d1fae5"}:b.rejectedReason?{text:" Rejected",color:"#dc2626",bgColor:"#fee2e2"}:{text:" Pending Review",color:"#d97706",bgColor:"#fef3c7"};if(n)return f.jsx(Oo,{fullPage:!0,message:"Loading equipment..."});if(!a)return f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:f.jsx("p",{children:"No equipment data found"})});const g=["insulated_bag","cooler","hot_bag","drink_carrier"],x=["dolly","straps","furniture_blankets"];return f.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top bg-[#F8F9FF]",children:f.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"20px"},children:[f.jsx("h1",{style:{marginBottom:"16px",fontSize:"28px",fontWeight:"600"},children:"Equipment & Badges"}),f.jsx("p",{style:{marginBottom:"32px",color:"#6b7280",fontSize:"16px"},children:"Upload photos of your equipment to earn badges and qualify for more delivery types. All equipment must be approved by our team before you can earn badges."}),f.jsxs("div",{style:{marginBottom:"32px"},children:[f.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px"},children:" Food Delivery Equipment"}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:g.map(b=>{const S=l1[b],T=a[b],M=p(T),C=d===b;return f.jsxs("div",{style:{padding:"20px",background:"white",border:"2px solid #e5e7eb",borderRadius:"12px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[f.jsx("span",{style:{fontSize:"32px",marginRight:"12px"},children:S.icon}),f.jsxs("div",{children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:S.label}),f.jsx("p",{style:{fontSize:"13px",color:"#6b7280"},children:S.description})]})]}),f.jsx("div",{style:{padding:"8px 12px",background:M.bgColor,color:M.color,borderRadius:"6px",fontSize:"14px",fontWeight:"500",marginBottom:"12px"},children:M.text}),(T==null?void 0:T.rejectedReason)&&f.jsxs("div",{style:{padding:"12px",background:"#fee2e2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",marginBottom:"12px"},children:[f.jsx("strong",{children:"Reason:"})," ",T.rejectedReason]}),(T==null?void 0:T.photoUrl)&&f.jsx("div",{style:{marginBottom:"12px"},children:f.jsx("img",{src:T.photoUrl,alt:S.label,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px"}})}),f.jsxs("label",{style:{display:"block",padding:"12px",background:C?"#9ca3af":"#6366f1",color:"white",textAlign:"center",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:C?"not-allowed":"pointer"},children:[C?"Uploading...":T!=null&&T.photoUrl?"Replace Photo":"Upload Photo",f.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:L=>{var O;const z=(O=L.target.files)==null?void 0:O[0];z&&y(b,z)},style:{display:"none"},disabled:C})]})]},b)})})]}),f.jsxs("div",{children:[f.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",marginBottom:"16px"},children:" Package Delivery Equipment"}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:x.map(b=>{const S=l1[b],T=a[b],M=p(T),C=d===b;return f.jsxs("div",{style:{padding:"20px",background:"white",border:"2px solid #e5e7eb",borderRadius:"12px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[f.jsx("span",{style:{fontSize:"32px",marginRight:"12px"},children:S.icon}),f.jsxs("div",{children:[f.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"4px"},children:S.label}),f.jsx("p",{style:{fontSize:"13px",color:"#6b7280"},children:S.description})]})]}),f.jsx("div",{style:{padding:"8px 12px",background:M.bgColor,color:M.color,borderRadius:"6px",fontSize:"14px",fontWeight:"500",marginBottom:"12px"},children:M.text}),(T==null?void 0:T.rejectedReason)&&f.jsxs("div",{style:{padding:"12px",background:"#fee2e2",color:"#991b1b",borderRadius:"6px",fontSize:"13px",marginBottom:"12px"},children:[f.jsx("strong",{children:"Reason:"})," ",T.rejectedReason]}),(T==null?void 0:T.photoUrl)&&f.jsx("div",{style:{marginBottom:"12px"},children:f.jsx("img",{src:T.photoUrl,alt:S.label,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px"}})}),f.jsxs("label",{style:{display:"block",padding:"12px",background:C?"#9ca3af":"#6366f1",color:"white",textAlign:"center",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:C?"not-allowed":"pointer"},children:[C?"Uploading...":T!=null&&T.photoUrl?"Replace Photo":"Upload Photo",f.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:L=>{var O;const z=(O=L.target.files)==null?void 0:O[0];z&&y(b,z)},style:{display:"none"},disabled:C})]})]},b)})})]})]})})}function pz(){var s,a;const{userDoc:e}=mS(),n=((s=e==null?void 0:e.courierProfile)==null?void 0:s.packageRateCard)||((a=e==null?void 0:e.courierProfile)==null?void 0:a.foodRateCard);return f.jsx("div",{style:{padding:"50px",maxWidth:"800px",margin:"0 auto"},children:f.jsxs("div",{style:{marginBottom:"30px"},children:[f.jsx("h1",{children:"Courier Setup"}),n?f.jsxs(f.Fragment,{children:[f.jsx("p",{style:{color:"#10b981",marginTop:"10px",fontWeight:"600"},children:" Your rate cards are already set up!"}),f.jsx("p",{style:{color:"#666",marginTop:"10px"},children:"You can edit your rates or manage your delivery preferences anytime."}),f.jsxs("div",{style:{marginTop:"30px",display:"flex",gap:"15px"},children:[f.jsx(Zt,{to:"/rate-cards",style:{padding:"12px 24px",background:"#3b82f6",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"600",display:"inline-block"},children:"Edit Rate Cards"}),f.jsx(Zt,{to:"/dashboard",style:{padding:"12px 24px",background:"#10b981",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"600",display:"inline-block"},children:"Go to Dashboard"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("p",{style:{color:"#dc2626",marginTop:"10px",fontWeight:"600"},children:" You need to set up your rate cards first"}),f.jsx("p",{style:{color:"#666",marginTop:"10px"},children:"Before you can start accepting deliveries, you need to configure your pricing and choose which types of deliveries you want to accept (packages, food, or both)."}),f.jsx(Zt,{to:"/rate-cards",style:{marginTop:"30px",padding:"12px 24px",background:"#3b82f6",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"600",display:"inline-block"},children:"Set Up Rate Cards "})]})]})})}function uc({title:e,value:n,change:s,icon:a,variant:o="default",suffix:c,className:u}){const d={default:"from-blue-50 to-blue-100",success:"from-green-50 to-green-100",warning:"from-orange-50 to-orange-100",purple:"from-purple-50 to-purple-100"},m={default:"text-blue-600",success:"text-green-600",warning:"text-orange-600",purple:"text-purple-600"},y={default:"text-blue-700",success:"text-green-700",warning:"text-orange-700",purple:"text-purple-700"};return f.jsx(ti,{className:us("bg-gradient-to-br",d[o],"border-none",u),padding:"md",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),f.jsxs("div",{className:"flex items-baseline gap-2",children:[f.jsx("p",{className:us("text-4xl font-bold",y[o]),children:n}),c&&f.jsx("span",{className:"text-lg text-gray-500",children:c})]}),s&&f.jsxs("div",{className:"mt-2 flex items-center gap-1",children:[f.jsxs("span",{className:us("text-xs font-medium",s.trend==="up"?"text-green-600":"text-red-600"),children:[s.trend==="up"?"":""," ",s.value]}),f.jsx("span",{className:"text-xs text-gray-500",children:"from last period"})]})]}),a&&f.jsx("div",{className:us("text-5xl opacity-20",m[o]),children:a})]})})}function gz(){const{uid:e}=ys(),[n,s]=k.useState(!0),[a,o]=k.useState([]),[c,u]=k.useState({totalEarnings:0,completedJobs:0,pendingPayout:0,avgPerJob:0});k.useEffect(()=>{e&&d()},[e]);const d=async()=>{if(e)try{const m=bc(vc(Xe,"jobs"),Is("courierUid","==",e),Is("status","==","completed")),p=(await sx(m)).docs.map(M=>({id:M.id,...M.data()})),g=p.reduce((M,C)=>M+(C.courierFee||0),0),x=p.length,b=x>0?g/x:0;let S=[];try{const M=bc(vc(Xe,"payouts"),Is("courierUid","==",e));S=(await sx(M)).docs.map(L=>({id:L.id,...L.data()}))}catch{console.log("Payouts collection not found or accessible, skipping...")}const T=S.filter(M=>M.status==="pending").reduce((M,C)=>M+C.amount,0);u({totalEarnings:g,completedJobs:x,pendingPayout:T,avgPerJob:b}),o(S)}catch(m){console.error("Error loading earnings:",m)}finally{s(!1)}};return n?f.jsx("div",{className:"min-h-screen bg-[#F8F9FF] p-6",children:f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Earnings"}),f.jsxs("div",{className:"animate-pulse space-y-4",children:[f.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"}),f.jsx("div",{className:"h-24 bg-gray-200 rounded-xl"})]})]})}):f.jsx("div",{className:"fixed inset-0 w-screen h-screen overflow-y-auto pb-24 safe-top bg-[#F8F9FF]",children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4 sm:p-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:" Earnings"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[f.jsx(uc,{icon:"",title:"Total Earned",value:`$${c.totalEarnings.toFixed(2)}`}),f.jsx(uc,{icon:"",title:"Completed Jobs",value:c.completedJobs.toString()}),f.jsx(uc,{icon:"",title:"Pending Payout",value:`$${c.pendingPayout.toFixed(2)}`}),f.jsx(uc,{icon:"",title:"Avg per Job",value:`$${c.avgPerJob.toFixed(2)}`})]}),f.jsxs(ti,{variant:"elevated",children:[f.jsx(RS,{children:f.jsx(kS,{children:"Payout History"})}),f.jsx(Mi,{children:a.length===0?f.jsxs("div",{className:"text-center py-8 text-gray-500",children:[f.jsx("p",{className:"text-4xl mb-3",children:""}),f.jsx("p",{children:"No payouts yet"}),f.jsx("p",{className:"text-sm mt-2",children:"Complete jobs to start earning!"})]}):f.jsx("div",{className:"space-y-3",children:a.map(m=>{var y,p,g;return f.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium text-gray-900",children:["$",m.amount.toFixed(2)]}),f.jsx("p",{className:"text-sm text-gray-500",children:((g=(p=(y=m.date)==null?void 0:y.toDate)==null?void 0:p.call(y))==null?void 0:g.toLocaleDateString())||""})]}),f.jsx("div",{className:"text-right",children:f.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${m.status==="paid"?"bg-emerald-100 text-emerald-700":m.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:m.status})})]},m.id)})})})]}),f.jsx("div",{className:"mt-6 p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:f.jsxs("p",{className:"text-sm text-emerald-800",children:[f.jsx("strong",{children:" Tip:"})," Payouts are processed weekly via Stripe Connect. Make sure your account is set up in Settings."]})})]})})}function yz(){const{user:e,loading:n}=Z3(),s=Hh();return k.useEffect(()=>{pn.log("route",`ProtectedRoute - Path: ${s.pathname}`,{hasUser:!!e,loading:n,pathname:s.pathname,search:s.search})},[s.pathname,e,n]),n?(pn.log("render","ProtectedRoute showing loading spinner"),f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})):e?(pn.log("render","ProtectedRoute rendering Outlet"),f.jsx(u1,{})):(pn.log("route","ProtectedRoute redirecting to login - no user"),f.jsx(d1,{to:"/login",replace:!0}))}function xz(){return k.useEffect(()=>{pn.log("info","Courier App mounted",{url:window.location.href,timestamp:new Date().toISOString(),userAgent:navigator.userAgent});const e=setTimeout(()=>{console.log(`

 Debug report ready! Run in console:`),console.log("  printDebugReport()    - Print to console"),console.log("  downloadDebugReport() - Download as .md file")},5e3);return()=>clearTimeout(e)},[]),f.jsx(t6,{children:f.jsx(W3,{children:f.jsx(Q3,{children:f.jsxs(XA,{children:[f.jsx(zt,{path:"/login",element:f.jsx(JE,{})}),f.jsx(zt,{path:"/signup",element:f.jsx(eM,{})}),f.jsx(zt,{element:f.jsx(yz,{}),children:f.jsxs(zt,{element:f.jsx(s6,{}),children:[f.jsx(zt,{path:"/",element:f.jsx(d1,{to:"/dashboard",replace:!0})}),f.jsx(zt,{path:"/dashboard",element:f.jsx(QE,{})}),f.jsx(zt,{path:"/routes",element:f.jsx(a1,{})}),f.jsx(zt,{path:"/active-route",element:f.jsx(az,{})}),f.jsx(zt,{path:"/jobs/:jobId",element:f.jsx(aN,{})}),f.jsx(zt,{path:"/jobs",element:f.jsx(a1,{})}),f.jsx(zt,{path:"/navigation/active",element:f.jsx(lN,{})}),f.jsx(zt,{path:"/earnings",element:f.jsx(gz,{})}),f.jsx(zt,{path:"/rate-cards",element:f.jsx(hz,{})}),f.jsx(zt,{path:"/equipment",element:f.jsx(mz,{})}),f.jsx(zt,{path:"/setup",element:f.jsx(pz,{})}),f.jsx(zt,{path:"/settings",element:f.jsx(rz,{})}),f.jsx(zt,{path:"/support",element:f.jsx(lz,{})}),f.jsx(zt,{path:"/onboarding",element:f.jsx(cz,{})}),f.jsx(zt,{path:"/onboarding/stripe",element:f.jsx(fz,{})})]})})]})})})})}x3.createRoot(document.getElementById("root")).render(f.jsx(IA.StrictMode,{children:f.jsx(KA,{children:f.jsx(xz,{})})}));
//# sourceMappingURL=index-C1pazYKN.js.map
